I"À+<ul id="markdown-toc">
  <li><a href="#æµè§ˆå™¨è¯·æ±‚é¡µé¢çš„ä¸åŒæ–¹å¼" id="markdown-toc-æµè§ˆå™¨è¯·æ±‚é¡µé¢çš„ä¸åŒæ–¹å¼">æµè§ˆå™¨è¯·æ±‚é¡µé¢çš„ä¸åŒæ–¹å¼</a></li>
  <li><a href="#cache-controlä¸expireæ¯”è¾ƒ" id="markdown-toc-cache-controlä¸expireæ¯”è¾ƒ">Cache-Controlä¸Expireæ¯”è¾ƒ</a></li>
  <li><a href="#doctype" id="markdown-toc-doctype">DOCTYPE</a></li>
  <li><a href="#meatæ ‡ç­¾çš„http-equivå±æ€§" id="markdown-toc-meatæ ‡ç­¾çš„http-equivå±æ€§">meatæ ‡ç­¾çš„http-equivå±æ€§</a></li>
  <li><a href="#cssé€‰æ‹©å™¨æ€»ç»“" id="markdown-toc-cssé€‰æ‹©å™¨æ€»ç»“">CSSé€‰æ‹©å™¨æ€»ç»“</a></li>
  <li><a href="#selfthis" id="markdown-toc-selfthis">self=this</a></li>
  <li><a href="#ä½¿ç”¨-slicecallå°†å¯¹è±¡è½¬æ¢ä¸ºæ•°ç»„çš„å±€é™æ€§" id="markdown-toc-ä½¿ç”¨-slicecallå°†å¯¹è±¡è½¬æ¢ä¸ºæ•°ç»„çš„å±€é™æ€§">ä½¿ç”¨ [].slice.callå°†å¯¹è±¡è½¬æ¢ä¸ºæ•°ç»„çš„å±€é™æ€§</a></li>
  <li><a href="#è§£å†³jqueryä¸åŒç‰ˆæœ¬ä¹‹é—´ä¸å…¶ä»–jsåº“ä¹‹é—´çš„å†²çª" id="markdown-toc-è§£å†³jqueryä¸åŒç‰ˆæœ¬ä¹‹é—´ä¸å…¶ä»–jsåº“ä¹‹é—´çš„å†²çª">è§£å†³jQueryä¸åŒç‰ˆæœ¬ä¹‹é—´ã€ä¸å…¶ä»–jsåº“ä¹‹é—´çš„å†²çª</a></li>
  <li><a href="#javascriptä¸­__proto__ä¸prototypeçš„å…³ç³»" id="markdown-toc-javascriptä¸­__proto__ä¸prototypeçš„å…³ç³»">JavaScriptä¸­__proto__ä¸prototypeçš„å…³ç³»</a></li>
  <li><a href="#jsä¸­å’Œçš„è¿”å›å€¼" id="markdown-toc-jsä¸­å’Œçš„è¿”å›å€¼">JSä¸­{}+[]å’Œ[]+{}çš„è¿”å›å€¼</a></li>
  <li><a href="#jså¯¹è±¡éå†é¡ºåºé—®é¢˜" id="markdown-toc-jså¯¹è±¡éå†é¡ºåºé—®é¢˜">jså¯¹è±¡éå†é¡ºåºé—®é¢˜</a></li>
  <li><a href="#jsonpçš„åŸç†ç†è§£" id="markdown-toc-jsonpçš„åŸç†ç†è§£">JSONPçš„åŸç†ç†è§£</a></li>
  <li><a href="#amdè§„èŒƒrequirejsç†è§£" id="markdown-toc-amdè§„èŒƒrequirejsç†è§£">AMDè§„èŒƒã€requireJSç†è§£</a></li>
  <li><a href="#callapply" id="markdown-toc-callapply">call()ã€apply()</a></li>
  <li><a href="#åŒæºç­–ç•¥" id="markdown-toc-åŒæºç­–ç•¥">åŒæºç­–ç•¥</a></li>
  <li><a href="#æµè§ˆå™¨æ²™ç®±" id="markdown-toc-æµè§ˆå™¨æ²™ç®±">æµè§ˆå™¨æ²™ç®±</a></li>
  <li><a href="#ç‚¹å‡»åŠ«æŒclickjacking" id="markdown-toc-ç‚¹å‡»åŠ«æŒclickjacking">ç‚¹å‡»åŠ«æŒï¼ˆClickJackingï¼‰</a></li>
  <li><a href="#html5å¸¦æ¥çš„å®‰å…¨é—®é¢˜" id="markdown-toc-html5å¸¦æ¥çš„å®‰å…¨é—®é¢˜">HTML5å¸¦æ¥çš„å®‰å…¨é—®é¢˜</a></li>
  <li><a href="#cssç›’æ¨¡å‹" id="markdown-toc-cssç›’æ¨¡å‹">CSSç›’æ¨¡å‹</a></li>
  <li><a href="#å¤–è¾¹è·å åŠ " id="markdown-toc-å¤–è¾¹è·å åŠ ">å¤–è¾¹è·å åŠ </a></li>
  <li><a href="#csså¯è§†åŒ–æ ¼å¼æ¨¡å‹" id="markdown-toc-csså¯è§†åŒ–æ ¼å¼æ¨¡å‹">CSSå¯è§†åŒ–æ ¼å¼æ¨¡å‹</a></li>
  <li><a href="#åŒ¿åå—æ¡†å’ŒåŒ¿åè¡Œæ¡†" id="markdown-toc-åŒ¿åå—æ¡†å’ŒåŒ¿åè¡Œæ¡†">åŒ¿åå—æ¡†å’ŒåŒ¿åè¡Œæ¡†</a></li>
  <li><a href="#ç›¸å¯¹å®šä½ç»å¯¹å®šä½å›ºå®šå®šä½" id="markdown-toc-ç›¸å¯¹å®šä½ç»å¯¹å®šä½å›ºå®šå®šä½">ç›¸å¯¹å®šä½ã€ç»å¯¹å®šä½ã€å›ºå®šå®šä½</a></li>
  <li><a href="#æµ®åŠ¨" id="markdown-toc-æµ®åŠ¨">æµ®åŠ¨</a></li>
  <li><a href="#è¡Œæ¡†å’Œæ¸…ç†" id="markdown-toc-è¡Œæ¡†å’Œæ¸…ç†">è¡Œæ¡†å’Œæ¸…ç†</a></li>
  <li><a href="#cssé“¾æ¥ä¼ªç±»å®šä¹‰çš„é¡ºåº" id="markdown-toc-cssé“¾æ¥ä¼ªç±»å®šä¹‰çš„é¡ºåº">CSSé“¾æ¥ä¼ªç±»å®šä¹‰çš„é¡ºåº</a></li>
  <li><a href="#ä¸ºé“¾æ¥ç›®æ ‡åŒä¸€é¡µé¢çš„é”šç‚¹è®¾ç½®æ ·å¼" id="markdown-toc-ä¸ºé“¾æ¥ç›®æ ‡åŒä¸€é¡µé¢çš„é”šç‚¹è®¾ç½®æ ·å¼">ä¸ºé“¾æ¥ç›®æ ‡ï¼ˆåŒä¸€é¡µé¢çš„é”šç‚¹ï¼‰è®¾ç½®æ ·å¼</a></li>
  <li><a href="#ä¸ºç«™ç‚¹çš„æ‰€æœ‰ä¸‹è½½pdfæ–‡æ¡£çš„é“¾æ¥åŠ ä¸Šå›¾æ ‡" id="markdown-toc-ä¸ºç«™ç‚¹çš„æ‰€æœ‰ä¸‹è½½pdfæ–‡æ¡£çš„é“¾æ¥åŠ ä¸Šå›¾æ ‡">ä¸ºç«™ç‚¹çš„æ‰€æœ‰ä¸‹è½½.pdfæ–‡æ¡£çš„é“¾æ¥åŠ ä¸Šå›¾æ ‡</a></li>
  <li><a href="#3ç§csså¸ƒå±€æ–¹å¼" id="markdown-toc-3ç§csså¸ƒå±€æ–¹å¼">3ç§CSSå¸ƒå±€æ–¹å¼</a></li>
  <li><a href="#letå®šä¹‰å˜é‡çš„ç‰¹æ€§æ€»ç»“" id="markdown-toc-letå®šä¹‰å˜é‡çš„ç‰¹æ€§æ€»ç»“">letå®šä¹‰å˜é‡çš„ç‰¹æ€§æ€»ç»“</a></li>
  <li><a href="#es6ä¸€å…±æœ‰6ç§å£°æ˜å˜é‡çš„æ–¹æ³•" id="markdown-toc-es6ä¸€å…±æœ‰6ç§å£°æ˜å˜é‡çš„æ–¹æ³•">ES6ä¸€å…±æœ‰6ç§å£°æ˜å˜é‡çš„æ–¹æ³•</a></li>
  <li><a href="#å…¨å±€å¯¹è±¡çš„å±æ€§" id="markdown-toc-å…¨å±€å¯¹è±¡çš„å±æ€§">å…¨å±€å¯¹è±¡çš„å±æ€§</a></li>
  <li><a href="#è§£æ„èµ‹å€¼" id="markdown-toc-è§£æ„èµ‹å€¼">è§£æ„èµ‹å€¼</a></li>
  <li><a href="#æ¨¡æ¿å­—ç¬¦ä¸²" id="markdown-toc-æ¨¡æ¿å­—ç¬¦ä¸²">æ¨¡æ¿å­—ç¬¦ä¸²</a></li>
  <li><a href="#ç®­å¤´å‡½æ•°" id="markdown-toc-ç®­å¤´å‡½æ•°">ç®­å¤´å‡½æ•°</a></li>
  <li><a href="#ç®­å¤´å‡½æ•°æ²¡æœ‰è‡ªå·±çš„this" id="markdown-toc-ç®­å¤´å‡½æ•°æ²¡æœ‰è‡ªå·±çš„this">ç®­å¤´å‡½æ•°æ²¡æœ‰è‡ªå·±çš„this</a></li>
  <li><a href="#å°¾è°ƒç”¨ä¼˜åŒ–ä¸å°¾é€’å½’" id="markdown-toc-å°¾è°ƒç”¨ä¼˜åŒ–ä¸å°¾é€’å½’">å°¾è°ƒç”¨ä¼˜åŒ–ä¸å°¾é€’å½’</a></li>
  <li><a href="#å±æ€§çš„éå†" id="markdown-toc-å±æ€§çš„éå†">å±æ€§çš„éå†</a></li>
  <li><a href="#symbol" id="markdown-toc-symbol">Symbol</a></li>
  <li><a href="#äºŒè¿›åˆ¶æ•°ç»„" id="markdown-toc-äºŒè¿›åˆ¶æ•°ç»„">äºŒè¿›åˆ¶æ•°ç»„</a></li>
  <li><a href="#weaksetä¸setçš„åŒºåˆ«" id="markdown-toc-weaksetä¸setçš„åŒºåˆ«">WeakSetä¸Setçš„åŒºåˆ«</a></li>
  <li><a href="#weakmapä¸mapçš„åŒºåˆ«" id="markdown-toc-weakmapä¸mapçš„åŒºåˆ«">WeakMapä¸Mapçš„åŒºåˆ«</a></li>
  <li><a href="#iteratorçš„éå†è¿‡ç¨‹" id="markdown-toc-iteratorçš„éå†è¿‡ç¨‹">Iteratorçš„éå†è¿‡ç¨‹</a></li>
  <li><a href="#generatorå‡½æ•°ä¸yieldè¯­å¥" id="markdown-toc-generatorå‡½æ•°ä¸yieldè¯­å¥">Generatorå‡½æ•°ä¸yieldè¯­å¥</a></li>
  <li><a href="#generatorä¸åç¨‹" id="markdown-toc-generatorä¸åç¨‹">Generatorä¸åç¨‹</a></li>
  <li><a href="#promiseå¯¹è±¡" id="markdown-toc-promiseå¯¹è±¡">Promiseå¯¹è±¡</a></li>
  <li><a href="#ä¼ å€¼è°ƒç”¨ä¸ä¼ åè°ƒç”¨" id="markdown-toc-ä¼ å€¼è°ƒç”¨ä¸ä¼ åè°ƒç”¨">ä¼ å€¼è°ƒç”¨ä¸ä¼ åè°ƒç”¨</a></li>
  <li><a href="#asyncå‡½æ•°è¯­æ³•" id="markdown-toc-asyncå‡½æ•°è¯­æ³•">asyncå‡½æ•°è¯­æ³•</a></li>
  <li><a href="#asyncå‡½æ•°å¯¹generatorå‡½æ•°çš„æ”¹è¿›" id="markdown-toc-asyncå‡½æ•°å¯¹generatorå‡½æ•°çš„æ”¹è¿›">asyncå‡½æ•°å¯¹Generatorå‡½æ•°çš„æ”¹è¿›</a></li>
  <li><a href="#class" id="markdown-toc-class">Class</a></li>
  <li><a href="#ç±»çš„prototypeå±æ€§å’Œ__proto__å±æ€§" id="markdown-toc-ç±»çš„prototypeå±æ€§å’Œ__proto__å±æ€§">ç±»çš„prototypeå±æ€§å’Œ__proto__å±æ€§</a></li>
  <li><a href="#module" id="markdown-toc-module">Module</a></li>
  <li><a href="#ä¸¥æ ¼æ¨¡å¼çš„é™åˆ¶" id="markdown-toc-ä¸¥æ ¼æ¨¡å¼çš„é™åˆ¶">ä¸¥æ ¼æ¨¡å¼çš„é™åˆ¶</a></li>
  <li><a href="#es6æ¨¡å—åŠ è½½ä¸commonjsæ¨¡å—åŠ è½½çš„åŒºåˆ«" id="markdown-toc-es6æ¨¡å—åŠ è½½ä¸commonjsæ¨¡å—åŠ è½½çš„åŒºåˆ«">ES6æ¨¡å—åŠ è½½ä¸CommonJSæ¨¡å—åŠ è½½çš„åŒºåˆ«</a></li>
  <li><a href="#ä¸åŒdomçº§åˆ«çš„å†…å®¹" id="markdown-toc-ä¸åŒdomçº§åˆ«çš„å†…å®¹">ä¸åŒDOMçº§åˆ«çš„å†…å®¹</a></li>
  <li><a href="#undefinedå€¼æ˜¯æ´¾ç”Ÿè‡ªnullå€¼çš„" id="markdown-toc-undefinedå€¼æ˜¯æ´¾ç”Ÿè‡ªnullå€¼çš„">undefinedå€¼æ˜¯æ´¾ç”Ÿè‡ªnullå€¼çš„</a></li>
  <li><a href="#ç›´æ¥ä½¿ç”¨æµ®ç‚¹æ•°ç›¸ç­‰æ€§æ¯”è¾ƒçš„é—®é¢˜" id="markdown-toc-ç›´æ¥ä½¿ç”¨æµ®ç‚¹æ•°ç›¸ç­‰æ€§æ¯”è¾ƒçš„é—®é¢˜">ç›´æ¥ä½¿ç”¨æµ®ç‚¹æ•°ç›¸ç­‰æ€§æ¯”è¾ƒçš„é—®é¢˜</a></li>
  <li><a href="#naninfinity" id="markdown-toc-naninfinity">NaNã€Infinity</a></li>
  <li><a href="#æ˜¯å¦æ‰€æœ‰ç±»å‹çš„å¯¹è±¡éƒ½å¯ä»¥é€šè¿‡è°ƒç”¨tostringæ¥å°†å…¶è½¬æ¢ä¸ºå­—ç¬¦ä¸²" id="markdown-toc-æ˜¯å¦æ‰€æœ‰ç±»å‹çš„å¯¹è±¡éƒ½å¯ä»¥é€šè¿‡è°ƒç”¨tostringæ¥å°†å…¶è½¬æ¢ä¸ºå­—ç¬¦ä¸²">æ˜¯å¦æ‰€æœ‰ç±»å‹çš„å¯¹è±¡éƒ½å¯ä»¥é€šè¿‡è°ƒç”¨toString()æ¥å°†å…¶è½¬æ¢ä¸ºå­—ç¬¦ä¸²ï¼Ÿ</a></li>
  <li><a href="#objectå®ä¾‹å…·æœ‰çš„å±æ€§å’Œæ–¹æ³•" id="markdown-toc-objectå®ä¾‹å…·æœ‰çš„å±æ€§å’Œæ–¹æ³•">Objectå®ä¾‹å…·æœ‰çš„å±æ€§å’Œæ–¹æ³•</a></li>
  <li><a href="#ä½¿ç”¨for-inè¯­å¥æ¥æšä¸¾å¯¹è±¡çš„å±æ€§" id="markdown-toc-ä½¿ç”¨for-inè¯­å¥æ¥æšä¸¾å¯¹è±¡çš„å±æ€§">ä½¿ç”¨for-inè¯­å¥æ¥æšä¸¾å¯¹è±¡çš„å±æ€§</a></li>
  <li><a href="#labelè¯­å¥" id="markdown-toc-labelè¯­å¥">labelè¯­å¥</a></li>
  <li><a href="#withè¯­å¥" id="markdown-toc-withè¯­å¥">withè¯­å¥</a></li>
  <li><a href="#argumentså¯¹è±¡" id="markdown-toc-argumentså¯¹è±¡">argumentså¯¹è±¡</a></li>
  <li><a href="#ecmascriptä¸­æ”¯æŒå‡½æ•°é‡è½½å—å¦‚æœå®šä¹‰äº†åŒåçš„å‡½æ•°ä¼šæ€æ ·" id="markdown-toc-ecmascriptä¸­æ”¯æŒå‡½æ•°é‡è½½å—å¦‚æœå®šä¹‰äº†åŒåçš„å‡½æ•°ä¼šæ€æ ·">ECMAScriptä¸­æ”¯æŒå‡½æ•°é‡è½½å—ï¼Ÿå¦‚æœå®šä¹‰äº†åŒåçš„å‡½æ•°ä¼šæ€æ ·ï¼Ÿ</a></li>
  <li><a href="#æ‰§è¡Œç¯å¢ƒ" id="markdown-toc-æ‰§è¡Œç¯å¢ƒ">æ‰§è¡Œç¯å¢ƒ</a></li>
  <li><a href="#ä½œç”¨åŸŸé“¾" id="markdown-toc-ä½œç”¨åŸŸé“¾">ä½œç”¨åŸŸé“¾</a></li>
  <li><a href="#å»¶é•¿ä½œç”¨åŸŸé“¾" id="markdown-toc-å»¶é•¿ä½œç”¨åŸŸé“¾">å»¶é•¿ä½œç”¨åŸŸé“¾</a></li>
  <li><a href="#javascriptæ˜¯å¦æœ‰å—çº§ä½œç”¨åŸŸ" id="markdown-toc-javascriptæ˜¯å¦æœ‰å—çº§ä½œç”¨åŸŸ">JavaScriptæ˜¯å¦æœ‰å—çº§ä½œç”¨åŸŸï¼Ÿ</a></li>
  <li><a href="#javascriptçš„åƒåœ¾å›æ”¶æœºåˆ¶æœ‰å“ªäº›æ–¹å¼å¦‚ä½•ä¼˜åŒ–javascriptçš„å†…å­˜å ç”¨" id="markdown-toc-javascriptçš„åƒåœ¾å›æ”¶æœºåˆ¶æœ‰å“ªäº›æ–¹å¼å¦‚ä½•ä¼˜åŒ–javascriptçš„å†…å­˜å ç”¨">JavaScriptçš„åƒåœ¾å›æ”¶æœºåˆ¶æœ‰å“ªäº›æ–¹å¼ï¼Ÿå¦‚ä½•ä¼˜åŒ–JavaScriptçš„å†…å­˜å ç”¨ï¼Ÿ</a></li>
  <li><a href="#åœ¨javascriptä¸­é€šè¿‡å¯¹è±¡å­—é¢é‡æ–¹å¼å®šä¹‰å¯¹è±¡ä¸é€šè¿‡æ„é€ å‡½æ•°æ–¹å¼å®šä¹‰å¯¹è±¡æœ‰ä»€ä¹ˆä¸åŒ" id="markdown-toc-åœ¨javascriptä¸­é€šè¿‡å¯¹è±¡å­—é¢é‡æ–¹å¼å®šä¹‰å¯¹è±¡ä¸é€šè¿‡æ„é€ å‡½æ•°æ–¹å¼å®šä¹‰å¯¹è±¡æœ‰ä»€ä¹ˆä¸åŒ">åœ¨JavaScriptä¸­é€šè¿‡å¯¹è±¡å­—é¢é‡æ–¹å¼å®šä¹‰å¯¹è±¡ä¸é€šè¿‡æ„é€ å‡½æ•°æ–¹å¼å®šä¹‰å¯¹è±¡æœ‰ä»€ä¹ˆä¸åŒï¼Ÿ</a></li>
  <li><a href="#åœ¨javascriptä¸­ä½¿ç”¨æ–¹æ‹¬å·è¡¨ç¤ºæ³•è®¿é—®å¯¹è±¡å±æ€§ä¸ä½¿ç”¨ç‚¹è¡¨ç¤ºæ³•è®¿é—®å¯¹è±¡å±æ€§æœ‰ä»€ä¹ˆä¸åŒ" id="markdown-toc-åœ¨javascriptä¸­ä½¿ç”¨æ–¹æ‹¬å·è¡¨ç¤ºæ³•è®¿é—®å¯¹è±¡å±æ€§ä¸ä½¿ç”¨ç‚¹è¡¨ç¤ºæ³•è®¿é—®å¯¹è±¡å±æ€§æœ‰ä»€ä¹ˆä¸åŒ">åœ¨JavaScriptä¸­ä½¿ç”¨æ–¹æ‹¬å·è¡¨ç¤ºæ³•è®¿é—®å¯¹è±¡å±æ€§ä¸ä½¿ç”¨ç‚¹è¡¨ç¤ºæ³•è®¿é—®å¯¹è±¡å±æ€§æœ‰ä»€ä¹ˆä¸åŒï¼Ÿ</a></li>
  <li><a href="#æ•°ç»„çš„lengthå±æ€§" id="markdown-toc-æ•°ç»„çš„lengthå±æ€§">æ•°ç»„çš„lengthå±æ€§</a></li>
  <li><a href="#ä½¿ç”¨instanceofæ“ä½œç¬¦æ¥åˆ¤æ–­ä¸€ä¸ªå˜é‡æ˜¯å¦æ˜¯æ•°ç»„ç±»å‹å­˜åœ¨ä»€ä¹ˆé—®é¢˜å¦‚ä½•è§£å†³" id="markdown-toc-ä½¿ç”¨instanceofæ“ä½œç¬¦æ¥åˆ¤æ–­ä¸€ä¸ªå˜é‡æ˜¯å¦æ˜¯æ•°ç»„ç±»å‹å­˜åœ¨ä»€ä¹ˆé—®é¢˜å¦‚ä½•è§£å†³">ä½¿ç”¨instanceofæ“ä½œç¬¦æ¥åˆ¤æ–­ä¸€ä¸ªå˜é‡æ˜¯å¦æ˜¯æ•°ç»„ç±»å‹å­˜åœ¨ä»€ä¹ˆé—®é¢˜ï¼Ÿå¦‚ä½•è§£å†³ï¼Ÿ</a></li>
  <li><a href="#javascriptåŸç”Ÿçš„æ“ä½œæ•°ç»„çš„æ–¹æ³•" id="markdown-toc-javascriptåŸç”Ÿçš„æ“ä½œæ•°ç»„çš„æ–¹æ³•">JavaScriptåŸç”Ÿçš„æ“ä½œæ•°ç»„çš„æ–¹æ³•</a></li>
  <li><a href="#å®šä¹‰javascriptå‡½æ•°çš„æ–¹å¼" id="markdown-toc-å®šä¹‰javascriptå‡½æ•°çš„æ–¹å¼">å®šä¹‰JavaScriptå‡½æ•°çš„æ–¹å¼</a></li>
  <li><a href="#javascriptå‡½æ•°æ‹¥æœ‰çš„å±æ€§å’Œæ–¹æ³•" id="markdown-toc-javascriptå‡½æ•°æ‹¥æœ‰çš„å±æ€§å’Œæ–¹æ³•">JavaScriptå‡½æ•°æ‹¥æœ‰çš„å±æ€§å’Œæ–¹æ³•</a></li>
  <li><a href="#åŸºæœ¬åŒ…è£…ç±»å‹" id="markdown-toc-åŸºæœ¬åŒ…è£…ç±»å‹">åŸºæœ¬åŒ…è£…ç±»å‹</a></li>
  <li><a href="#ä¸ºä»€ä¹ˆè¯´boolean-å¯¹è±¡åœ¨-ecmascript-ä¸­çš„ç”¨å¤„ä¸å¤§" id="markdown-toc-ä¸ºä»€ä¹ˆè¯´boolean-å¯¹è±¡åœ¨-ecmascript-ä¸­çš„ç”¨å¤„ä¸å¤§">ä¸ºä»€ä¹ˆè¯´Boolean å¯¹è±¡åœ¨ ECMAScript ä¸­çš„ç”¨å¤„ä¸å¤§ï¼Ÿ</a></li>
  <li><a href="#stringç±»å‹çš„å®ä¾‹çš„å±æ€§å’Œæ–¹æ³•" id="markdown-toc-stringç±»å‹çš„å®ä¾‹çš„å±æ€§å’Œæ–¹æ³•">Stringç±»å‹çš„å®ä¾‹çš„å±æ€§å’Œæ–¹æ³•</a></li>
  <li><a href="#globalå¯¹è±¡çš„å±æ€§å’Œæ–¹æ³•" id="markdown-toc-globalå¯¹è±¡çš„å±æ€§å’Œæ–¹æ³•">Globalå¯¹è±¡çš„å±æ€§å’Œæ–¹æ³•</a></li>
  <li><a href="#globalå¯¹è±¡ä¸windowså¯¹è±¡æœ‰ä»€ä¹ˆåŒºåˆ«" id="markdown-toc-globalå¯¹è±¡ä¸windowså¯¹è±¡æœ‰ä»€ä¹ˆåŒºåˆ«">Globalå¯¹è±¡ä¸Windowså¯¹è±¡æœ‰ä»€ä¹ˆåŒºåˆ«ï¼Ÿ</a></li>
  <li><a href="#ä»€ä¹ˆæ˜¯attributeä¸propertyæœ‰ä»€ä¹ˆå…³ç³»æœ‰å“ªäº›attributeæœ‰å“ªäº›property" id="markdown-toc-ä»€ä¹ˆæ˜¯attributeä¸propertyæœ‰ä»€ä¹ˆå…³ç³»æœ‰å“ªäº›attributeæœ‰å“ªäº›property">ä»€ä¹ˆæ˜¯attributeï¼Ÿä¸propertyæœ‰ä»€ä¹ˆå…³ç³»ï¼Ÿæœ‰å“ªäº›attributeï¼Ÿæœ‰å“ªäº›propertyï¼Ÿ</a></li>
  <li><a href="#æœ‰å“ªäº›åˆ›å»ºjavascriptå¯¹è±¡çš„æ¨¡å¼å„æœ‰ä»€ä¹ˆåˆ©å¼Š" id="markdown-toc-æœ‰å“ªäº›åˆ›å»ºjavascriptå¯¹è±¡çš„æ¨¡å¼å„æœ‰ä»€ä¹ˆåˆ©å¼Š">æœ‰å“ªäº›åˆ›å»ºJavaScriptå¯¹è±¡çš„æ¨¡å¼ï¼Ÿå„æœ‰ä»€ä¹ˆåˆ©å¼Šï¼Ÿ</a></li>
  <li><a href="#æ„é€ å‡½æ•°æ„é€ å‡½æ•°çš„åŸå‹å¯¹è±¡ä»¥åŠæ„é€ å‡½æ•°çš„å®ä¾‹ç›¸äº’ä¹‹é—´æ˜¯ä»€ä¹ˆå…³ç³»" id="markdown-toc-æ„é€ å‡½æ•°æ„é€ å‡½æ•°çš„åŸå‹å¯¹è±¡ä»¥åŠæ„é€ å‡½æ•°çš„å®ä¾‹ç›¸äº’ä¹‹é—´æ˜¯ä»€ä¹ˆå…³ç³»">æ„é€ å‡½æ•°ã€æ„é€ å‡½æ•°çš„åŸå‹å¯¹è±¡ä»¥åŠæ„é€ å‡½æ•°çš„å®ä¾‹ï¼Œç›¸äº’ä¹‹é—´æ˜¯ä»€ä¹ˆå…³ç³»ï¼Ÿ</a></li>
  <li><a href="#å¦‚ä½•åˆ¤æ–­å¯¹è±¡å±æ€§çš„å®šä¹‰ä½ç½®" id="markdown-toc-å¦‚ä½•åˆ¤æ–­å¯¹è±¡å±æ€§çš„å®šä¹‰ä½ç½®">å¦‚ä½•åˆ¤æ–­å¯¹è±¡å±æ€§çš„å®šä¹‰ä½ç½®ï¼Ÿ</a></li>
  <li><a href="#åŸºäºåŸå‹é“¾å®ç°ç»§æ‰¿çš„åŸç†æ˜¯ä»€ä¹ˆå­˜åœ¨ä»€ä¹ˆé—®é¢˜" id="markdown-toc-åŸºäºåŸå‹é“¾å®ç°ç»§æ‰¿çš„åŸç†æ˜¯ä»€ä¹ˆå­˜åœ¨ä»€ä¹ˆé—®é¢˜">åŸºäºåŸå‹é“¾å®ç°ç»§æ‰¿çš„åŸç†æ˜¯ä»€ä¹ˆï¼Ÿå­˜åœ¨ä»€ä¹ˆé—®é¢˜ï¼Ÿ</a></li>
  <li><a href="#javascriptä¸­æœ‰å“ªäº›å®ç°ç»§æ‰¿çš„æ–¹å¼" id="markdown-toc-javascriptä¸­æœ‰å“ªäº›å®ç°ç»§æ‰¿çš„æ–¹å¼">JavaScriptä¸­æœ‰å“ªäº›å®ç°ç»§æ‰¿çš„æ–¹å¼ï¼Ÿ</a></li>
  <li><a href="#ä»€ä¹ˆæ˜¯é—­åŒ…é—­åŒ…çš„å®ç°åŸç†æ˜¯ä»€ä¹ˆå­˜åœ¨ä»€ä¹ˆé—®é¢˜" id="markdown-toc-ä»€ä¹ˆæ˜¯é—­åŒ…é—­åŒ…çš„å®ç°åŸç†æ˜¯ä»€ä¹ˆå­˜åœ¨ä»€ä¹ˆé—®é¢˜">ä»€ä¹ˆæ˜¯é—­åŒ…ï¼Ÿé—­åŒ…çš„å®ç°åŸç†æ˜¯ä»€ä¹ˆï¼Ÿå­˜åœ¨ä»€ä¹ˆé—®é¢˜ï¼Ÿ</a></li>
  <li><a href="#åŒ¿åå‡½æ•°çš„ä¸­çš„thisæŒ‡å‘å“ªé‡Œ" id="markdown-toc-åŒ¿åå‡½æ•°çš„ä¸­çš„thisæŒ‡å‘å“ªé‡Œ">åŒ¿åå‡½æ•°çš„ä¸­çš„thisæŒ‡å‘å“ªé‡Œï¼Ÿ</a></li>
  <li><a href="#å¦‚ä½•ä½¿ç”¨åŒ¿åå‡½æ•°æ¥æ¨¡ä»¿å—çº§ä½œç”¨åŸŸ" id="markdown-toc-å¦‚ä½•ä½¿ç”¨åŒ¿åå‡½æ•°æ¥æ¨¡ä»¿å—çº§ä½œç”¨åŸŸ">å¦‚ä½•ä½¿ç”¨åŒ¿åå‡½æ•°æ¥æ¨¡ä»¿å—çº§ä½œç”¨åŸŸï¼Ÿ</a></li>
  <li><a href="#javascriptä¸­çš„domèŠ‚ç‚¹æœ‰å“ªäº›ç±»å‹domèŠ‚ç‚¹æœ‰å“ªäº›å±æ€§å’Œæ–¹æ³•" id="markdown-toc-javascriptä¸­çš„domèŠ‚ç‚¹æœ‰å“ªäº›ç±»å‹domèŠ‚ç‚¹æœ‰å“ªäº›å±æ€§å’Œæ–¹æ³•">JavaScriptä¸­çš„DOMèŠ‚ç‚¹æœ‰å“ªäº›ç±»å‹ï¼ŸDOMèŠ‚ç‚¹æœ‰å“ªäº›å±æ€§å’Œæ–¹æ³•ï¼Ÿ</a></li>
  <li><a href="#documentå¯¹è±¡çš„ç±»å‹æ˜¯ä»€ä¹ˆæœ‰å“ªäº›å±æ€§å’Œæ–¹æ³•" id="markdown-toc-documentå¯¹è±¡çš„ç±»å‹æ˜¯ä»€ä¹ˆæœ‰å“ªäº›å±æ€§å’Œæ–¹æ³•">documentå¯¹è±¡çš„ç±»å‹æ˜¯ä»€ä¹ˆï¼Ÿæœ‰å“ªäº›å±æ€§å’Œæ–¹æ³•ï¼Ÿ</a></li>
  <li><a href="#æœ‰å“ªäº›å¯¹domçš„æ‰©å±•" id="markdown-toc-æœ‰å“ªäº›å¯¹domçš„æ‰©å±•">æœ‰å“ªäº›å¯¹DOMçš„æ‰©å±•ï¼Ÿ</a></li>
  <li><a href="#æœ‰å“ªäº›ä¸ºå…ƒç´ å®šä¹‰äº‹ä»¶çš„æ–¹å¼" id="markdown-toc-æœ‰å“ªäº›ä¸ºå…ƒç´ å®šä¹‰äº‹ä»¶çš„æ–¹å¼">æœ‰å“ªäº›ä¸ºå…ƒç´ å®šä¹‰äº‹ä»¶çš„æ–¹å¼ï¼Ÿ</a></li>
  <li><a href="#eventå¯¹è±¡æœ‰å“ªäº›å±æ€§å’Œæ–¹æ³•currenttargetå’Œtargetæœ‰ä»€ä¹ˆåŒºåˆ«" id="markdown-toc-eventå¯¹è±¡æœ‰å“ªäº›å±æ€§å’Œæ–¹æ³•currenttargetå’Œtargetæœ‰ä»€ä¹ˆåŒºåˆ«">eventå¯¹è±¡æœ‰å“ªäº›å±æ€§å’Œæ–¹æ³•ï¼ŸcurrentTargetå’Œtargetæœ‰ä»€ä¹ˆåŒºåˆ«ï¼Ÿ</a></li>
  <li><a href="#å¦‚ä½•ä¼˜åŒ–å› ä¸ºå®šä¹‰äº‹ä»¶è€Œå¸¦æ¥çš„æ€§èƒ½é—®é¢˜" id="markdown-toc-å¦‚ä½•ä¼˜åŒ–å› ä¸ºå®šä¹‰äº‹ä»¶è€Œå¸¦æ¥çš„æ€§èƒ½é—®é¢˜">å¦‚ä½•ä¼˜åŒ–å› ä¸ºå®šä¹‰äº‹ä»¶è€Œå¸¦æ¥çš„æ€§èƒ½é—®é¢˜ï¼Ÿ</a></li>
  <li><a href="#å¦‚ä½•è§¦å‘æ¨¡æ‹Ÿäº‹ä»¶å¦‚ä½•è‡ªå®šä¹‰äº‹ä»¶" id="markdown-toc-å¦‚ä½•è§¦å‘æ¨¡æ‹Ÿäº‹ä»¶å¦‚ä½•è‡ªå®šä¹‰äº‹ä»¶">å¦‚ä½•è§¦å‘æ¨¡æ‹Ÿäº‹ä»¶ï¼Ÿå¦‚ä½•è‡ªå®šä¹‰äº‹ä»¶ï¼Ÿ</a></li>
  <li><a href="#æœ‰å“ªäº›æäº¤è¡¨å•é‡ç½®è¡¨å•çš„æ–¹å¼" id="markdown-toc-æœ‰å“ªäº›æäº¤è¡¨å•é‡ç½®è¡¨å•çš„æ–¹å¼">æœ‰å“ªäº›æäº¤è¡¨å•ã€é‡ç½®è¡¨å•çš„æ–¹å¼ï¼Ÿ</a></li>
  <li><a href="#åœ¨è¡¨å•æäº¤æ—¶æµè§ˆå™¨æ˜¯æ€æ ·ç»„ç»‡æ•°æ®å¹¶å‘é€ç»™æœåŠ¡å™¨çš„" id="markdown-toc-åœ¨è¡¨å•æäº¤æ—¶æµè§ˆå™¨æ˜¯æ€æ ·ç»„ç»‡æ•°æ®å¹¶å‘é€ç»™æœåŠ¡å™¨çš„">åœ¨è¡¨å•æäº¤æ—¶ï¼Œæµè§ˆå™¨æ˜¯æ€æ ·ç»„ç»‡æ•°æ®å¹¶å‘é€ç»™æœåŠ¡å™¨çš„ï¼Ÿ</a></li>
  <li><a href="#å¯Œæ–‡æœ¬ç¼–è¾‘çš„åŸç†æ˜¯ä»€ä¹ˆ" id="markdown-toc-å¯Œæ–‡æœ¬ç¼–è¾‘çš„åŸç†æ˜¯ä»€ä¹ˆ">å¯Œæ–‡æœ¬ç¼–è¾‘çš„åŸç†æ˜¯ä»€ä¹ˆï¼Ÿ</a></li>
  <li><a href="#ajaxå’Œcometçš„åŒºåˆ«æ˜¯ä»€ä¹ˆcometæœ‰å“ªäº›å®ç°æ–¹å¼" id="markdown-toc-ajaxå’Œcometçš„åŒºåˆ«æ˜¯ä»€ä¹ˆcometæœ‰å“ªäº›å®ç°æ–¹å¼">Ajaxå’ŒCometçš„åŒºåˆ«æ˜¯ä»€ä¹ˆï¼ŸCometæœ‰å“ªäº›å®ç°æ–¹å¼ï¼Ÿ</a></li>
  <li><a href="#websocketçš„å»ºç«‹æµç¨‹æ˜¯æ€æ ·çš„å®ƒæœ‰å“ªäº›ä¼˜ç¼ºç‚¹" id="markdown-toc-websocketçš„å»ºç«‹æµç¨‹æ˜¯æ€æ ·çš„å®ƒæœ‰å“ªäº›ä¼˜ç¼ºç‚¹">Websocketçš„å»ºç«‹æµç¨‹æ˜¯æ€æ ·çš„ï¼Ÿå®ƒæœ‰å“ªäº›ä¼˜ç¼ºç‚¹ï¼Ÿ</a></li>
  <li><a href="#ä»€ä¹ˆæ˜¯sseå¦‚ä½•é€‰æ‹©åº”è¯¥æ˜¯ç”¨sseè¿˜æ˜¯web-socket" id="markdown-toc-ä»€ä¹ˆæ˜¯sseå¦‚ä½•é€‰æ‹©åº”è¯¥æ˜¯ç”¨sseè¿˜æ˜¯web-socket">ä»€ä¹ˆæ˜¯SSEï¼Ÿå¦‚ä½•é€‰æ‹©åº”è¯¥æ˜¯ç”¨SSEè¿˜æ˜¯Web Socketï¼Ÿ</a></li>
  <li><a href="#å¦‚ä½•åŒºåˆ†åŸç”Ÿä¸éåŸç”Ÿjavascriptå¯¹è±¡" id="markdown-toc-å¦‚ä½•åŒºåˆ†åŸç”Ÿä¸éåŸç”Ÿjavascriptå¯¹è±¡">å¦‚ä½•åŒºåˆ†åŸç”Ÿä¸éåŸç”ŸJavaScriptå¯¹è±¡ï¼Ÿ</a></li>
  <li><a href="#å¦‚ä½•å®šä¹‰ä½œç”¨åŸŸå®‰å…¨çš„æ„é€ å‡½æ•°" id="markdown-toc-å¦‚ä½•å®šä¹‰ä½œç”¨åŸŸå®‰å…¨çš„æ„é€ å‡½æ•°">å¦‚ä½•å®šä¹‰ä½œç”¨åŸŸå®‰å…¨çš„æ„é€ å‡½æ•°ï¼Ÿ</a></li>
  <li><a href="#å¦‚ä½•é˜»æ­¢å‘å¯¹è±¡ä¸­æ·»åŠ å±æ€§å’Œæ–¹æ³•" id="markdown-toc-å¦‚ä½•é˜»æ­¢å‘å¯¹è±¡ä¸­æ·»åŠ å±æ€§å’Œæ–¹æ³•">å¦‚ä½•é˜»æ­¢å‘å¯¹è±¡ä¸­æ·»åŠ å±æ€§å’Œæ–¹æ³•ï¼Ÿ</a></li>
  <li><a href="#ä»€ä¹ˆæ˜¯å¯†å°å¯¹è±¡å®ƒæœ‰å“ªäº›ç‰¹æ€§" id="markdown-toc-ä»€ä¹ˆæ˜¯å¯†å°å¯¹è±¡å®ƒæœ‰å“ªäº›ç‰¹æ€§">ä»€ä¹ˆæ˜¯å¯†å°å¯¹è±¡ï¼Ÿå®ƒæœ‰å“ªäº›ç‰¹æ€§ï¼Ÿ</a></li>
  <li><a href="#ä»€ä¹ˆæ˜¯å†»ç»“å¯¹è±¡å®ƒæœ‰å“ªäº›ç‰¹æ€§" id="markdown-toc-ä»€ä¹ˆæ˜¯å†»ç»“å¯¹è±¡å®ƒæœ‰å“ªäº›ç‰¹æ€§">ä»€ä¹ˆæ˜¯å†»ç»“å¯¹è±¡ï¼Ÿå®ƒæœ‰å“ªäº›ç‰¹æ€§ï¼Ÿ</a></li>
  <li><a href="#javascriptä¸­çš„å®šæ—¶å™¨æ˜¯åŸºäºçº¿ç¨‹å®ç°çš„å—" id="markdown-toc-javascriptä¸­çš„å®šæ—¶å™¨æ˜¯åŸºäºçº¿ç¨‹å®ç°çš„å—">JavaScriptä¸­çš„å®šæ—¶å™¨æ˜¯åŸºäºçº¿ç¨‹å®ç°çš„å—ï¼Ÿ</a></li>
  <li><a href="#ä»€ä¹ˆæ˜¯yielding-processes" id="markdown-toc-ä»€ä¹ˆæ˜¯yielding-processes">ä»€ä¹ˆæ˜¯Yielding Processesï¼Ÿ</a></li>
  <li><a href="#ä»€ä¹ˆæ˜¯å‡½æ•°èŠ‚æµå®ƒé€šå¸¸åº”ç”¨åœ¨ä»€ä¹ˆåœºæ™¯ä¸­" id="markdown-toc-ä»€ä¹ˆæ˜¯å‡½æ•°èŠ‚æµå®ƒé€šå¸¸åº”ç”¨åœ¨ä»€ä¹ˆåœºæ™¯ä¸­">ä»€ä¹ˆæ˜¯å‡½æ•°èŠ‚æµï¼Ÿå®ƒé€šå¸¸åº”ç”¨åœ¨ä»€ä¹ˆåœºæ™¯ä¸­ï¼Ÿ</a></li>
  <li><a href="#å¦‚ä½•å®ç°è‡ªå®šä¹‰äº‹ä»¶ç®¡ç†æ¡†æ¶" id="markdown-toc-å¦‚ä½•å®ç°è‡ªå®šä¹‰äº‹ä»¶ç®¡ç†æ¡†æ¶">å¦‚ä½•å®ç°è‡ªå®šä¹‰äº‹ä»¶ç®¡ç†æ¡†æ¶ï¼Ÿ</a></li>
  <li><a href="#es6æ–°è¯­æ³•" id="markdown-toc-es6æ–°è¯­æ³•">ES6æ–°è¯­æ³•</a></li>
  <li><a href="#es6ä¸es5thisçš„å˜åŒ–æ¯”è¾ƒ" id="markdown-toc-es6ä¸es5thisçš„å˜åŒ–æ¯”è¾ƒ">ES6ä¸ES5ï¼Œthisçš„å˜åŒ–æ¯”è¾ƒ</a></li>
  <li><a href="#jsç±»é™æ€éƒ¨åˆ†ä¸å®ä¾‹éƒ¨åˆ†çš„åŒºåˆ«å‚è€ƒtypescriptæ–‡æ¡£-ç±»ç±»å‹" id="markdown-toc-jsç±»é™æ€éƒ¨åˆ†ä¸å®ä¾‹éƒ¨åˆ†çš„åŒºåˆ«å‚è€ƒtypescriptæ–‡æ¡£-ç±»ç±»å‹">jsç±»é™æ€éƒ¨åˆ†ä¸å®ä¾‹éƒ¨åˆ†çš„åŒºåˆ«ï¼ˆå‚è€ƒtypescriptæ–‡æ¡£ ç±»ç±»å‹ï¼‰</a></li>
  <li><a href="#jså†…å­˜æ³„æ¼æ˜¯æ€ä¹ˆäº§ç”Ÿçš„" id="markdown-toc-jså†…å­˜æ³„æ¼æ˜¯æ€ä¹ˆäº§ç”Ÿçš„">jså†…å­˜æ³„æ¼æ˜¯æ€ä¹ˆäº§ç”Ÿçš„ï¼Ÿ</a></li>
  <li><a href="#ä»€ä¹ˆæ˜¯é—­åŒ…è·ŸåŸå‹é“¾ä½œç”¨åŸŸé“¾æœ‰ä»€ä¹ˆå…³è”" id="markdown-toc-ä»€ä¹ˆæ˜¯é—­åŒ…è·ŸåŸå‹é“¾ä½œç”¨åŸŸé“¾æœ‰ä»€ä¹ˆå…³è”">ä»€ä¹ˆæ˜¯é—­åŒ…ï¼Œè·ŸåŸå‹é“¾ã€ä½œç”¨åŸŸé“¾æœ‰ä»€ä¹ˆå…³è”</a></li>
  <li><a href="#npmæ¨¡å—å®‰è£…æœºåˆ¶" id="markdown-toc-npmæ¨¡å—å®‰è£…æœºåˆ¶">npmæ¨¡å—å®‰è£…æœºåˆ¶</a></li>
  <li><a href="#å®¹å™¨çš„æ°´å¹³å±…ä¸­" id="markdown-toc-å®¹å™¨çš„æ°´å¹³å±…ä¸­">å®¹å™¨çš„æ°´å¹³å±…ä¸­</a></li>
  <li><a href="#æ–‡å­—çš„å‚ç›´å±…ä¸­" id="markdown-toc-æ–‡å­—çš„å‚ç›´å±…ä¸­">æ–‡å­—çš„å‚ç›´å±…ä¸­</a></li>
  <li><a href="#å®¹å™¨çš„å‚ç›´å±…ä¸­" id="markdown-toc-å®¹å™¨çš„å‚ç›´å±…ä¸­">å®¹å™¨çš„å‚ç›´å±…ä¸­</a></li>
  <li><a href="#å›¾ç‰‡å®½åº¦çš„è‡ªé€‚åº”" id="markdown-toc-å›¾ç‰‡å®½åº¦çš„è‡ªé€‚åº”">å›¾ç‰‡å®½åº¦çš„è‡ªé€‚åº”</a></li>
  <li><a href="#linkçŠ¶æ€çš„è®¾ç½®é¡ºåº" id="markdown-toc-linkçŠ¶æ€çš„è®¾ç½®é¡ºåº">linkçŠ¶æ€çš„è®¾ç½®é¡ºåº</a></li>
  <li><a href="#ç”¨å›¾ç‰‡å……å½“åˆ—è¡¨æ ‡å¿—" id="markdown-toc-ç”¨å›¾ç‰‡å……å½“åˆ—è¡¨æ ‡å¿—">ç”¨å›¾ç‰‡å……å½“åˆ—è¡¨æ ‡å¿—</a></li>
</ul>

<h2 id="æµè§ˆå™¨è¯·æ±‚é¡µé¢çš„ä¸åŒæ–¹å¼">æµè§ˆå™¨è¯·æ±‚é¡µé¢çš„ä¸åŒæ–¹å¼</h2>
<ul>
  <li>Ctrl+F5ï¼šå¼ºåˆ¶åˆ·æ–°ï¼Œä½¿ç½‘é¡µä¸­æ‰€æœ‰ç»„ä»¶éƒ½ç›´æ¥å‘WebæœåŠ¡å™¨å‘é€è¯·æ±‚ï¼Œå¹¶ä¸”ä¸ä½¿ç”¨ç¼“å­˜åå•†ã€‚</li>
  <li>F5ï¼šç­‰åŒäºæµè§ˆå™¨çš„åˆ·æ–°æŒ‰é’®ï¼Œå…è®¸æµè§ˆå™¨åœ¨è¯·æ±‚ä¸­é™„åŠ å¿…è¦çš„ç¼“å­˜åå•†ï¼Œä½†ä¸å…è®¸æµè§ˆå™¨ç›´æ¥ä½¿ç”¨æœ¬åœ°ç¼“å­˜ï¼Œå³å¯ä»¥ä½¿ç”¨Last-Modifiedï¼Œä½†Expiresæ— æ•ˆã€‚</li>
  <li>åœ¨æµè§ˆå™¨åœ°å€æ è¾“å…¥URLåå›è½¦ï¼Œæˆ–è€…é€šè¿‡è¶…é“¾æ¥è·³è½¬åˆ°è¯¥é¡µé¢
æµè§ˆå™¨ä¼šå¯¹æ‰€æœ‰æ²¡æœ‰è¿‡æœŸçš„å†…å®¹ç›´æ¥ä½¿ç”¨æœ¬åœ°ç¼“å­˜ã€‚</li>
</ul>

<h2 id="cache-controlä¸expireæ¯”è¾ƒ">Cache-Controlä¸Expireæ¯”è¾ƒ</h2>

<p>Expireä½¿ç”¨çš„æ˜¯ç»å¯¹è¿‡æœŸæ—¶é—´ï¼Œå­˜åœ¨ä¸€äº›ä¸è¶³ä¹‹å¤„ï¼Œæ¯”å¦‚æµè§ˆå™¨å’ŒæœåŠ¡å™¨çš„æ—¶é—´ä¸ä¸€è‡´ã€‚
HTTP/1.1æä¾›Cache-Controlï¼Œä½¿ç”¨ç›¸å¯¹æ—¶é—´æ¥å¼¥è¡¥Expiresçš„ä¸è¶³ï¼Œæ ¼å¼å¦‚ä¸‹ï¼š</p>
<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>Cache-Control:max-age=&lt;second&gt;
</code></pre></div></div>
<p>ç›®å‰ä¸»æµçš„æµè§ˆå™¨éƒ½å°†HTTP/1.1ä½œä¸ºé¦–é€‰ï¼Œæ‰€ä»¥å½“HTTPå“åº”å¤´ä¸­åŒæ—¶å«æœ‰Expireså’ŒCache-Controlæ—¶ï¼Œæµè§ˆå™¨ä¼šä¼˜å…ˆè€ƒè™‘Cache-Controlã€‚</p>

<h2 id="doctype">DOCTYPE</h2>
<p><code class="language-plaintext highlighter-rouge">&lt;!DOCTYPE&gt;</code> å£°æ˜ä¸æ˜¯HTMLæ ‡ç­¾ï¼›å®ƒæ˜¯æŒ‡ç¤ºwebæµè§ˆå™¨å…³äº<u>é¡µé¢ä½¿ç”¨å“ªä¸ªHTMLç‰ˆæœ¬è¿›è¡Œç¼–å†™çš„</u>æŒ‡ä»¤ã€‚å¿…é¡»æ˜¯HTMLæ–‡æ¡£çš„ç¬¬ä¸€è¡Œï¼Œä½äº<code class="language-plaintext highlighter-rouge">&lt;html&gt;</code>æ ‡ç­¾ä¹‹å‰ã€‚æ²¡æœ‰ç»“æŸæ ‡ç­¾ã€‚å¯¹å¤§å°å†™ä¸æ•æ„Ÿã€‚
åœ¨HTML 4.01ä¸­æœ‰ä¸‰ç§<code class="language-plaintext highlighter-rouge">&lt;!DOCTYPE&gt;</code>å£°æ˜ã€‚åœ¨HTML5ä¸­åªæœ‰ä¸€ç§ï¼š<code class="language-plaintext highlighter-rouge">&lt;!DOCTYPE html&gt;</code>
åº”è¯¥å§‹ç»ˆå‘HTMLæ–‡æ¡£æ·»åŠ <code class="language-plaintext highlighter-rouge">&lt;!DOCTYPE&gt;</code>å£°æ˜ï¼Œè¿™æ ·æµè§ˆå™¨æ‰èƒ½è·çŸ¥æ–‡æ¡£ç±»å‹ã€‚</p>

<h2 id="meatæ ‡ç­¾çš„http-equivå±æ€§">meatæ ‡ç­¾çš„http-equivå±æ€§</h2>

<p>http-equivå±æ€§å¯ç”¨äº<u>æ¨¡æ‹Ÿä¸€ä¸ªHTTPå“åº”å¤´</u>ã€‚</p>
<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>// è®¾å®šç½‘é¡µçš„åˆ°æœŸæ—¶é—´ï¼ˆä¸€æ—¦ç½‘é¡µè¿‡æœŸï¼Œå¿…é¡»åˆ°æœåŠ¡å™¨ä¸Šé‡æ–°ä¼ è¾“ï¼‰
ï¼œmeta http-equiv="expires" content="Wed, 20 Jun 2007 22:33:00 GMT"ï¼

// ç¦æ­¢æµè§ˆå™¨ä»æœ¬åœ°æœºçš„ç¼“å­˜ä¸­è°ƒé˜…é¡µé¢å†…å®¹ï¼ˆè¿™æ ·è®¾å®šï¼Œè®¿é—®è€…å°†æ— æ³•è„±æœºæµè§ˆï¼‰
ï¼œmetaÂ http-equiv="Pragma"Â content="no-cache"ï¼

// è‡ªåŠ¨åˆ·æ–°å¹¶æŒ‡å‘æ–°é¡µé¢ï¼ˆåœç•™2ç§’é’Ÿåè‡ªåŠ¨åˆ·æ–°åˆ°URLç½‘å€ï¼‰
ï¼œmeta http-equiv="Refresh" content="2; URL=http://www.net.cn/"ï¼

// è®¾ç½®Cookieï¼ˆå¦‚æœç½‘é¡µè¿‡æœŸï¼Œé‚£ä¹ˆå­˜ç›˜çš„cookieå°†è¢«åˆ é™¤ï¼‰
ï¼œmeta http-equiv="Set-Cookie" content="cookievalue=xxx;expires=Wednesday, 20-Jun-2007 22:33:00 GMT;path=/"ï¼ 

// æ˜¾ç¤ºçª—å£çš„è®¾å®šï¼ˆå¼ºåˆ¶é¡µé¢åœ¨å½“å‰çª—å£ä»¥ç‹¬ç«‹é¡µé¢æ˜¾ç¤ºï¼Œé˜²æ­¢åˆ«äººåœ¨æ¡†æ¶é‡Œè°ƒç”¨è‡ªå·±çš„é¡µé¢ï¼‰
ï¼œmeta http-equiv="Window-target" content="_top"ï¼

// è®¾å®šé¡µé¢ä½¿ç”¨çš„å­—ç¬¦é›†
ï¼œmeta http-equiv="Content-Type" content="text/html; charset=gb2312"ï¼

// ç½‘é¡µç­‰çº§è¯„å®š
&lt;meta http-equiv="Pics-label" contect=""&gt;
åœ¨IEçš„interneté€‰é¡¹ä¸­æœ‰ä¸€é¡¹å†…å®¹è®¾ç½®ï¼Œå¯ä»¥é˜²æ­¢æµè§ˆä¸€äº›å—é™åˆ¶çš„ç½‘ç«™ï¼Œè€Œç½‘ç«™çš„é™åˆ¶çº§åˆ«å°±æ˜¯é€šè¿‡metaå±æ€§æ¥è®¾ç½®çš„ã€‚

// è®¾å®šè¿›å…¥é¡µé¢æ—¶çš„ç‰¹æ®Šæ•ˆæœ
&lt;meta http-equiv="Page-Enter" contect="revealTrans(duration=1.0,transtion=12)"&gt;

// è®¾å®šç¦»å¼€é¡µé¢æ—¶çš„ç‰¹æ®Šæ•ˆæœ
&lt;meta http-equiv="Page-Exit" contect="revealTrans(duration=1.0,transtion=12)"&gt;

// æ¸…é™¤ç¼“å­˜
&lt;meta http-equiv="cache-control" content="no-cache"&gt;

// å…³é”®å­—ï¼Œç»™æœç´¢å¼•æ“ç”¨çš„
&lt;meta http-equiv="keywords" content="keyword1,keyword2,keyword3"&gt;

// é¡µé¢æè¿°ï¼Œç»™æœç´¢å¼•æ“ç”¨çš„
&lt;meta http-equiv="description" content="This is my page"&gt;
</code></pre></div></div>

<h2 id="cssé€‰æ‹©å™¨æ€»ç»“">CSSé€‰æ‹©å™¨æ€»ç»“</h2>
<ul>
  <li>ç±»å‹é€‰æ‹©å™¨ã€å…ƒç´ é€‰æ‹©å™¨ã€ç®€å•é€‰æ‹©å™¨
    <div class="language-css highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nt">p</span> <span class="p">{</span><span class="nl">color</span><span class="p">:</span><span class="no">black</span><span class="p">;}</span>
</code></pre></div>    </div>
  </li>
  <li>åä»£é€‰æ‹©å™¨
    <div class="language-css highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nt">blockquote</span> <span class="nt">p</span><span class="p">{</span><span class="nl">color</span><span class="p">:</span><span class="no">black</span><span class="p">;}</span>
</code></pre></div>    </div>
  </li>
  <li>IDé€‰æ‹©å™¨
    <div class="language-css highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nf">#intro</span><span class="p">{</span><span class="nl">color</span><span class="p">:</span><span class="no">black</span><span class="p">;}</span>
</code></pre></div>    </div>
  </li>
  <li>ç±»é€‰æ‹©å™¨
    <div class="language-css highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nc">.intro</span><span class="p">{</span><span class="nl">color</span><span class="p">:</span><span class="no">black</span><span class="p">;}</span>
</code></pre></div>    </div>
  </li>
  <li>ä¼ªç±»
æ ¹æ®æ–‡æ¡£ç»“æ„ä¹‹å¤–çš„å…¶ä»–æ¡ä»¶å¯¹å…ƒç´ åº”ç”¨æ ·å¼ï¼Œä¾‹å¦‚è¡¨å•å…ƒç´ æˆ–é“¾æ¥çš„çŠ¶æ€
    <div class="language-css highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nt">tr</span><span class="nd">:hover</span><span class="p">{</span><span class="nl">background-color</span><span class="p">:</span><span class="no">red</span><span class="p">;}</span>
<span class="nt">input</span><span class="nd">:focus</span><span class="p">{</span><span class="nl">background-color</span><span class="p">:</span><span class="no">red</span><span class="p">;}</span>
<span class="nt">a</span><span class="nd">:hover</span><span class="o">,</span><span class="nt">a</span><span class="nd">:focus</span><span class="o">,</span><span class="nt">a</span><span class="nd">:active</span><span class="p">{</span><span class="nl">color</span><span class="p">:</span><span class="no">red</span><span class="p">;}</span>
</code></pre></div>    </div>
    <p>:linkå’Œ:visitedç§°ä¸ºé“¾æ¥ä¼ªç±»ï¼Œåªèƒ½åº”ç”¨äºé”šå…ƒç´ ã€‚:hoverã€:activeå’Œ:focusç§°ä¸ºåŠ¨æ€ä¼ªç±»ï¼Œç†è®ºä¸Šå¯ä»¥åº”ç”¨äºä»»ä½•å…ƒç´ ã€‚
å¯ä»¥æŠŠä¼ªç±»è¿æ¥åœ¨ä¸€èµ·ï¼Œåˆ›å»ºæ›´å¤æ‚çš„è¡Œä¸ºï¼š</p>
    <div class="language-css highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nt">a</span><span class="nd">:visited:hover</span><span class="p">{</span><span class="nl">color</span><span class="p">:</span><span class="no">red</span><span class="p">;}</span>
</code></pre></div>    </div>
  </li>
  <li>é€šç”¨é€‰æ‹©å™¨
åŒ¹é…æ‰€æœ‰å¯ç”¨å…ƒç´ 
    <div class="language-css highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="o">*</span><span class="p">{</span>
<span class="nl">padding</span><span class="p">:</span><span class="m">0</span><span class="p">;</span>
<span class="nl">margin</span><span class="p">:</span><span class="m">0</span><span class="p">;</span>
<span class="p">}</span>
</code></pre></div>    </div>
    <p>é€šç”¨é€‰æ‹©å™¨ä¸å…¶ä»–é€‰æ‹©å™¨ç»“åˆä½¿ç”¨æ—¶ï¼Œå¯ä»¥ç”¨æ¥å¯¹æŸä¸ªå…ƒç´ çš„æ‰€æœ‰åä»£åº”ç”¨æ ·å¼ã€‚</p>
  </li>
  <li>å­é€‰æ‹©å™¨
åªé€‰æ‹©å…ƒç´ çš„<u>ç›´æ¥åä»£</u>ï¼Œè€Œä¸æ˜¯åƒåä»£é€‰æ‹©å™¨ä¸€æ ·é€‰æ‹©å…ƒç´ çš„æ‰€æœ‰åä»£ã€‚
    <div class="language-css highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nf">#nav</span><span class="o">&gt;</span><span class="nt">li</span><span class="p">{</span>
<span class="nl">padding-left</span><span class="p">:</span><span class="m">20px</span><span class="p">;</span>
<span class="nl">color</span><span class="p">:</span><span class="no">red</span><span class="p">;</span>
<span class="p">}</span>
</code></pre></div>    </div>
  </li>
  <li>ç›¸é‚»åŒèƒé€‰æ‹©å™¨
ç”¨äºå®šä½åŒä¸€ä¸ªçˆ¶å…ƒç´ ä¸‹ä¸æŸä¸ªå…ƒç´ ç›¸é‚»çš„ä¸‹ä¸€ä¸ªå…ƒç´ ã€‚
    <div class="language-css highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nt">h2</span> <span class="o">+</span> <span class="nt">p</span><span class="p">{</span>
<span class="nl">font-size</span><span class="p">:</span><span class="m">1.4em</span><span class="p">;</span>
<span class="p">}</span>
</code></pre></div>    </div>
  </li>
  <li>å±æ€§é€‰æ‹©å™¨
æ ¹æ®æŸä¸ªå±æ€§æ˜¯å¦å­˜åœ¨æˆ–è€…å±æ€§çš„å€¼æ¥å¯»æ‰¾å…ƒç´ ã€‚</li>
</ul>

<div class="language-css highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nt">abbr</span><span class="o">[</span><span class="nt">title</span><span class="o">]</span><span class="p">{</span>
<span class="nl">border-bottom</span><span class="p">:</span><span class="m">1px</span> <span class="nb">dotted</span> <span class="m">#999</span><span class="p">;</span>
<span class="p">}</span>

<span class="nt">abbr</span><span class="o">[</span><span class="nt">title</span><span class="o">]</span><span class="nd">:hover</span><span class="p">{</span>
<span class="nl">cursor</span><span class="p">:</span><span class="nb">help</span><span class="p">;</span>
<span class="p">}</span>

<span class="nt">a</span><span class="o">[</span><span class="nt">rel</span><span class="o">=</span><span class="err">â€™</span><span class="nt">nofollow</span><span class="err">â€™</span><span class="o">]</span><span class="p">{</span>
<span class="nl">color</span><span class="p">:</span><span class="no">red</span><span class="p">;</span>
<span class="p">}</span>
</code></pre></div></div>

<p>æ³¨æ„ï¼šå±æ€§åæ— å¼•å·ï¼Œå±æ€§å€¼æœ‰å¼•å·ã€‚</p>

<p>å¯¹äºå±æ€§å¯ä»¥æœ‰å¤šä¸ªå€¼çš„æƒ…å†µï¼ˆç©ºæ ¼åˆ†å‰²ï¼‰ï¼Œå±æ€§é€‰æ‹©å™¨å…è®¸æ ¹æ®å±æ€§å€¼ä¹‹ä¸€æ¥å¯»æ‰¾å…ƒç´ ï¼š</p>

<div class="language-css highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nc">.blogroll</span> <span class="nt">a</span><span class="o">[</span><span class="nt">rel</span><span class="o">~=</span><span class="err">â€™</span><span class="nt">co-worker</span><span class="err">â€™</span><span class="o">]</span><span class="p">{</span><span class="err">...</span><span class="p">}</span>
</code></pre></div></div>

<h2 id="selfthis">self=this</h2>

<p>This question is not specific to jQuery, but specific to JavaScript in general. <u>The core problem is how to "channel" a variable in embedded functions</u>. This is the example:</p>

<div class="language-javascript highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kd">var</span> <span class="nx">abc</span> <span class="o">=</span> <span class="mi">1</span><span class="p">;</span> <span class="c1">// we want to use this variable in embedded functions</span>

<span class="kd">function</span> <span class="nx">xyz</span><span class="p">(){</span>
  <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">abc</span><span class="p">);</span> <span class="c1">// it is available here!</span>
  <span class="kd">function</span> <span class="nx">qwe</span><span class="p">(){</span>
    <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">abc</span><span class="p">);</span> <span class="c1">// it is available here too!</span>
  <span class="p">}</span>
  <span class="p">...</span>
<span class="p">};</span>
</code></pre></div></div>
<p>This technique relies on using a closure. But it doesnâ€™t work with this because this is a pseudo variable that may change from scope to scope dynamically:</p>
<div class="language-javascript highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c1">// we want to use "this" variable in embedded functions</span>

<span class="kd">function</span> <span class="nx">xyz</span><span class="p">(){</span>
  <span class="c1">// "this" is different here!</span>
  <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="k">this</span><span class="p">);</span> <span class="c1">// not what we wanted!</span>
  <span class="kd">function</span> <span class="nx">qwe</span><span class="p">(){</span>
    <span class="c1">// "this" is different here too!</span>
    <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="k">this</span><span class="p">);</span> <span class="c1">// not what we wanted!</span>
  <span class="p">}</span>
  <span class="p">...</span>
<span class="p">};</span>
</code></pre></div></div>
<p>What can we do? Assign it to some variable and use it through the alias:</p>
<div class="language-javascript highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kd">var</span> <span class="nb">self</span> <span class="o">=</span> <span class="k">this</span><span class="p">;</span> <span class="c1">// we want to use this variable in embedded functions</span>

<span class="kd">function</span> <span class="nx">xyz</span><span class="p">(){</span>
  <span class="c1">// "this" is different here! --- but we don't care!</span>
  <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nb">self</span><span class="p">);</span> <span class="c1">// now it is the right object!</span>
  <span class="kd">function</span> <span class="nx">qwe</span><span class="p">(){</span>
    <span class="c1">// "this" is different here too! --- but we don't care!</span>
    <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nb">self</span><span class="p">);</span> <span class="c1">// it is the right object here too!</span>
  <span class="p">}</span>
  <span class="p">...</span>
<span class="p">};</span>
</code></pre></div></div>
<p>this is not unique in this respect: arguments is the other pseudo variable that should be treated the same way â€” by aliasing.</p>

<h2 id="ä½¿ç”¨-slicecallå°†å¯¹è±¡è½¬æ¢ä¸ºæ•°ç»„çš„å±€é™æ€§">ä½¿ç”¨ [].slice.callå°†å¯¹è±¡è½¬æ¢ä¸ºæ•°ç»„çš„å±€é™æ€§</h2>

<div class="language-javascript highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kd">var</span> <span class="nx">arrayLike</span> <span class="o">=</span> <span class="p">{</span>
    <span class="dl">'</span><span class="s1">0</span><span class="dl">'</span><span class="p">:</span> <span class="dl">'</span><span class="s1">a</span><span class="dl">'</span><span class="p">,</span>
    <span class="dl">'</span><span class="s1">1</span><span class="dl">'</span><span class="p">:</span> <span class="dl">'</span><span class="s1">b</span><span class="dl">'</span><span class="p">,</span>
    <span class="dl">'</span><span class="s1">2</span><span class="dl">'</span><span class="p">:</span> <span class="dl">'</span><span class="s1">c</span><span class="dl">'</span><span class="p">,</span>
    <span class="na">length</span><span class="p">:</span> <span class="mi">3</span>
<span class="p">};</span>

<span class="kd">var</span> <span class="nx">arr</span> <span class="o">=</span> <span class="p">[].</span><span class="nx">slice</span><span class="p">.</span><span class="nx">call</span><span class="p">(</span><span class="nx">arrayLike</span><span class="p">);</span> 
<span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">arr</span><span class="p">);</span>  <span class="c1">// ["a", "b", "c"]</span>
</code></pre></div></div>
<p>è¢«è½¬æ¢ä¸ºæ•°ç»„çš„å¯¹è±¡å¿…é¡»æœ‰lengthå±æ€§ï¼Œæ‰€è°“<u>ç±»ä¼¼æ•°ç»„çš„å¯¹è±¡</u>ï¼Œæœ¬è´¨ç‰¹å¾åªæœ‰ä¸€ç‚¹ï¼Œå³å¿…é¡»æœ‰lengthå±æ€§ã€‚</p>

<div class="language-javascript highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kd">var</span> <span class="nx">arrayLike</span> <span class="o">=</span> <span class="p">{</span>
    <span class="dl">'</span><span class="s1">0</span><span class="dl">'</span><span class="p">:</span> <span class="dl">'</span><span class="s1">a</span><span class="dl">'</span><span class="p">,</span>
    <span class="dl">'</span><span class="s1">1</span><span class="dl">'</span><span class="p">:</span> <span class="dl">'</span><span class="s1">b</span><span class="dl">'</span><span class="p">,</span>
    <span class="dl">'</span><span class="s1">2</span><span class="dl">'</span><span class="p">:</span> <span class="dl">'</span><span class="s1">c</span><span class="dl">'</span>
<span class="p">};</span>


<span class="kd">var</span> <span class="nx">arr</span> <span class="o">=</span> <span class="p">[].</span><span class="nx">slice</span><span class="p">.</span><span class="nx">call</span><span class="p">(</span><span class="nx">arrayLike</span><span class="p">);</span> 
<span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">arr</span><span class="p">);</span>  <span class="c1">// []</span>
</code></pre></div></div>

<h2 id="è§£å†³jqueryä¸åŒç‰ˆæœ¬ä¹‹é—´ä¸å…¶ä»–jsåº“ä¹‹é—´çš„å†²çª">è§£å†³jQueryä¸åŒç‰ˆæœ¬ä¹‹é—´ã€ä¸å…¶ä»–jsåº“ä¹‹é—´çš„å†²çª</h2>

<ul>
  <li>åŒä¸€é¡µé¢jQueryå¤šä¸ªç‰ˆæœ¬æˆ–å†²çªè§£å†³æ–¹æ³•</li>
</ul>

<div class="language-javascript highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="o">&lt;</span><span class="nx">html</span> <span class="nx">lang</span><span class="o">=</span><span class="dl">"</span><span class="s2">en</span><span class="dl">"</span> <span class="nx">xmlns</span><span class="o">=</span><span class="dl">"</span><span class="s2">http://www.w3.org/1999/xhtml</span><span class="dl">"</span><span class="o">&gt;</span>
 <span class="o">&lt;</span><span class="nx">head</span><span class="o">&gt;</span>
 <span class="o">&lt;</span><span class="sr">/head</span><span class="err">&gt;
</span> <span class="o">&lt;</span><span class="nx">body</span><span class="o">&gt;</span>
     <span class="c">&lt;!--</span> <span class="nx">å¼•å…¥</span> <span class="nx">jquery</span> <span class="mf">1.8</span><span class="p">.</span><span class="mi">0</span> <span class="o">--&gt;</span>
     <span class="o">&lt;</span><span class="nx">script</span> <span class="nx">type</span><span class="o">=</span><span class="dl">"</span><span class="s2">text/javascript</span><span class="dl">"</span> <span class="nx">src</span><span class="o">=</span><span class="dl">"</span><span class="s2">http://code.jquery.com/jquery-1.8.0.min.js</span><span class="dl">"</span><span class="o">&gt;&lt;</span><span class="sr">/script</span><span class="err">&gt;
</span>     <span class="o">&lt;</span><span class="nx">script</span> <span class="nx">type</span><span class="o">=</span><span class="dl">"</span><span class="s2">text/javascript</span><span class="dl">"</span><span class="o">&gt;</span>
         <span class="kd">var</span> <span class="nx">$180</span> <span class="o">=</span> <span class="nx">$</span><span class="p">;</span>
     <span class="o">&lt;</span><span class="sr">/script</span><span class="err">&gt;
</span>     <span class="c">&lt;!--</span> <span class="nx">å¼•å…¥</span> <span class="nx">jquery</span> <span class="mf">1.9</span><span class="p">.</span><span class="mi">0</span> <span class="o">--&gt;</span>
     <span class="o">&lt;</span><span class="nx">script</span> <span class="nx">type</span><span class="o">=</span><span class="dl">"</span><span class="s2">text/javascript</span><span class="dl">"</span> <span class="nx">src</span><span class="o">=</span><span class="dl">"</span><span class="s2">http://code.jquery.com/jquery-1.9.0.min.js</span><span class="dl">"</span><span class="o">&gt;&lt;</span><span class="sr">/script</span><span class="err">&gt;
</span>     <span class="o">&lt;</span><span class="nx">script</span> <span class="nx">type</span><span class="o">=</span><span class="dl">"</span><span class="s2">text/javascript</span><span class="dl">"</span><span class="o">&gt;</span>
         <span class="kd">var</span> <span class="nx">$190</span> <span class="o">=</span> <span class="nx">$</span><span class="p">;</span>
     <span class="o">&lt;</span><span class="sr">/script</span><span class="err">&gt;
</span>     <span class="c">&lt;!--</span> <span class="nx">å¼•å…¥</span> <span class="nx">jquery</span> <span class="mf">2.0</span><span class="p">.</span><span class="mi">0</span> <span class="o">--&gt;</span>
     <span class="o">&lt;</span><span class="nx">script</span> <span class="nx">type</span><span class="o">=</span><span class="dl">"</span><span class="s2">text/javascript</span><span class="dl">"</span> <span class="nx">src</span><span class="o">=</span><span class="dl">"</span><span class="s2">http://code.jquery.com/jquery-2.0.0.min.js</span><span class="dl">"</span><span class="o">&gt;&lt;</span><span class="sr">/script</span><span class="err">&gt;
</span>     <span class="o">&lt;</span><span class="nx">script</span> <span class="nx">type</span><span class="o">=</span><span class="dl">"</span><span class="s2">text/javascript</span><span class="dl">"</span><span class="o">&gt;</span>
         <span class="kd">var</span> <span class="nx">$200</span> <span class="o">=</span> <span class="nx">$</span><span class="p">;</span>
     <span class="o">&lt;</span><span class="sr">/script</span><span class="err">&gt;
</span>
    <span class="o">&lt;</span><span class="nx">script</span> <span class="nx">type</span><span class="o">=</span><span class="dl">"</span><span class="s2">text/javascript</span><span class="dl">"</span><span class="o">&gt;</span>
         <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">$180</span><span class="p">.</span><span class="nx">fn</span><span class="p">.</span><span class="nx">jquery</span><span class="p">);</span>
         <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">$190</span><span class="p">.</span><span class="nx">fn</span><span class="p">.</span><span class="nx">jquery</span><span class="p">);</span>
         <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">$200</span><span class="p">.</span><span class="nx">fn</span><span class="p">.</span><span class="nx">jquery</span><span class="p">);</span>
     <span class="o">&lt;</span><span class="sr">/script</span><span class="err">&gt;
</span> <span class="o">&lt;</span><span class="sr">/body</span><span class="err">&gt;
</span> <span class="o">&lt;</span><span class="sr">/html</span><span class="err">&gt;
</span></code></pre></div></div>

<ul>
  <li>åŒä¸€é¡µé¢jQueryå’Œå…¶ä»–jsåº“å†²çªè§£å†³æ–¹æ³•
1ï¼‰jQueryåœ¨å…¶ä»–jsåº“ä¹‹å‰
```javascript</li>
</ul>
<html lang="en" xmlns="http://www.w3.org/1999/xhtml">
 <head>
 </head>
 <body>
     <!-- å¼•å…¥ jquery 1.8.0 -->
     <script type="text/javascript" src="http://code.jquery.com/jquery-1.8.0.min.js"></script>
     <script type="text/javascript">
         var $180 = $;
         console.log($.fn.jquery);		# 1.8.0
     </script>
     <!-- å¼•å…¥ å…¶ä»–åº“-->
     <script type="text/javascript">
         $ = {
             fn:{
                 jquery:"111cn.net"
             }
         };
     </script>

    <script type="text/javascript">        
         console.log($.fn.jquery);		# 111cn.net
         console.log($180.fn.jquery);		# 1.8.0
     </script>
 </body>
 </html>
<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>
2ï¼‰jQueryåœ¨å…¶ä»–jsåº“å
```javascript
&lt;html lang="en" xmlns="http://www.w3.org/1999/xhtml"&gt;
 &lt;head&gt;
 &lt;/head&gt;
 &lt;body&gt;
     &lt;!-- å¼•å…¥ å…¶ä»–åº“--&gt;
     &lt;script type="text/javascript"&gt;
         $ = {
             fn:{
                 jquery:"111cn.net"
             }
         };
     &lt;/script&gt;
     &lt;!-- å¼•å…¥ jquery 1.8.0 --&gt;
    &lt;script type="text/javascript" src="http://code.jquery.com/jquery-1.8.0.min.js"&gt;&lt;/script&gt;
    &lt;script type="text/javascript"&gt;    
         console.log($.fn.jquery);    	# 1.8.0
         var $180 = $.noConflict();
         console.log($.fn.jquery);		# 111cn.net
         console.log($180.fn.jquery);		# 1.8.0
     &lt;/script&gt;
 &lt;/body&gt;
 &lt;/html&gt;
</code></pre></div></div>

<h2 id="javascriptä¸­__proto__ä¸prototypeçš„å…³ç³»">JavaScriptä¸­__proto__ä¸prototypeçš„å…³ç³»</h2>

<p><code class="language-plaintext highlighter-rouge">__proto__</code> å¯¹è±¡çš„å†…éƒ¨åŸå‹
<code class="language-plaintext highlighter-rouge">prototype</code> æ„é€ å‡½æ•°çš„åŸå‹</p>

<ul>
  <li>æ‰€æœ‰å‡½æ•°/æ„é€ å‡½æ•°ï¼ˆåŒ…æ‹¬å†…ç½®çš„ã€è‡ªå®šä¹‰çš„ï¼‰çš„<code class="language-plaintext highlighter-rouge">__proto__</code>éƒ½æŒ‡å‘Function.prototypeï¼Œå®ƒæ˜¯ä¸€ä¸ªç©ºå‡½æ•°ï¼ˆEmpty functionï¼‰
    <div class="language-javascript highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nb">Number</span><span class="p">.</span><span class="nx">__proto__</span> <span class="o">===</span> <span class="nb">Function</span><span class="p">.</span><span class="nx">prototype</span>  <span class="c1">// true</span>
</code></pre></div>    </div>
  </li>
</ul>

<p>Globalå¯¹è±¡çš„<code class="language-plaintext highlighter-rouge">__proto__</code>ä¸èƒ½ç›´æ¥è®¿é—®ï¼›
Argumentså¯¹è±¡ä»…åœ¨å‡½æ•°è°ƒç”¨æ—¶ç”±JSå¼•æ“åˆ›å»ºï¼›
Mathï¼ŒJSONæ˜¯ä»¥å¯¹è±¡å½¢å¼å­˜åœ¨çš„ï¼Œæ— éœ€newï¼Œå®ƒä»¬çš„<code class="language-plaintext highlighter-rouge">__proto__</code>æ˜¯Object.prototypeï¼š</p>
<div class="language-js highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nx">JSON</span><span class="p">.</span><span class="nx">__proto__</span> <span class="o">===</span> <span class="nb">Object</span><span class="p">.</span><span class="nx">prototype</span>  <span class="c1">// true</span>
</code></pre></div></div>

<ul>
  <li>
    <p>æ„é€ å‡½æ•°éƒ½æ¥è‡ªäºFunction.prototypeï¼ŒåŒ…æ‹¬ObjectåŠFunctionè‡ªèº«ï¼Œå› æ­¤éƒ½ç»§æ‰¿äº†Function.prototypeçš„å±æ€§åŠæ–¹æ³•ã€‚å¦‚lengthã€callã€applyã€bindç­‰ã€‚</p>
  </li>
  <li>Function.prototypeä¹Ÿæ˜¯å”¯ä¸€ä¸€ä¸ªtypeof XXX.prototypeä¸º â€œfunctionâ€çš„prototypeã€‚å…¶å®ƒçš„æ„é€ å™¨çš„prototypeéƒ½æ˜¯ä¸€ä¸ªå¯¹è±¡ï¼š
    <div class="language-javascript highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="k">typeof</span> <span class="nb">Function</span><span class="p">.</span><span class="nx">prototype</span><span class="p">)</span> <span class="c1">// function  ä¸€ä¸ªç©ºå‡½æ•°</span>
<span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="k">typeof</span> <span class="nb">Object</span><span class="p">.</span><span class="nx">prototype</span><span class="p">)</span>   <span class="c1">// object</span>
<span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="k">typeof</span> <span class="nb">Number</span><span class="p">.</span><span class="nx">prototype</span><span class="p">)</span>   <span class="c1">// object</span>
</code></pre></div>    </div>
  </li>
  <li>Function.prototypeçš„__proto__ç­‰äºObjectçš„prototypeï¼š
    <div class="language-javascript highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nb">Function</span><span class="p">.</span><span class="nx">prototype</span><span class="p">.</span><span class="nx">__proto__</span> <span class="o">===</span> <span class="nb">Object</span><span class="p">.</span><span class="nx">prototype</span><span class="p">)</span> <span class="c1">// true  ä½“ç°äº†åœ¨Javascriptä¸­`å‡½æ•°ä¹Ÿæ˜¯ä¸€ç­‰å…¬æ°‘`</span>
</code></pre></div>    </div>
  </li>
  <li>Object.prototypeçš„__proto__ä¸ºnull
    <div class="language-javascript highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nb">Object</span><span class="p">.</span><span class="nx">prototype</span><span class="p">.</span><span class="nx">__proto__</span> <span class="o">===</span> <span class="kc">null</span>  <span class="c1">// true  åˆ°é¡¶äº†</span>
</code></pre></div>    </div>
  </li>
  <li>æ‰€æœ‰å¯¹è±¡çš„__proto__éƒ½æŒ‡å‘å…¶æ„é€ å™¨çš„prototype</li>
</ul>

<div class="language-javascript highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kd">var</span> <span class="nx">obj</span> <span class="o">=</span> <span class="p">{</span><span class="na">name</span><span class="p">:</span> <span class="dl">'</span><span class="s1">jack</span><span class="dl">'</span><span class="p">}</span>
<span class="kd">var</span> <span class="nx">arr</span> <span class="o">=</span> <span class="p">[</span><span class="mi">1</span><span class="p">,</span><span class="mi">2</span><span class="p">,</span><span class="mi">3</span><span class="p">]</span>
<span class="kd">var</span> <span class="nx">reg</span> <span class="o">=</span> <span class="sr">/hello/g</span>

<span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">obj</span><span class="p">.</span><span class="nx">__proto__</span> <span class="o">===</span> <span class="nb">Object</span><span class="p">.</span><span class="nx">prototype</span><span class="p">)</span> <span class="c1">// true</span>
<span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">arr</span><span class="p">.</span><span class="nx">__proto__</span> <span class="o">===</span> <span class="nb">Array</span><span class="p">.</span><span class="nx">prototype</span><span class="p">)</span>  <span class="c1">// true</span>
<span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">reg</span><span class="p">.</span><span class="nx">__proto__</span> <span class="o">===</span> <span class="nb">RegExp</span><span class="p">.</span><span class="nx">prototype</span><span class="p">)</span> <span class="c1">// true</span>

<span class="kd">function</span> <span class="nx">Person</span><span class="p">(</span><span class="nx">name</span><span class="p">)</span> <span class="p">{</span>
  <span class="k">this</span><span class="p">.</span><span class="nx">name</span> <span class="o">=</span> <span class="nx">name</span>
<span class="p">}</span>
<span class="kd">var</span> <span class="nx">p</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">Person</span><span class="p">(</span><span class="dl">'</span><span class="s1">jack</span><span class="dl">'</span><span class="p">)</span>
<span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">p</span><span class="p">.</span><span class="nx">__proto__</span> <span class="o">===</span> <span class="nx">Person</span><span class="p">.</span><span class="nx">prototype</span><span class="p">)</span> <span class="c1">// true</span>
<span class="err">â€‹</span><span class="s2">```


* æ¯ä¸ªå¯¹è±¡éƒ½æœ‰ä¸€ä¸ª`</span><span class="nx">constructorå±æ€§</span><span class="s2">`ï¼Œå¯ä»¥è·å–å®ƒçš„æ„é€ å™¨

â€‹```</span>
<span class="kd">function</span> <span class="nx">Person</span><span class="p">(</span><span class="nx">name</span><span class="p">)</span> <span class="p">{</span>
  <span class="k">this</span><span class="p">.</span><span class="nx">name</span> <span class="o">=</span> <span class="nx">name</span>
<span class="p">}</span>

<span class="nx">Person</span><span class="p">.</span><span class="nx">prototype</span><span class="p">.</span><span class="nx">getName</span> <span class="o">=</span> <span class="kd">function</span><span class="p">()</span> <span class="p">{}</span>  <span class="c1">// ä¿®æ”¹åŸå‹</span>
<span class="kd">var</span> <span class="nx">p</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">Person</span><span class="p">(</span><span class="dl">'</span><span class="s1">jack</span><span class="dl">'</span><span class="p">)</span>
<span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">p</span><span class="p">.</span><span class="nx">__proto__</span> <span class="o">===</span> <span class="nx">Person</span><span class="p">.</span><span class="nx">prototype</span><span class="p">)</span> <span class="c1">// true</span>
<span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">p</span><span class="p">.</span><span class="nx">__proto__</span> <span class="o">===</span> <span class="nx">p</span><span class="p">.</span><span class="kd">constructor</span><span class="p">.</span><span class="nx">prototype</span><span class="p">)</span> <span class="c1">// true</span>
</code></pre></div></div>

<ul>
  <li>ä½¿ç”¨å¯¹è±¡å­—é¢é‡æ–¹å¼å®šä¹‰å¯¹è±¡çš„æ„é€ å‡½æ•°ï¼Œåˆ™å¯¹è±¡çš„constructorçš„prototypeå¯èƒ½ä¸ç­‰äºå¯¹è±¡çš„__proto__</li>
</ul>

<div class="language-javascript highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kd">function</span> <span class="nx">Person</span><span class="p">(</span><span class="nx">name</span><span class="p">)</span> <span class="p">{</span>
  <span class="k">this</span><span class="p">.</span><span class="nx">name</span> <span class="o">=</span> <span class="nx">name</span>
<span class="p">}</span>
  
<span class="c1">// ä½¿ç”¨å¯¹è±¡å­—é¢é‡æ–¹å¼å®šä¹‰çš„å¯¹è±¡å…¶constructoræŒ‡å‘Objectï¼ŒObject.prototypeæ˜¯ä¸€ä¸ªç©ºå¯¹è±¡{}</span>
<span class="nx">Person</span><span class="p">.</span><span class="nx">prototype</span> <span class="o">=</span> <span class="p">{</span>
  <span class="na">getName</span><span class="p">:</span> <span class="kd">function</span><span class="p">()</span> <span class="p">{}</span>
<span class="p">}</span>
<span class="kd">var</span> <span class="nx">p</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">Person</span><span class="p">(</span><span class="dl">'</span><span class="s1">jack</span><span class="dl">'</span><span class="p">)</span>
<span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">p</span><span class="p">.</span><span class="nx">__proto__</span> <span class="o">===</span> <span class="nx">Person</span><span class="p">.</span><span class="nx">prototype</span><span class="p">)</span> <span class="c1">// true</span>
<span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">p</span><span class="p">.</span><span class="nx">__proto__</span> <span class="o">===</span> <span class="nx">p</span><span class="p">.</span><span class="kd">constructor</span><span class="p">.</span><span class="nx">prototype</span><span class="p">)</span> <span class="c1">// false</span>
</code></pre></div></div>

<h2 id="jsä¸­å’Œçš„è¿”å›å€¼">JSä¸­{}+[]å’Œ[]+{}çš„è¿”å›å€¼</h2>

<p>[] + {} ã€‚ä¸€ä¸ªæ•°ç»„åŠ ä¸€ä¸ªå¯¹è±¡ã€‚
åŠ æ³•ä¼šè¿›è¡Œéšå¼ç±»å‹è½¬æ¢ï¼Œè§„åˆ™æ˜¯<u>è°ƒç”¨å…¶ valueOf() æˆ– toString() ä»¥å–å¾—ä¸€ä¸ªéå¯¹è±¡çš„å€¼ï¼ˆprimitive valueï¼‰</u>ã€‚<u>å¦‚æœä¸¤ä¸ªå€¼ä¸­çš„ä»»ä½•ä¸€ä¸ªæ˜¯å­—ç¬¦ä¸²ï¼Œåˆ™è¿›è¡Œå­—ç¬¦ä¸²ä¸²æ¥ï¼Œå¦åˆ™è¿›è¡Œæ•°å­—åŠ æ³•</u>ã€‚
[] å’Œ {} çš„ valueOf() éƒ½è¿”å›å¯¹è±¡è‡ªèº«ï¼Œæ‰€ä»¥éƒ½ä¼šè°ƒç”¨ toString()ï¼Œæœ€åçš„ç»“æœæ˜¯å­—ç¬¦ä¸²ä¸²æ¥ã€‚[].toString() è¿”å›ç©ºå­—ç¬¦ä¸²ï¼Œ({}).toString() è¿”å›â€œ[object Object]â€ã€‚æœ€åçš„ç»“æœå°±æ˜¯â€œ[object Object]â€ã€‚</p>

<p>{} + [] ã€‚çœ‹ä¸Šå»åº”è¯¥å’Œä¸Šé¢ä¸€æ ·ã€‚ä½†æ˜¯ {} é™¤äº†è¡¨ç¤ºä¸€ä¸ªå¯¹è±¡ä¹‹å¤–ï¼Œä¹Ÿå¯ä»¥è¡¨ç¤ºä¸€ä¸ªç©ºçš„ blockã€‚åœ¨ [] + {} ä¸­ï¼Œ[] è¢«è§£æä¸ºæ•°ç»„ï¼Œå› æ­¤åç»­çš„ + è¢«è§£æä¸ºåŠ æ³•è¿ç®—ç¬¦ï¼Œè€Œ {} å°±è§£æä¸ºå¯¹è±¡ã€‚ä½†åœ¨ {} + [] ä¸­ï¼Œ{} è¢«è§£æä¸ºç©ºçš„ blockï¼Œéšåçš„ + è¢«è§£æä¸ºæ­£å·è¿ç®—ç¬¦ã€‚å³å®é™…ä¸Šæˆäº†ï¼š</p>
<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>{ // empty block }
+[]
</code></pre></div></div>
<p>å³å¯¹ä¸€ä¸ªç©ºæ•°ç»„æ‰§è¡Œæ­£å·è¿ç®—ï¼Œå®é™…ä¸Šå°±æ˜¯æŠŠæ•°ç»„è½¬å‹ä¸ºæ•°å­—ã€‚é¦–å…ˆè°ƒç”¨ [].valueOf() ã€‚è¿”å›æ•°ç»„è‡ªèº«ï¼Œä¸æ˜¯primitive valueï¼Œå› æ­¤ç»§ç»­è°ƒç”¨ [].toString() ï¼Œè¿”å›ç©ºå­—ç¬¦ä¸²ã€‚ç©ºå­—ç¬¦ä¸²è½¬å‹ä¸ºæ•°å­—ï¼Œè¿”å›0ï¼Œå³æœ€åçš„ç»“æœã€‚</p>

<h2 id="jså¯¹è±¡éå†é¡ºåºé—®é¢˜">jså¯¹è±¡éå†é¡ºåºé—®é¢˜</h2>

<div class="language-javascript highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kd">var</span> <span class="nx">a</span> <span class="o">=</span> <span class="p">{</span>
  <span class="na">b</span><span class="p">:</span><span class="dl">'</span><span class="s1">a</span><span class="dl">'</span><span class="p">,</span>
  <span class="mi">10</span><span class="p">:</span> <span class="dl">"</span><span class="s2">vv</span><span class="dl">"</span><span class="p">,</span>
  <span class="mi">1</span><span class="p">:</span><span class="dl">"</span><span class="s2">a</span><span class="dl">"</span><span class="p">,</span>
  <span class="na">a</span><span class="p">:</span><span class="dl">''</span>
<span class="p">}</span>
<span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">a</span><span class="p">);</span>
</code></pre></div></div>

<p>Object:
 1:â€aâ€
 10:â€vvâ€
 a:â€â€
 b:â€aâ€</p>

<h2 id="jsonpçš„åŸç†ç†è§£">JSONPçš„åŸç†ç†è§£</h2>

<p>JSONPæ˜¯ä¸€ç§è§£å†³è·¨åŸŸä¼ è¾“JSONæ•°æ®çš„é—®é¢˜çš„è§£å†³æ–¹æ¡ˆï¼Œæ˜¯ä¸€ç§éå®˜æ–¹è·¨åŸŸæ•°æ®äº¤äº’åè®®ã€‚
Ajaxï¼ˆæˆ–è€…è¯´jsï¼‰ç›´æ¥è¯·æ±‚æ™®é€šæ–‡ä»¶å­˜åœ¨è·¨åŸŸæ— æƒé™è®¿é—®çš„é—®é¢˜ï¼Œä½†æ˜¯<u>Webé¡µé¢ä¸Šå‡¡æ˜¯æ‹¥æœ‰"src"å±æ€§çš„æ ‡ç­¾å¼•ç”¨æ–‡ä»¶æ—¶åˆ™ä¸å—æ˜¯å¦è·¨åŸŸçš„å½±å“</u>ã€‚å¦‚æœæƒ³é€šè¿‡çº¯webç«¯ï¼ˆActiveXæ§ä»¶ã€æœåŠ¡ç«¯ä»£ç†ã€Websocketç­‰æ–¹å¼ä¸ç®—ï¼‰è·¨åŸŸè®¿é—®æ•°æ®å°±åªæœ‰ä¸€ç§å¯èƒ½ï¼šåœ¨è¿œç¨‹æœåŠ¡å™¨ä¸Šè®¾æ³•æŠŠæ•°æ®è£…è¿›jsæ ¼å¼çš„æ–‡ä»¶é‡Œï¼Œä¾›å®¢æˆ·ç«¯è°ƒç”¨å’Œè¿›ä¸€æ­¥å¤„ç†ã€‚
ä¸ºäº†ä¾¿äºå®¢æˆ·ç«¯ä½¿ç”¨æ•°æ®ï¼Œé€æ¸å½¢æˆäº†ä¸€ç§éæ­£å¼ä¼ è¾“åè®®:JSONPï¼Œè¯¥åè®®çš„ä¸€ä¸ªè¦ç‚¹å°±æ˜¯<u>å…è®¸ç”¨æˆ·ä¼ é€’ä¸€ä¸ªcallbackå‚æ•°ç»™æœåŠ¡ç«¯ï¼Œç„¶åæœåŠ¡ç«¯è¿”å›æ•°æ®æ—¶ä¼šå°†è¿™ä¸ªcallbackå‚æ•°ä½œä¸ºå‡½æ•°åæ¥åŒ…è£¹ä½JSONæ•°æ®</u>ï¼Œè¿™æ ·å®¢æˆ·ç«¯å°±å¯ä»¥éšæ„å®šåˆ¶è‡ªå·±çš„å‡½æ•°æ¥è‡ªåŠ¨å¤„ç†è¿”å›æ•°æ®äº†ã€‚</p>

<p>ä¾‹ï¼šä½¿ç”¨Javascriptå®ç°JSONP</p>
<div class="language-html highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nt">&lt;html</span> <span class="na">xmlns=</span><span class="s">"http://www.w3.org/1999/xhtml"</span><span class="nt">&gt;</span>
<span class="nt">&lt;head&gt;</span>
    <span class="nt">&lt;title&gt;&lt;/title&gt;</span>
<span class="nt">&lt;script </span><span class="na">type=</span><span class="s">"text/javascript"</span><span class="nt">&gt;</span>
<span class="c1">// å›è°ƒå‡½æ•°</span>
  <span class="kd">var</span> <span class="nx">flightHandler</span> <span class="o">=</span> <span class="kd">function</span><span class="p">(</span><span class="nx">data</span><span class="p">){</span>
    <span class="nx">alert</span><span class="p">(</span><span class="dl">'</span><span class="s1">ä½ æŸ¥è¯¢çš„èˆªç­ç»“æœæ˜¯ï¼šç¥¨ä»· </span><span class="dl">'</span> <span class="o">+</span> <span class="nx">data</span><span class="p">.</span><span class="nx">price</span> <span class="o">+</span> <span class="dl">'</span><span class="s1"> å…ƒï¼Œ</span><span class="dl">'</span> <span class="o">+</span> <span class="dl">'</span><span class="s1">ä½™ç¥¨ </span><span class="dl">'</span> <span class="o">+</span> <span class="nx">data</span><span class="p">.</span><span class="nx">tickets</span> <span class="o">+</span> <span class="dl">'</span><span class="s1"> å¼ ã€‚</span><span class="dl">'</span><span class="p">);</span>
  <span class="p">};</span>

<span class="c1">// æ‹¼å‡‘url</span>
  <span class="kd">var</span> <span class="nx">url</span> <span class="o">=</span> <span class="dl">"</span><span class="s2">http://flightQuery.com/jsonp/flightResult.aspx?code=CA1998&amp;callback=flightHandler</span><span class="dl">"</span><span class="p">;</span>

<span class="c1">// æ‹¼å‡‘</span><span class="o">&lt;</span><span class="nx">script</span><span class="o">&gt;</span><span class="nx">æ ‡ç­¾</span><span class="err">ï¼Œ</span><span class="nx">ç”¨äºå‘å‡ºJSONPè¯·æ±‚</span>
  <span class="kd">var</span> <span class="nx">script</span> <span class="o">=</span> <span class="nb">document</span><span class="p">.</span><span class="nx">createElement</span><span class="p">(</span><span class="dl">'</span><span class="s1">script</span><span class="dl">'</span><span class="p">);</span>
  <span class="nx">script</span><span class="p">.</span><span class="nx">setAttribute</span><span class="p">(</span><span class="dl">'</span><span class="s1">src</span><span class="dl">'</span><span class="p">,</span> <span class="nx">url</span><span class="p">);</span>
  <span class="nb">document</span><span class="p">.</span><span class="nx">getElementsByTagName</span><span class="p">(</span><span class="dl">'</span><span class="s1">head</span><span class="dl">'</span><span class="p">)[</span><span class="mi">0</span><span class="p">].</span><span class="nx">appendChild</span><span class="p">(</span><span class="nx">script</span><span class="p">);</span>
<span class="nt">&lt;/script&gt;</span>
<span class="nt">&lt;/head&gt;</span>
<span class="nt">&lt;body&gt;</span>
<span class="nt">&lt;/body&gt;</span>
<span class="nt">&lt;/html&gt;</span>
</code></pre></div></div>

<p>æœåŠ¡å™¨ç«¯è¿”å›æ ¼å¼ï¼š</p>
<div class="language-json highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="w">  </span><span class="err">flightHandler(</span><span class="p">{</span><span class="w">
    </span><span class="nl">"code"</span><span class="p">:</span><span class="w"> </span><span class="s2">"CA1998"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"price"</span><span class="p">:</span><span class="w"> </span><span class="mi">1780</span><span class="p">,</span><span class="w">
    </span><span class="nl">"tickets"</span><span class="p">:</span><span class="w"> </span><span class="mi">5</span><span class="w">
 </span><span class="p">}</span><span class="err">);</span><span class="w">
</span></code></pre></div></div>

<p>ä¾‹ï¼šä½¿ç”¨jQueryå®ç°JSONP</p>
<div class="language-html highlighter-rouge"><div class="highlight"><pre class="highlight"><code>
      <span class="nt">&lt;script </span><span class="na">type=</span><span class="s">"text/javascript"</span> <span class="na">src=</span><span class="s">jquery.min.js"</span><span class="nt">&gt;&lt;/script&gt;</span>
      <span class="nt">&lt;script </span><span class="na">type=</span><span class="s">"text/javascript"</span><span class="nt">&gt;</span>
     		<span class="nx">jQuery</span><span class="p">(</span><span class="nb">document</span><span class="p">).</span><span class="nx">ready</span><span class="p">(</span><span class="kd">function</span><span class="p">(){</span>
        		<span class="nx">$</span><span class="p">.</span><span class="nx">ajax</span><span class="p">({</span>
             		<span class="na">type</span><span class="p">:</span> <span class="dl">"</span><span class="s2">get</span><span class="dl">"</span><span class="p">,</span>
             		<span class="na">async</span><span class="p">:</span> <span class="kc">false</span><span class="p">,</span>
             		<span class="na">url</span><span class="p">:</span> <span class="dl">"</span><span class="s2">http://flightQuery.com/jsonp/flightResult.aspx?code=CA1998</span><span class="dl">"</span><span class="p">,</span>
             		<span class="na">dataType</span><span class="p">:</span> <span class="dl">"</span><span class="s2">jsonp</span><span class="dl">"</span><span class="p">,</span>
             		<span class="na">jsonp</span><span class="p">:</span> <span class="dl">"</span><span class="s2">callback</span><span class="dl">"</span><span class="p">,</span>		<span class="c1">// ä¼ é€’ç»™è¯·æ±‚å¤„ç†ç¨‹åºæˆ–é¡µé¢çš„ï¼Œç”¨ä»¥è·å¾—jsonpå›è°ƒå‡½æ•°åçš„å‚æ•°å(ä¸€èˆ¬é»˜è®¤ä¸º:callback)</span>
             		<span class="na">jsonpCallback</span><span class="p">:</span><span class="dl">"</span><span class="s2">flightHandler</span><span class="dl">"</span><span class="p">,</span>		<span class="c1">// è‡ªå®šä¹‰çš„jsonpå›è°ƒå‡½æ•°åç§°ï¼Œæ²¡æœ‰å®šä¹‰çš„è¯ä¼šjQueryä¼šè‡ªåŠ¨ç”Ÿæˆä»¥jQueryå¼€å¤´çš„å‡½æ•°</span>
             		<span class="na">success</span><span class="p">:</span> <span class="kd">function</span><span class="p">(</span><span class="nx">json</span><span class="p">){</span>
                 		<span class="nx">alert</span><span class="p">(</span><span class="dl">'</span><span class="s1">æ‚¨æŸ¥è¯¢åˆ°èˆªç­ä¿¡æ¯ï¼šç¥¨ä»·ï¼š </span><span class="dl">'</span> <span class="o">+</span> <span class="nx">json</span><span class="p">.</span><span class="nx">price</span> <span class="o">+</span> <span class="dl">'</span><span class="s1"> å…ƒï¼Œä½™ç¥¨ï¼š </span><span class="dl">'</span> <span class="o">+</span> <span class="nx">json</span><span class="p">.</span><span class="nx">tickets</span> <span class="o">+</span> <span class="dl">'</span><span class="s1"> å¼ ã€‚</span><span class="dl">'</span><span class="p">);</span>
             		<span class="p">},</span>
             		<span class="na">error</span><span class="p">:</span> <span class="kd">function</span><span class="p">(){</span>
                 		<span class="nx">alert</span><span class="p">(</span><span class="dl">'</span><span class="s1">fail</span><span class="dl">'</span><span class="p">);</span>
             		<span class="p">}</span>
         		<span class="p">});</span>
    		 <span class="p">});</span>
     <span class="nt">&lt;/script&gt;</span>
</code></pre></div></div>
<p>jqueryåœ¨å¤„ç†jsonpç±»å‹çš„ajaxæ—¶è‡ªåŠ¨ç”Ÿæˆå›è°ƒå‡½æ•°å¹¶æŠŠæ•°æ®ï¼ˆå³ä¸å«å‡½æ•°åçš„çº¯jsonæ ¼å¼çš„æ•°æ®ï¼‰å–å‡ºæ¥ä¾›successå±æ€§æ–¹æ³•æ¥è°ƒç”¨ã€‚</p>

<h2 id="amdè§„èŒƒrequirejsç†è§£">AMDè§„èŒƒã€requireJSç†è§£</h2>
<p>AMDè§„èŒƒï¼šAsynchronous Module Definitionï¼Œå³<u>å¼‚æ­¥æ¨¡å—åŠ è½½æœºåˆ¶</u>ã€‚AMDè§„èŒƒç®€å•åˆ°<u>åªæœ‰ä¸€ä¸ªAPI</u>ï¼Œå³defineå‡½æ•°ï¼š</p>
<div class="language-javascript highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nx">define</span><span class="p">([</span><span class="nx">module</span><span class="o">-</span><span class="nx">name</span><span class="p">?],</span> <span class="p">[</span><span class="nx">array</span><span class="o">-</span><span class="k">of</span><span class="o">-</span><span class="nx">dependencies</span><span class="p">?],</span> <span class="p">[</span><span class="nx">module</span><span class="o">-</span><span class="nx">factory</span><span class="o">-</span><span class="nx">or</span><span class="o">-</span><span class="nx">object</span><span class="p">]);</span>
</code></pre></div></div>
<ul>
  <li>module-name: æ¨¡å—æ ‡è¯†ï¼Œå¯ä»¥çœç•¥ã€‚</li>
  <li>array-of-dependencies: æ‰€ä¾èµ–çš„æ¨¡å—ï¼Œå¯ä»¥çœç•¥ã€‚</li>
  <li>module-factory-or-object: æ¨¡å—çš„å®ç°ï¼Œæˆ–è€…ä¸€ä¸ªJavaScriptå¯¹è±¡ã€‚
å½“defineå‡½æ•°æ‰§è¡Œæ—¶ï¼Œå®ƒé¦–å…ˆä¼šå¼‚æ­¥åœ°å»è°ƒç”¨ç¬¬äºŒä¸ªå‚æ•°ä¸­åˆ—å‡ºçš„ä¾èµ–æ¨¡å—ï¼Œå½“æ‰€æœ‰çš„æ¨¡å—è¢«è½½å…¥å®Œæˆä¹‹åï¼Œå¦‚æœç¬¬ä¸‰ä¸ªå‚æ•°æ˜¯ä¸€ä¸ªå›è°ƒå‡½æ•°åˆ™æ‰§è¡Œï¼Œç„¶åå‘Šè¯‰ç³»ç»Ÿæ¨¡å—å¯ç”¨ï¼Œä¹Ÿå°±é€šçŸ¥äº†ä¾èµ–äºè‡ªå·±çš„æ¨¡å—è‡ªå·±å·²ç»å¯ç”¨ã€‚
å®ä¾‹ï¼š
    <div class="language-javascript highlighter-rouge"><div class="highlight"><pre class="highlight"><code>  <span class="nx">define</span><span class="p">(</span><span class="dl">"</span><span class="s2">alpha</span><span class="dl">"</span><span class="p">,</span> <span class="p">[</span><span class="dl">"</span><span class="s2">require</span><span class="dl">"</span><span class="p">,</span> <span class="dl">"</span><span class="s2">exports</span><span class="dl">"</span><span class="p">,</span> <span class="dl">"</span><span class="s2">beta</span><span class="dl">"</span><span class="p">],</span> <span class="kd">function</span> <span class="p">(</span><span class="nx">require</span><span class="p">,</span> <span class="nx">exports</span><span class="p">,</span> <span class="nx">beta</span><span class="p">)</span> <span class="p">{</span>	<span class="c1">// ä¾èµ–çš„æ¨¡å—åšå‚æ•°ä¼ å…¥</span>
<span class="err">ã€€ã€€</span>	<span class="nx">exports</span><span class="p">.</span><span class="nx">verb</span> <span class="o">=</span> <span class="kd">function</span><span class="p">()</span> <span class="p">{</span>	
<span class="err">ã€€ã€€</span>		<span class="k">return</span> <span class="nx">beta</span><span class="p">.</span><span class="nx">verb</span><span class="p">();</span>
<span class="err">ã€€ã€€</span>	<span class="p">}</span>
<span class="err">ã€€ã€€</span><span class="p">});</span>
</code></pre></div>    </div>
    <p>requireJSä¾‹ä¸€ï¼šä½¿ç”¨requirejsåŠ¨æ€åŠ è½½jquery
ç›®å½•ç»“æ„ï¼š</p>
    <div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>/web
/index.html				# é¡µé¢æ–‡ä»¶
/jquery-1.7.2.js			# jqueryæ¨¡å—
/main.js					# jsåŠ è½½ä¸»å…¥å£ï¼Œåœ¨å¼•ç”¨require.jsæ–‡ä»¶æ—¶é€šè¿‡data-mainå±æ€§æŒ‡å®š
/require.js				# requireJSæ–‡ä»¶
</code></pre></div>    </div>
    <p>index.htmlæ–‡ä»¶å†…å®¹ï¼š
```html
&lt;!doctype html&gt;</p>
  </li>
</ul>
<html>
    <head>
        <meta charset="utf-8" />
        <script data-main="main" src="require.js"></script>		# â€œmainâ€æŒ‡å‘æ¨¡å—åŠ è½½å…¥å£æ–‡ä»¶main.js
    </head>
    <body>
  	...
    </body>
</html>
<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>main.jsæ–‡ä»¶å†…å®¹ï¼š
```javascript
require.config({
    paths: {
        jquery: 'jquery-1.7.2'
    }
});
 
require(['jquery'], function($) {		
    alert($().jquery);
});
</code></pre></div></div>
<p>å¼•ç”¨æ¨¡å—jqueryï¼Œå› ä¸ºè¿™é‡Œé…ç½®äº†jqueryçš„pathså‚æ•°ï¼Œæ‰€ä»¥å°†ä½¿ç”¨å‚æ•°æ‰€å¯¹åº”çš„å€¼â€™jquery-1.7.2â€™ï¼ˆjsåç¼€åçœç•¥ï¼‰ã€‚
jQueryä»1.7ä»¥åæ”¯æŒAMDè§„èŒƒï¼Œæ‰€ä»¥å½“jQueryä½œä¸ºä¸€ä¸ªAMDæ¨¡å—è¿è¡Œæ—¶ï¼Œå®ƒçš„æ¨¡å—åæ˜¯jqueryï¼ˆåŒºåˆ†å¤§å°å†™ï¼‰ã€‚
å¦‚æœæ–‡ä»¶åâ€™jquery-1.7.2â€™æ”¹ä¸ºjqueryï¼Œåˆ™æ— éœ€é…ç½®pathå‚æ•°ã€‚</p>

<p>requireJSä¾‹äºŒï¼šä½¿ç”¨è‡ªå®šä¹‰æ¨¡å—
ç›®å½•ç»“æ„ï¼š</p>
<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>/web
/js
/cache.js				# è‡ªå®šä¹‰æ¨¡å—
/event.js				# è‡ªå®šä¹‰æ¨¡å—
/main.js			
/selector.js			# è‡ªå®šä¹‰æ¨¡å—
/index.html
/require.js
</code></pre></div></div>

<p>index.htmlæ–‡ä»¶å†…å®¹ï¼š</p>
<div class="language-html highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nt">&lt;html&gt;</span>
    <span class="nt">&lt;head&gt;</span>
        <span class="nt">&lt;meta</span> <span class="na">charset=</span><span class="s">"utf-8"</span><span class="nt">&gt;</span>
        <span class="nt">&lt;style </span><span class="na">type=</span><span class="s">"text/css"</span><span class="nt">&gt;</span>
            <span class="nt">p</span> <span class="p">{</span>
                <span class="nl">width</span><span class="p">:</span> <span class="m">200px</span><span class="p">;</span>
                <span class="nl">background</span><span class="p">:</span> <span class="no">gray</span><span class="p">;</span>
            <span class="p">}</span>
        <span class="nt">&lt;/style&gt;</span>
    <span class="nt">&lt;/head&gt;</span>
    <span class="nt">&lt;body&gt;</span>
        <span class="nt">&lt;p&gt;</span>p1<span class="nt">&lt;/p&gt;&lt;p&gt;</span>p2<span class="nt">&lt;/p&gt;&lt;p&gt;</span>p3<span class="nt">&lt;/p&gt;&lt;p&gt;</span>p4<span class="nt">&lt;/p&gt;&lt;p&gt;</span>p5<span class="nt">&lt;/p&gt;</span>
        <span class="nt">&lt;script </span><span class="na">data-main=</span><span class="s">"js/main"</span> <span class="na">src=</span><span class="s">"require.js"</span><span class="nt">&gt;&lt;/script&gt;</span>
    <span class="nt">&lt;/body&gt;</span>
<span class="nt">&lt;/html&gt;</span>
</code></pre></div></div>
<p>cacheæ¨¡å—å†…å®¹ï¼šè¿”å›ä¸€ä¸ªjså¯¹è±¡</p>
<div class="language-javascript highlighter-rouge"><div class="highlight"><pre class="highlight"><code>	<span class="nx">define</span><span class="p">(</span><span class="kd">function</span><span class="p">()</span> <span class="p">{</span>
<span class="p">...</span>
    <span class="k">return</span> <span class="p">{</span>
        <span class="na">set</span><span class="p">:</span> <span class="kd">function</span><span class="p">(</span><span class="nx">el</span><span class="p">,</span> <span class="nx">key</span><span class="p">,</span> <span class="nx">val</span><span class="p">)</span> <span class="p">{</span>
            <span class="kd">var</span> <span class="nx">c</span> <span class="o">=</span> <span class="p">...;</span>
            <span class="p">...</span>
            <span class="k">return</span> <span class="nx">c</span><span class="p">;</span>
        <span class="p">},</span>
        <span class="p">...</span>
    <span class="p">};</span>
<span class="p">});</span>
</code></pre></div></div>
<p>eventæ¨¡å—å†…å®¹ï¼šä¾èµ–äºcacheæ¨¡å—ï¼ˆdefineç¬¬ä¸€ä¸ªå‚æ•°ä¸ºä¾èµ–çš„æ¨¡å—åˆ—è¡¨ï¼Œç¬¬äºŒä¸ªå‚æ•°ä¸ºä¸€ä¸ªå‡½æ•°ï¼Œå‡½æ•°å½¢å‚ç›´æ¥ä½¿ç”¨æ¨¡å—ï¼‰</p>
<div class="language-javascript highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nx">define</span><span class="p">([</span><span class="dl">'</span><span class="s1">cache</span><span class="dl">'</span><span class="p">],</span> <span class="kd">function</span><span class="p">(</span><span class="nx">cache</span><span class="p">)</span> <span class="p">{</span>
    <span class="p">...</span>
    <span class="k">return</span> <span class="p">{</span>				<span class="err">#</span> <span class="nx">è¿”å›ä¸€ä¸ªjså¯¹è±¡</span>
        <span class="na">bind</span> <span class="p">:</span> <span class="nx">bind</span><span class="p">,</span>
        <span class="na">unbind</span> <span class="p">:</span> <span class="nx">unbind</span><span class="p">,</span>
        <span class="na">trigger</span> <span class="p">:</span> <span class="nx">trigger</span>
    <span class="p">};</span>
<span class="p">});</span>
</code></pre></div></div>
<p>selectoræ¨¡å—å†…å®¹ï¼š</p>
<div class="language-javascript highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nx">define</span><span class="p">(</span><span class="kd">function</span><span class="p">()</span> <span class="p">{</span>
    <span class="kd">function</span> <span class="nx">query</span><span class="p">(</span><span class="nx">selector</span><span class="p">,</span><span class="nx">context</span><span class="p">)</span> <span class="p">{</span>
        <span class="p">...</span>
    <span class="p">}</span>
     
    <span class="k">return</span> <span class="nx">query</span><span class="p">;</span>		<span class="err">#</span> <span class="nx">è¿”å›ä¸€ä¸ªjså‡½æ•°</span>
<span class="p">});</span>
</code></pre></div></div>
<p>main.jså†…å®¹ï¼š</p>
<div class="language-javascript highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nx">require</span><span class="p">.</span><span class="nx">config</span><span class="p">({</span>
  <span class="na">baseUrl</span><span class="p">:</span> <span class="dl">'</span><span class="s1">js</span><span class="dl">'</span>
<span class="p">});</span>

<span class="nx">require</span><span class="p">([</span><span class="dl">'</span><span class="s1">selector</span><span class="dl">'</span><span class="p">,</span> <span class="dl">'</span><span class="s1">event</span><span class="dl">'</span><span class="p">],</span> <span class="kd">function</span><span class="p">(</span><span class="nx">$</span><span class="p">,</span> <span class="nx">E</span><span class="p">)</span> <span class="p">{</span>		<span class="err">#</span> <span class="nx">å‡½æ•°ä¸¤ä¸ªå½¢å‚ä¸€ä¸€å¯¹åº”æ‰€ä¾èµ–çš„ä¸¤ä¸ªæ¨¡å—</span>
    <span class="kd">var</span> <span class="nx">els</span> <span class="o">=</span> <span class="nx">$</span><span class="p">(</span><span class="dl">'</span><span class="s1">p</span><span class="dl">'</span><span class="p">);</span>
    <span class="k">for</span> <span class="p">(</span><span class="kd">var</span> <span class="nx">i</span><span class="o">=</span><span class="mi">0</span><span class="p">;</span> <span class="nx">i</span> <span class="o">&lt;</span> <span class="nx">els</span><span class="p">.</span><span class="nx">length</span><span class="p">;</span> <span class="nx">i</span><span class="o">++</span><span class="p">)</span> <span class="p">{</span>
        <span class="nx">E</span><span class="p">.</span><span class="nx">bind</span><span class="p">(</span><span class="nx">els</span><span class="p">[</span><span class="nx">i</span><span class="p">],</span> <span class="dl">'</span><span class="s1">click</span><span class="dl">'</span><span class="p">,</span> <span class="kd">function</span><span class="p">()</span> <span class="p">{</span>
            <span class="nx">alert</span><span class="p">(</span><span class="k">this</span><span class="p">.</span><span class="nx">innerHTML</span><span class="p">);</span>
        <span class="p">});</span>
    <span class="p">}</span>
<span class="p">});</span>
</code></pre></div></div>

<h2 id="callapply">call()ã€apply()</h2>

<p>callå’Œapplyéƒ½æ˜¯ä¸ºäº†æ”¹å˜æŸä¸ªå‡½æ•°è¿è¡Œæ—¶çš„contextå³ä¸Šä¸‹æ–‡è€Œå­˜åœ¨çš„ï¼Œæ¢å¥è¯è¯´ï¼Œå°±æ˜¯ä¸ºäº†æ”¹å˜å‡½æ•°ä½“å†…éƒ¨thisçš„æŒ‡å‘ã€‚å› ä¸ºJavaScriptçš„å‡½æ•°å­˜åœ¨<u>å®šä¹‰æ—¶ä¸Šä¸‹æ–‡</u>å’Œ<u>è¿è¡Œæ—¶ä¸Šä¸‹æ–‡</u>ä»¥åŠ<u>ä¸Šä¸‹æ–‡æ˜¯å¯ä»¥æ”¹å˜çš„</u>è¿™æ ·çš„æ¦‚å¿µã€‚</p>

<p>äºŒè€…çš„ä½œç”¨å®Œå…¨ä¸€æ ·ï¼Œåªæ˜¯æ¥å—å‚æ•°çš„æ–¹å¼ä¸å¤ªä¸€æ ·ã€‚ä¾‹å¦‚ï¼Œæœ‰ä¸€ä¸ªå‡½æ•° func1 å®šä¹‰å¦‚ä¸‹ï¼š</p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>var func1 = function(arg1, arg2) {};
</code></pre></div></div>

<p>å°±å¯ä»¥é€šè¿‡ func1.call(this, arg1, arg2); æˆ–è€… func1.apply(this, [arg1, arg2]); æ¥è°ƒç”¨ã€‚å…¶ä¸­ this æ˜¯ä½ æƒ³æŒ‡å®šçš„ä¸Šä¸‹æ–‡ï¼Œä»–å¯ä»¥ä»»ä½•ä¸€ä¸ª JavaScript å¯¹è±¡(JavaScript ä¸­ä¸€åˆ‡çš†å¯¹è±¡)ï¼Œ<u>call éœ€è¦æŠŠå‚æ•°æŒ‰é¡ºåºä¼ é€’è¿›å»ï¼Œè€Œ apply åˆ™æ˜¯æŠŠå‚æ•°æ”¾åœ¨æ•°ç»„é‡Œ</u>ã€‚</p>

<p>JavaScript ä¸­ï¼ŒæŸä¸ªå‡½æ•°çš„å‚æ•°æ•°é‡æ˜¯ä¸å›ºå®šçš„ï¼Œå› æ­¤è¦è¯´é€‚ç”¨æ¡ä»¶çš„è¯ï¼Œå½“ä½ çš„å‚æ•°æ˜¯æ˜ç¡®çŸ¥é“æ•°é‡æ—¶ï¼Œç”¨ callï¼Œè€Œä¸ç¡®å®šçš„æ—¶å€™ï¼Œç”¨ applyï¼Œç„¶åæŠŠå‚æ•° push è¿›æ•°ç»„ä¼ é€’è¿›å»ã€‚å½“å‚æ•°æ•°é‡ä¸ç¡®å®šæ—¶ï¼Œå‡½æ•°å†…éƒ¨ä¹Ÿå¯ä»¥é€šè¿‡ arguments è¿™ä¸ªæ•°ç»„æ¥ä¾¿åˆ©æ‰€æœ‰çš„å‚æ•°ã€‚</p>

<p>callå’Œapplyæ˜¯ä¸ºäº†åŠ¨æ€æ”¹å˜thisè€Œå‡ºç°çš„ï¼Œå½“ä¸€ä¸ªobjectæ²¡æœ‰æŸä¸ªæ–¹æ³•ï¼Œä½†æ˜¯å…¶ä»–çš„æœ‰ï¼Œæˆ‘ä»¬å¯ä»¥å€ŸåŠ©callæˆ–applyç”¨å…¶å®ƒå¯¹è±¡çš„æ–¹æ³•æ¥æ“ä½œã€‚</p>

<h2 id="åŒæºç­–ç•¥">åŒæºç­–ç•¥</h2>

<p>åŒæºç­–ç•¥æ˜¯<u>æµè§ˆå™¨æœ€æ ¸å¿ƒã€æœ€åŸºæœ¬çš„å®‰å…¨åŠŸèƒ½</u>ã€‚å½±å“æºçš„å› ç´ åŒ…æ‹¬ï¼šhostï¼ˆæˆ–IPï¼‰ã€å­åŸŸåã€ç«¯å£ã€åè®®ï¼›
æ³¨æ„ï¼šå¯¹äºå½“å‰é¡µé¢ï¼Œé¡µé¢å†…JavaScriptæ–‡ä»¶è‡ªèº«çš„åŸŸå¹¶ä¸é‡è¦ï¼Œé‡è¦çš„æ˜¯<u>åŠ è½½JavaScriptçš„é¡µé¢æ‰€åœ¨çš„åŸŸ</u>ã€‚</p>

<p><code class="language-plaintext highlighter-rouge">&lt;script&gt;ã€&lt;img&gt;ã€&lt;iframe&gt;ã€&lt;link&gt;</code>ç­‰å¸¦srcå±æ€§çš„æ ‡ç­¾å¯ä»¥è·¨åŸŸåŠ è½½èµ„æºï¼Œæ¯æ¬¡åŠ è½½å®é™…ä¸Šæ˜¯ç”±æµè§ˆå™¨å‘èµ·äº†ä¸€æ¬¡GETè¯·æ±‚ã€‚ä¸åŒäºXMLHttpRequestçš„æ˜¯ï¼Œé€šè¿‡srcå±æ€§åŠ è½½çš„èµ„æºè¢«JavaScripté™åˆ¶äº†æƒé™ï¼šä¸èƒ½è¯»ã€å†™è¿”å›çš„å†…å®¹ã€‚XMLHttpRequestå¯ä»¥è®¿é—®æ¥è‡ªåŒæºå¯¹è±¡çš„å†…å®¹ã€‚W3CåŒæ—¶ä¹Ÿåˆ¶å®šäº†XMLHttpRequestè·¨åŸŸè®¿é—®çš„æ ‡å‡†ï¼šé€šè¿‡ç›®æ ‡åŸŸè¿”å›çš„HTTPå¤´æ¥æˆæƒæ˜¯å¦å…è®¸è·¨åŸŸè®¿é—®ï¼ˆAccess-Control-Allow-Originï¼‰ã€‚è¿™ä¸ªè·¨åŸŸè®¿é—®æ–¹æ¡ˆçš„å®‰å…¨åŸºç¡€åŸºäºâ€œJavaScriptæ— æ³•æ§åˆ¶è¯¥HTTPå¤´â€ã€‚</p>

<h2 id="æµè§ˆå™¨æ²™ç®±">æµè§ˆå™¨æ²™ç®±</h2>

<p>ç°ä»£çš„æµè§ˆå™¨é‡‡ç”¨å¤šè¿›ç¨‹æ¶æ„æ¥å°†å„ä¸ªåŠŸèƒ½æ¨¡å—åˆ†å¼€ï¼Œæ¸²æŸ“å¼•æ“ç”±Sandboxéš”ç¦»ï¼Œç½‘é¡µä»£ç è¦ä¸æµè§ˆå™¨å†…æ ¸è¿›ç¨‹é€šä¿¡ã€ä¸æ“ä½œç³»ç»Ÿé€šä¿¡éƒ½éœ€è¦ç»è¿‡IPC channelï¼Œè€Œåœ¨å…¶ä¸­ä¼šè¿›è¡Œä¸€äº›å®‰å…¨æ£€æŸ¥ã€‚Sandboxçš„è®¾è®¡ç›®çš„å°±æ˜¯ä¸ºäº†è®©ä¸å¯ä¿¡ä»»çš„ä»£ç è¿è¡Œåœ¨ä¸€å®šçš„ç¯å¢ƒä¸­ï¼Œé™åˆ¶ä¸å¯ä¿¡ä»»çš„ä»£ç è®¿é—®éš”ç¦»åŒºä¹‹å¤–çš„èµ„æºï¼Œè¦è·¨è¶ŠSandboxè¾¹ç•Œäº§ç”Ÿæ•°æ®äº¤æ¢åªèƒ½ç»ç”±æŒ‡å®šçš„æ•°æ®é€šé“ï¼ˆå°è£…çš„APIï¼‰ã€‚</p>

<h2 id="ç‚¹å‡»åŠ«æŒclickjacking">ç‚¹å‡»åŠ«æŒï¼ˆClickJackingï¼‰</h2>

<p>ç‚¹å‡»åŠ«æŒæ˜¯ä¸€ç§è§†è§‰ä¸Šçš„æ¬ºéª—æ‰‹æ®µï¼Œæ¯”å¦‚ä½¿ç”¨ä¸€ä¸ªé€æ˜çš„iframeè¦†ç›–åœ¨ä¸€ä¸ªç½‘é¡µä¸Šï¼Œç„¶åè¯±ä½¿ç”¨æˆ·åœ¨è¯¥ç½‘é¡µä¸Šè¿›è¡Œæ“ä½œï¼Œé€šè¿‡è°ƒæ•´iframeé¡µé¢çš„ä½ç½®ï¼Œå¯ä»¥ä½¿å¾—ç”¨æˆ·æ°å¥½ç‚¹å‡»åœ¨iframeé¡µé¢çš„ä¸€äº›åŠŸèƒ½æ€§æŒ‰é’®ä¸Šã€‚
å›¾ç‰‡è¦†ç›–æ˜¯å¦ä¸€ç§ç±»ä¼¼çš„è§†è§‰æ¬ºéª—çš„æ–¹æ³•ã€‚</p>

<p><strong>é˜²å¾¡ClickJacking</strong></p>
<ul>
  <li>1.frame bustingï¼šé€šè¿‡å†™ä¸€æ®µJavaScriptä»£ç ç¦æ­¢iframeçš„åµŒå¥—ï¼›ï¼ˆç”±äºä½¿ç”¨JavaScriptï¼Œå› æ­¤æ§åˆ¶èƒ½åŠ›å¹¶ä¸æ˜¯ç‰¹åˆ«å¼ºï¼Œæœ‰å¾ˆå¤šæ–¹æ³•å¯ä»¥ç»•è¿‡å®ƒï¼‰</li>
  <li>2.X-Frame-Options
å½“å€¼ä¸ºDENYæ—¶æµè§ˆå™¨ä¼šæ‹’ç»å½“å‰é¡µé¢åŠ è½½ä»»ä½•frameé¡µé¢ï¼Œä¸ºSAMEORIGINæ—¶å¯ä»¥åŠ è½½åŒæºä¸‹çš„é¡µé¢ï¼Œå½“å€¼ä¸ºALLOW-FROMï¼Œå¯ä»¥å®šä¹‰è¿è¡Œçš„é¡µé¢ã€‚</li>
</ul>

<h2 id="html5å¸¦æ¥çš„å®‰å…¨é—®é¢˜">HTML5å¸¦æ¥çš„å®‰å…¨é—®é¢˜</h2>

<ul>
  <li>
    <p>æ–°æ ‡ç­¾çš„XSS
<code class="language-plaintext highlighter-rouge">&lt;video&gt;ã€&lt;audio&gt;</code>ç­‰ï¼Œå¯èƒ½ç»•è¿‡ç«™ç‚¹ç°æœ‰çš„XSS Filterã€‚</p>
  </li>
  <li>
    <p>iframeçš„sandboxå±æ€§
iframeè¢«æ–°å¢ä¸€ä¸ªsandboxå±æ€§ï¼Œä½¿ç”¨è¿™ä¸ªå±æ€§ååŠ è½½çš„å†…å®¹å°†è¢«è§†ä¸ºä¸€ä¸ªç‹¬ç«‹çš„æºï¼Œå…¶ä¸­çš„è„šæœ¬å°†è¢«ç¦æ­¢æ‰§è¡Œï¼Œè¡¨å•è¢«ç¦æ­¢æäº¤ï¼Œæ’ä»¶è¢«ç¦æ­¢åŠ è½½ï¼ŒæŒ‡å‘å…¶ä»–æµè§ˆå™¨å¯¹è±¡çš„é“¾æ¥ä¹Ÿä¼šè¢«ç¦æ­¢ã€‚</p>
  </li>
</ul>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>&lt;iframe sandbox="allow-same-origin allow-forms allow-scripts" src="..." &gt;&lt;/iframe&gt;
</code></pre></div></div>

<ul>
  <li>noreferrer
<code class="language-plaintext highlighter-rouge">&lt;a&gt;å’Œ&lt;area&gt;</code>æ ‡ç­¾å®šä¹‰äº†æ–°çš„åä¸ºnoreferrerçš„Link Typesï¼Œæ ‡ç­¾æŒ‡å®šè¯¥å€¼åï¼Œæµè§ˆå™¨åœ¨è¯·æ±‚è¯¥æ ‡ç­¾æŒ‡å®šçš„åœ°å€æ—¶å°†ä¸å†å‘é€Refererï¼š</li>
</ul>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>&lt;a href="xxx" rel="noreferrer"&gt;test&lt;/a&gt;
</code></pre></div></div>

<ul>
  <li>
    <p>Canvas
åˆ©ç”¨Canvaså¯ä»¥è¯†åˆ«ç®€å•çš„å›¾ç‰‡éªŒè¯ç ã€‚</p>
  </li>
  <li>
    <p>postMessage
HTML5ä¸­æ–°çš„APIï¼Œè¿è¡Œæ¯ä¸€ä¸ªwindowå¯¹è±¡å¾€å…¶ä»–çš„çª—å£å‘é€æ–‡æœ¬æ¶ˆæ¯ï¼Œä»è€Œå®ç°è·¨çª—å£çš„æ¶ˆæ¯ä¼ é€’ï¼Œä¸”è¿™ä¸ªåŠŸèƒ½ä¸å—åŒæºç­–ç•¥é™åˆ¶ï¼Œå› æ­¤éœ€è¦è‡ªå·±åšå®‰å…¨åˆ¤æ–­ã€‚</p>
  </li>
  <li>
    <p>Web Storage
Web Storageåˆ†ä¸ºSession Storageå’ŒLocal Storageï¼Œå‰è€…åœ¨å…³é—­æµè§ˆå™¨æ—¶å°±ä¼šå¤±æ•ˆï¼Œåè€…ä¼šä¸€ç›´å­˜åœ¨ã€‚Web Storageä¹Ÿå—åˆ°åŒæºç­–ç•¥çš„çº¦æŸã€‚
å½“Web Storageä¸­ä¿å­˜æ•æ„Ÿä¿¡æ¯æ—¶ï¼Œä¹Ÿä¼šæˆä¸ºXSSçš„æ”»å‡»ç›®æ ‡ã€‚</p>
  </li>
</ul>

<h2 id="cssç›’æ¨¡å‹">CSSç›’æ¨¡å‹</h2>

<p><img src="/images/tech/css_1.png" alt="image" /></p>
<ul>
  <li>1.ç”±å†…åˆ°å¤–ä¸ºï¼šå†…å®¹-å†…è¾¹è·-è¾¹æ¡†-å¤–è¾¹è·ã€‚</li>
  <li>2.å¦‚æœåœ¨å…ƒç´ ä¸Šæ·»åŠ èƒŒæ™¯ï¼Œé‚£ä¹ˆèƒŒæ™¯ä¼šè¢«åº”ç”¨äºç”±å†…å®¹å’Œå†…è¾¹è·ç»„æˆçš„åŒºåŸŸã€‚å¤–è¾¹è·æ˜¯é€æ˜çš„ï¼Œä¸€èˆ¬ç”¨æ¥æ§åˆ¶å…ƒç´ ä¹‹é—´çš„é—´éš”ã€‚</li>
  <li>3.æ­¤å¤–CSS2.1è¿˜æ”¯æŒoutlineå±æ€§ï¼Œä¸borderä¸åŒçš„æ˜¯å…¶å°†è½®å»“ç»˜åˆ¶åœ¨å…ƒç´ æ¡†ä¸Šã€‚</li>
  <li>4.å†…è¾¹è·ã€è¾¹æ¡†ã€å¤–è¾¹è·éƒ½æ˜¯å¯é€‰çš„ï¼Œé»˜è®¤å€¼ä¸º0ï¼Œä½†æ˜¯è®¸å¤šå…ƒç´ ä¼šè¢«æµè§ˆå™¨è®¾ç½®å¤–è¾¹è·å’Œå†…è¾¹è·ï¼Œå¯ä»¥é€šè¿‡å¦‚ä¸‹æ–¹å¼é‡ç½®ï¼š
    <div class="language-css highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="o">*</span><span class="p">{</span>
<span class="nl">margin</span><span class="p">:</span><span class="m">0</span><span class="p">;</span>
<span class="nl">padding</span><span class="p">:</span><span class="m">0</span><span class="p">;</span>
<span class="p">}</span>
</code></pre></div>    </div>
  </li>
  <li>5.ä½†æ˜¯è¿™ç§æ–¹å¼ä¸åŒºåˆ†å…ƒç´ ï¼Œå¯èƒ½ä¼šå¯¹å¦‚optionç­‰å…ƒç´ é€ æˆä¸åˆ©å½±å“ï¼Œå› æ­¤ä½¿ç”¨å…¨å±€resetæŠŠå†…è¾¹è·å’Œå¤–è¾¹è·æ˜¾å¼åœ°è®¾ç½®ä¸º0å¯èƒ½æ›´å®‰å…¨ã€‚</li>
  <li>6.widthå’ŒheightæŒ‡çš„æ˜¯å†…å®¹åŒºåŸŸçš„å®½åº¦å’Œé«˜åº¦ï¼Œå¢åŠ å†…è¾¹è·ã€è¾¹æ¡†å’Œå¤–è¾¹è·ä¸ä¼šå½±å“å†…å®¹åŒºåŸŸçš„å°ºå¯¸ï¼Œä½†æ˜¯ä¼šå¢åŠ å…ƒç´ æ¡†çš„æ€»å°ºå¯¸ã€‚</li>
  <li>7.å†…è¾¹è·ã€è¾¹æ¡†ã€å¤–è¾¹è·å¯ä»¥åº”ç”¨äºä¸€ä¸ªå…ƒç´ çš„æ‰€æœ‰è¾¹ï¼Œä¹Ÿå¯ä»¥åº”ç”¨äºå•ç‹¬çš„è¾¹ã€‚å¤–è¾¹è·è¿˜å¯ä»¥æ˜¯è´Ÿå€¼ã€‚</li>
</ul>

<h2 id="å¤–è¾¹è·å åŠ ">å¤–è¾¹è·å åŠ </h2>

<ul>
  <li>1.<u>å½“ä¸¤ä¸ªæˆ–æ›´å¤šä¸ªå‚ç›´å¤–è¾¹è·ç›¸é‡æ—¶ï¼Œå®ƒä»¬å°†åˆå¹¶ä¸ºä¸€ä¸ªå¤–è¾¹è·</u>ï¼Œè¿™ä¸ªæ–°å¤–è¾¹è·çš„é«˜åº¦ç­‰äºä¸¤ä¸ªå‘ç”Ÿå åŠ çš„å¤–è¾¹è·çš„é«˜åº¦ä¸­çš„è¾ƒå¤§è€…ã€‚</li>
  <li>2.å½“ä¸€ä¸ªå…ƒç´ åŒ…å«åœ¨å¦ä¸€ä¸ªå…ƒç´ ä¸­æ—¶ï¼Œå¦‚æœæ²¡æœ‰å†…è¾¹è·æˆ–è€…è¾¹æ¡†å°†å¤–è¾¹è·åˆ†éš”å¼€ï¼Œé‚£ä¹ˆå®ƒä»¬çš„é¡¶ã€åº•å¤–è¾¹è·ä¹Ÿä¼šå‘ç”Ÿå åŠ ã€‚</li>
  <li>3.ç”šè‡³åŒä¸€ä¸ªå…ƒç´ ï¼Œå¦‚æœæ²¡æœ‰å†…è¾¹è·ã€è¾¹æ¡†ä»¥åŠå†…å®¹ï¼Œæ­¤æ—¶å®ƒçš„é¡¶å¤–è¾¹è·ä¸åº•å¤–è¾¹è·ç¢°åœ¨ä¸€èµ·ï¼Œä¹Ÿä¼šå‘ç”Ÿå åŠ ã€‚è€Œä¸”å¦‚æœè¿™ä¸ªæ–°çš„å¤–è¾¹è·ç¢°åˆ°äº†å¦ä¸€ä¸ªå…ƒç´ çš„å¤–è¾¹è·ï¼Œå®ƒè¿˜ä¼šå‘ç”Ÿå åŠ ã€‚
æ³¨æ„ï¼šåªæœ‰æ™®é€šæ–‡æ¡£æµä¸­å—æ¡†çš„å‚ç›´å¤–è¾¹è·æ‰ä¼šå‘ç”Ÿå¤–è¾¹è·å åŠ ã€‚è¡Œå†…æ¡†ã€æµ®åŠ¨æ¡†æˆ–è€…ç»å¯¹å®šä½æ¡†ä¹‹é—´çš„å¤–è¾¹è·ä¸ä¼šå åŠ ã€‚</li>
</ul>

<h2 id="csså¯è§†åŒ–æ ¼å¼æ¨¡å‹">CSSå¯è§†åŒ–æ ¼å¼æ¨¡å‹</h2>

<ul>
  <li>1.å—çº§å…ƒç´ ï¼šæ˜¾ç¤ºä¸ºä¸€å—å†…å®¹ï¼Œå³å—æ¡†ï¼Œå¦‚pã€h1ã€divç­‰ã€‚</li>
  <li>2.è¡Œå†…å…ƒç´ ï¼šå†…å®¹æ˜¾ç¤ºåœ¨è¡Œä¸­ï¼Œå³è¡Œå†…æ¡†ï¼Œå¦‚strongã€spanç­‰ã€‚</li>
  <li>3.å¯ä»¥ä½¿ç”¨displayå±æ€§æ¥æ”¹å˜ç”Ÿæˆçš„æ¡†çš„ç±»å‹ï¼Œå¦‚å°†aæ ‡ç­¾çš„displayè®¾ç½®ä¸ºblockï¼Œä»è€Œè®©å…¶è¡¨ç°çš„åƒå—çº§å…ƒç´ ä¸€æ ·ï¼›è¿˜å¯ä»¥è®¾ç½®displayå±æ€§ä¸ºnoneï¼Œè®©ç”Ÿæˆçš„å…ƒç´ æ ¹æœ¬æ²¡æœ‰æ¡†ï¼Œä¸å ç”¨æ–‡æ¡£ä¸­çš„ç©ºé—´ã€‚</li>
  <li>4.CSSä¸­æœ‰<u>3ç§åŸºæœ¬çš„å®šä½æœºåˆ¶ï¼šæ™®é€šæµã€æµ®åŠ¨ã€ç»å¯¹å®šä½</u>ã€‚</li>
  <li>5.å—çº§æ¡†ä»ä¸Šåˆ°ä¸‹ä¸€ä¸ªæ¥ä¸€ä¸ªåœ°å‚ç›´æ’åˆ—ï¼Œæ¡†ä¹‹é—´çš„å‚ç›´è·ç¦»ç”±æ¡†çš„å‚ç›´å¤–è¾¹è·è®¡ç®—å‡ºæ¥ã€‚</li>
  <li>6.è¡Œå†…æ¡†åœ¨ä¸€è¡Œä¸­æ°´å¹³æ’åˆ—ã€‚å¯ä»¥ä½¿ç”¨æ°´å¹³å†…è¾¹è·ã€è¾¹æ¡†ã€å¤–è¾¹è·æ¥è°ƒæ•´å®ƒä»¬çš„æ°´å¹³é—´è·ï¼Œä½†æ˜¯è¡Œå†…æ¡†çš„å‚ç›´å†…è¾¹è·ã€è¾¹æ¡†å’Œå¤–è¾¹è·ä¸ä¼šå¢åŠ è¡Œé«˜ï¼Œè®¾ç½®æ˜¾å¼çš„é«˜åº¦æˆ–å®½åº¦ä¹Ÿä¸è¡Œã€‚ç”±ä¸€è¡Œå½¢æˆçš„æ°´å¹³æ¡†ç§°ä¸ºè¡Œæ¡†ï¼Œè¡Œæ¡†é«˜åº¦ç­‰äºæœ¬è¡Œå†…æ‰€æœ‰å…ƒç´ ä¸­è¡Œé«˜æœ€å¤§çš„å€¼ï¼Œå¯ä»¥é€šè¿‡è®¾ç½®è¡Œé«˜ï¼ˆline-heightï¼‰æ¥ä¿®æ”¹è¿™ä¸ªé«˜åº¦ã€‚CSS2.1æ”¯æŒå°†displayå±æ€§è®¾ç½®ä¸ºinline-blockï¼Œè¿™å°†ä½¿å…ƒç´ åƒè¡Œå†…å…ƒç´ ä¸€æ ·æ°´å¹³åœ°ä¾æ¬¡æ’åˆ—ï¼Œä½†æ˜¯æ¡†çš„å†…å®¹ä»ç„¶ç¬¦åˆå—çº§æ¡†çš„è¡Œä¸ºï¼Œå¦‚èƒ½å¤Ÿæ˜¾å¼åœ°è®¾ç½®å®½åº¦ã€é«˜åº¦ã€å‚ç›´å¤–è¾¹è·å’Œå†…è¾¹è·ã€‚</li>
</ul>

<h2 id="åŒ¿åå—æ¡†å’ŒåŒ¿åè¡Œæ¡†">åŒ¿åå—æ¡†å’ŒåŒ¿åè¡Œæ¡†</h2>

<ul>
  <li>åŒ¿åå—æ¡†ï¼šå½“å°†æ–‡æœ¬æ·»åŠ åˆ°ä¸€ä¸ªå—çº§å…ƒç´ çš„å¼€å¤´æ—¶ï¼Œå³ä½¿æ²¡æœ‰æŠŠè¿™äº›æ–‡æœ¬å®šä¹‰ä¸ºå—çº§å…ƒç´ ï¼Œå®ƒä¹Ÿä¼šè¢«å½“æˆå—çº§å…ƒç´ å¯¹å¾…ï¼š</li>
</ul>

<div class="language-html highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nt">&lt;div&gt;</span>
  some text
<span class="nt">&lt;p&gt;</span>other text<span class="nt">&lt;/p&gt;</span>
<span class="nt">&lt;/div&gt;</span>
</code></pre></div></div>

<ul>
  <li>åŒ¿åè¡Œæ¡†ï¼šå—çº§å…ƒç´ å†…çš„æ–‡æœ¬ï¼Œæ¯ä¸€è¡Œéƒ½ä¼šå½¢æˆåŒ¿åè¡Œæ¡†ã€‚æ— æ³•ç›´æ¥å¯¹åŒ¿åå—æˆ–è€…è¡Œæ¡†åº”ç”¨æ ·å¼ï¼Œé™¤éä½¿ç”¨:first-lineä¼ªå…ƒç´ ã€‚</li>
</ul>

<h2 id="ç›¸å¯¹å®šä½ç»å¯¹å®šä½å›ºå®šå®šä½">ç›¸å¯¹å®šä½ã€ç»å¯¹å®šä½ã€å›ºå®šå®šä½</h2>

<ul>
  <li>ç›¸å¯¹å®šä½ï¼šå¦‚æœå¯¹ä¸€ä¸ªå…ƒç´ è¿›è¡Œç›¸å¯¹å®šä½ï¼Œå®ƒå°†å‡ºç°åœ¨å®ƒæ‰€åœ¨çš„ä½ç½®ä¸Šï¼Œç„¶åå¯ä»¥é€šè¿‡è®¾ç½®topã€leftç­‰å±æ€§è®©è¿™ä¸ªå…ƒç´ <u>ç›¸å¯¹äºå®ƒçš„èµ·ç‚¹ç§»åŠ¨</u>ã€‚æ— è®ºæ˜¯å¦ç§»åŠ¨ï¼Œå…ƒç´ ä»ç„¶å æ®åŸæ¥çš„ç©ºé—´ï¼Œå› æ­¤ç§»åŠ¨å…ƒç´ ä¼šå¯¼è‡´å®ƒè¦†ç›–å…¶ä»–æ¡†ã€‚ç›¸å¯¹å®šä½å®é™…ä¸Šæ˜¯æ™®é€šæµå®šä½æ¨¡å‹çš„ä¸€éƒ¨åˆ†ã€‚
<img src="/images/tech/css_2.png" alt="image" /></li>
  <li>ç»å¯¹å®šä½ï¼šç»å¯¹å®šä½çš„å…ƒç´ çš„ä½ç½®æ˜¯<u>ç›¸å¯¹äºè·ç¦»å®ƒæœ€è¿‘çš„é‚£ä¸ªå·²å®šä½çš„ç¥–å…ˆå…ƒç´ </u>ç¡®å®šçš„ï¼Œå¦‚æœæ²¡æœ‰å·²å®šä½çš„ç¥–å…ˆå…ƒç´ ï¼Œé‚£ä¹ˆå®ƒçš„ä½ç½®æ˜¯ç›¸å¯¹äºåˆå§‹åŒ…å«å—çš„ã€‚å…ƒç´ å®šä½åç”Ÿæˆä¸€ä¸ªå—çº§æ¡†ï¼Œè€Œä¸è®ºåŸæ¥å®ƒåœ¨æ­£å¸¸æµä¸­ç”Ÿæˆä½•ç§ç±»å‹çš„æ¡†ã€‚ç»å¯¹å®šä½ä½¿å…ƒç´ çš„ä½ç½®ä¸æ–‡æ¡£æµæ— å…³ã€‚
<img src="/images/tech/css_3.png" alt="image" /></li>
  <li>å›ºå®šå®šä½ï¼šç›¸å¯¹äºviewportè¿›è¡Œå®šä½ã€‚</li>
</ul>

<h2 id="æµ®åŠ¨">æµ®åŠ¨</h2>

<p>æµ®åŠ¨çš„æ¡†å¯ä»¥å·¦å³ç§»åŠ¨ï¼Œ<u>ç›´åˆ°å®ƒçš„å¤–è¾¹ç¼˜ç¢°åˆ°åŒ…å«æ¡†æˆ–å¦ä¸€ä¸ªæµ®åŠ¨æ¡†çš„è¾¹ç¼˜</u>ã€‚æµ®åŠ¨æ¡†ä¸åœ¨æ–‡æ¡£çš„æ™®é€šæµä¸­ã€‚
<img src="/images/tech/css_4.png" alt="image" />
å½“æ¡† 1 å‘å·¦æµ®åŠ¨æ—¶ï¼Œå®ƒè„±ç¦»æ–‡æ¡£æµå¹¶ä¸”å‘å·¦ç§»åŠ¨ï¼Œç›´åˆ°å®ƒçš„å·¦è¾¹ç¼˜ç¢°åˆ°åŒ…å«æ¡†çš„å·¦è¾¹ç¼˜ã€‚å› ä¸ºå®ƒä¸å†å¤„äºæ–‡æ¡£æµä¸­ï¼Œæ‰€ä»¥å®ƒä¸å æ®ç©ºé—´ï¼Œå®é™…ä¸Šè¦†ç›–ä½äº†æ¡† 2ï¼Œä½¿æ¡† 2 ä»è§†å›¾ä¸­æ¶ˆå¤±ï¼š
<img src="/images/tech/css_5.png" alt="image" />
å¦‚æœåŒ…å«æ¡†å¤ªçª„ï¼Œæ— æ³•å®¹çº³æ°´å¹³æ’åˆ—çš„ä¸‰ä¸ªæµ®åŠ¨å…ƒç´ ï¼Œé‚£ä¹ˆå…¶å®ƒæµ®åŠ¨å—å‘ä¸‹ç§»åŠ¨ï¼Œç›´åˆ°æœ‰è¶³å¤Ÿçš„ç©ºé—´ã€‚å¦‚æœæµ®åŠ¨å…ƒç´ çš„é«˜åº¦ä¸åŒï¼Œé‚£ä¹ˆå½“å®ƒä»¬å‘ä¸‹ç§»åŠ¨æ—¶å¯èƒ½è¢«å…¶å®ƒæµ®åŠ¨å…ƒç´ â€œå¡ä½â€ï¼š
<img src="/images/tech/css_6.png" alt="image" /></p>

<h2 id="è¡Œæ¡†å’Œæ¸…ç†">è¡Œæ¡†å’Œæ¸…ç†</h2>

<p>æµ®åŠ¨æ¡†æ—è¾¹çš„è¡Œæ¡†è¢«ç¼©çŸ­ï¼Œä»è€Œç»™æµ®åŠ¨æ¡†ç•™å‡ºç©ºé—´ï¼Œè¡Œæ¡†å›´ç»•æµ®åŠ¨æ¡†ã€‚
å› æ­¤ï¼Œåˆ›å»ºæµ®åŠ¨æ¡†å¯ä»¥ä½¿æ–‡æœ¬å›´ç»•å›¾åƒï¼š
<img src="/images/tech/css_7.png" alt="image" />
è¦æƒ³é˜»æ­¢è¡Œæ¡†å›´ç»•æµ®åŠ¨æ¡†ï¼Œéœ€è¦å¯¹è¯¥æ¡†åº”ç”¨clearå±æ€§ã€‚clear å±æ€§å®šä¹‰äº†å…ƒç´ çš„å“ªè¾¹ä¸Šä¸å…è®¸å‡ºç°æµ®åŠ¨å…ƒç´ ã€‚åœ¨ CSS1 å’Œ CSS2 ä¸­ï¼Œè¿™æ˜¯é€šè¿‡è‡ªåŠ¨ä¸ºæ¸…é™¤å…ƒç´ ï¼ˆå³è®¾ç½®äº†clearå±æ€§çš„å…ƒç´ ï¼‰å¢åŠ ä¸Šå¤–è¾¹è·å®ç°çš„ã€‚åœ¨ CSS2.1 ä¸­ï¼Œä¼šåœ¨å…ƒç´ ä¸Šå¤–è¾¹è·ä¹‹ä¸Šå¢åŠ æ¸…é™¤ç©ºé—´ï¼Œè€Œå¤–è¾¹è·æœ¬èº«å¹¶ä¸æ”¹å˜ã€‚ä¸è®ºå“ªä¸€ç§æ”¹å˜ï¼Œæœ€ç»ˆç»“æœéƒ½ä¸€æ ·ï¼Œå¦‚æœå£°æ˜ä¸ºå·¦è¾¹æˆ–å³è¾¹æ¸…é™¤ï¼Œä¼šä½¿å…ƒç´ çš„ä¸Šå¤–è¾¹æ¡†è¾¹ç•Œåˆšå¥½åœ¨è¯¥è¾¹ä¸Šæµ®åŠ¨å…ƒç´ çš„ä¸‹å¤–è¾¹è·è¾¹ç•Œä¹‹ä¸‹ã€‚ï¼ˆå³æµè§ˆå™¨ä¼šè‡ªåŠ¨æ·»åŠ ä¸Šå¤–è¾¹è·ï¼‰
<img src="/images/tech/css_8.png" alt="image" /></p>

<h2 id="cssé“¾æ¥ä¼ªç±»å®šä¹‰çš„é¡ºåº">CSSé“¾æ¥ä¼ªç±»å®šä¹‰çš„é¡ºåº</h2>

<p>é€‰æ‹©å™¨çš„æ¬¡åºå¾ˆé‡è¦ï¼Œå¦‚æœå®šä¹‰é¡ºåºåè¿‡æ¥ï¼š</p>
<div class="language-css highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nt">a</span><span class="nd">:hover</span><span class="o">,</span><span class="nt">a</span><span class="nd">:focus</span><span class="o">,</span><span class="nt">a</span><span class="nd">:active</span><span class="p">{</span><span class="nl">text-decoration</span><span class="p">:</span><span class="nb">underline</span><span class="p">;}</span>
<span class="nt">a</span><span class="nd">:link</span><span class="o">,</span> <span class="nt">a</span><span class="nd">:visited</span> <span class="p">{</span><span class="nl">text-decoration</span><span class="p">:</span><span class="nb">none</span><span class="p">;}</span>
</code></pre></div></div>
<p>åˆ™é¼ æ ‡æ‚¬åœå’Œæ¿€æ´»çš„æ ·å¼å°±ä¸èµ·ä½œç”¨äº†ã€‚è¿™æ˜¯å› ä¸ºä¸¤ä¸ªè§„åˆ™å…·æœ‰ç›¸åŒçš„ç‰¹æ®Šæ€§ï¼Œæ‰€ä»¥a:link, a:visitedå°†è¦†ç›–a:hover,a:focus,a:activeã€‚æœ€å¥½æŒ‰å¦‚ä¸‹é¡ºåºè¿›è¡Œå®šä¹‰ï¼š</p>
<div class="language-css highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nt">a</span><span class="nd">:link</span><span class="err">ã€</span><span class="nt">a</span><span class="nd">:visited</span><span class="err">ã€</span><span class="nt">a</span><span class="nd">:hover</span><span class="err">ã€</span><span class="nt">a</span><span class="nd">:focus</span><span class="err">ã€</span><span class="nt">a</span><span class="nd">:active</span>
</code></pre></div></div>

<h2 id="ä¸ºé“¾æ¥ç›®æ ‡åŒä¸€é¡µé¢çš„é”šç‚¹è®¾ç½®æ ·å¼">ä¸ºé“¾æ¥ç›®æ ‡ï¼ˆåŒä¸€é¡µé¢çš„é”šç‚¹ï¼‰è®¾ç½®æ ·å¼</h2>

<div class="language-css highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nd">:target</span>
<span class="p">{</span>
<span class="nl">border</span><span class="p">:</span> <span class="m">2px</span> <span class="nb">solid</span> <span class="m">#D4D4D4</span><span class="p">;</span>
<span class="nl">background-image</span><span class="p">:</span> <span class="sx">url(img/fade.gif)</span><span class="p">;</span>  <span class="c">/* è®¾ç½®ä¸€ä¸ªé»„è‰²æ¸å˜ä¸ºç™½è‰²çš„åŠ¨ç”»å›¾ç‰‡ */</span>
<span class="p">}</span>
</code></pre></div></div>

<div class="language-css highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c">/* åœ¨ç«™ç‚¹çš„æ‰€æœ‰å¤–éƒ¨é“¾æ¥çš„å³ä¸Šè§’æ˜¾ç¤ºä¸€ä¸ªå›¾æ ‡ */</span>
<span class="nt">a</span><span class="o">[</span><span class="nt">href</span><span class="o">^=</span><span class="err">â€™</span><span class="nt">http</span><span class="o">:</span><span class="err">â€™</span><span class="o">]</span><span class="p">{</span>  <span class="c">/* ä½¿ç”¨å±æ€§é€‰æ‹©å™¨ */</span>
<span class="nl">background</span><span class="p">:</span><span class="sx">url(/img/external.gif)</span> <span class="nb">no-repeat</span> <span class="nb">right</span> <span class="nb">top</span><span class="p">;</span>
<span class="nl">padding-right</span><span class="p">:</span><span class="m">10px</span><span class="p">;</span>
<span class="p">}</span>

<span class="nt">a</span><span class="o">[</span><span class="nt">href</span><span class="o">^=</span><span class="err">â€™</span><span class="nt">http</span><span class="o">://</span><span class="nt">www</span><span class="nc">.mysite.com</span><span class="err">â€™</span><span class="o">]</span><span class="p">{</span>  <span class="c">/* è¦†ç›–æ’é™¤æœ¬ç«™ç‚¹çš„ç»å¯¹é“¾æ¥ */</span>
<span class="nl">background</span><span class="p">:</span><span class="nb">none</span><span class="p">;</span>
<span class="nl">padding-right</span><span class="p">:</span><span class="m">0</span><span class="p">;</span>
<span class="p">}</span>
</code></pre></div></div>

<h2 id="ä¸ºç«™ç‚¹çš„æ‰€æœ‰ä¸‹è½½pdfæ–‡æ¡£çš„é“¾æ¥åŠ ä¸Šå›¾æ ‡">ä¸ºç«™ç‚¹çš„æ‰€æœ‰ä¸‹è½½.pdfæ–‡æ¡£çš„é“¾æ¥åŠ ä¸Šå›¾æ ‡</h2>

<div class="language-css highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nt">a</span><span class="o">[</span><span class="nt">href</span><span class="err">$</span><span class="o">=</span><span class="err">â€™</span><span class="nc">.pdf</span><span class="err">â€™</span><span class="o">]</span><span class="p">{</span>
<span class="nl">background</span><span class="p">:</span><span class="sx">url(img/pdf.gif)</span> <span class="nb">no-repeat</span> <span class="nb">right</span> <span class="nb">top</span><span class="p">;</span>
<span class="nl">padding-right</span><span class="p">:</span><span class="m">10px</span><span class="p">;</span>
<span class="p">}</span>
</code></pre></div></div>

<h2 id="3ç§csså¸ƒå±€æ–¹å¼">3ç§CSSå¸ƒå±€æ–¹å¼</h2>

<p>æ‰€æœ‰CSSå¸ƒå±€æŠ€æœ¯çš„æ ¹æœ¬éƒ½æ˜¯3ä¸ªåŸºæœ¬æ¦‚å¿µï¼šå®šä½ã€æµ®åŠ¨ã€å¤–è¾¹è·æ“ä½œã€‚</p>
<ul>
  <li>å›ºå®šå¸ƒå±€ï¼š
<img src="/images/tech/css_15.png" alt="image" /></li>
  <li>æµå¼å¸ƒå±€ï¼š
<img src="/images/tech/css_16.png" alt="image" /></li>
  <li>å¼¹æ€§å¸ƒå±€ï¼šç›¸å½“äºä»¥ä¸Šä¸¤è€…çš„ç»“åˆã€‚å…¶è¦ç‚¹å°±åœ¨äºä½¿ç”¨å•ä½emæ¥å®šä¹‰å…ƒç´ å®½åº¦ã€‚emæ˜¯ç›¸å¯¹é•¿åº¦å•ä½ã€‚ç›¸å¯¹äºå½“å‰å¯¹è±¡å†…æ–‡æœ¬çš„å­—ä½“å°ºå¯¸ã€‚å¦‚å½“å‰å¯¹è¡Œå†…æ–‡æœ¬çš„å­—ä½“å°ºå¯¸æœªè¢«äººä¸ºè®¾ç½®ï¼Œåˆ™ç›¸å¯¹äºæµè§ˆå™¨çš„é»˜è®¤å­—ä½“å°ºå¯¸ã€‚ä»»æ„æµè§ˆå™¨çš„é»˜è®¤å­—ä½“é«˜éƒ½æ˜¯16pxï¼Œæ‰€æœ‰æœªç»è°ƒæ•´çš„æµè§ˆå™¨éƒ½ç¬¦åˆ: 1em=16pxã€‚</li>
</ul>

<h2 id="letå®šä¹‰å˜é‡çš„ç‰¹æ€§æ€»ç»“">letå®šä¹‰å˜é‡çš„ç‰¹æ€§æ€»ç»“</h2>

<ul>
  <li>ä½¿ç”¨letå£°æ˜çš„å˜é‡åªåœ¨letå‘½ä»¤æ‰€åœ¨çš„ä»£ç å—å†…æœ‰æ•ˆï¼›</li>
  <li>ä½¿ç”¨letå£°æ˜çš„å˜é‡ä¸ä¼šâ€œå˜é‡æå‡â€ï¼Œå˜é‡ä¸€å®šè¦åœ¨å£°æ˜åä½¿ç”¨ï¼›</li>
  <li>åªè¦å—çº§ä½œç”¨åŸŸå†…å­˜åœ¨letå‘½ä»¤ï¼Œå®ƒæ‰€å£°æ˜çš„å˜é‡å°±â€œç»‘å®šâ€ï¼ˆbindingï¼‰è¿™ä¸ªåŒºåŸŸï¼Œä¸å†å—å¤–éƒ¨çš„å½±å“ï¼ˆconståŒç†ï¼‰ï¼›</li>
  <li>letä¸å…è®¸åœ¨ç›¸åŒä½œç”¨åŸŸå†…ï¼Œé‡å¤å£°æ˜åŒä¸€ä¸ªå˜é‡ï¼›</li>
  <li>letä¸ºJavaScriptæ–°å¢äº†å—çº§ä½œç”¨åŸŸï¼Œä½¿å¾—è·å¾—å¹¿æ³›åº”ç”¨çš„ç«‹å³æ‰§è¡ŒåŒ¿åå‡½æ•°ï¼ˆIIFEï¼‰ä¸å†å¿…è¦äº†ï¼›</li>
</ul>

<h2 id="es6ä¸€å…±æœ‰6ç§å£°æ˜å˜é‡çš„æ–¹æ³•">ES6ä¸€å…±æœ‰6ç§å£°æ˜å˜é‡çš„æ–¹æ³•</h2>

<ul>
  <li>var</li>
  <li>function</li>
  <li>let</li>
  <li>const</li>
  <li>import</li>
  <li>class</li>
</ul>

<h2 id="å…¨å±€å¯¹è±¡çš„å±æ€§">å…¨å±€å¯¹è±¡çš„å±æ€§</h2>

<p>å…¨å±€å¯¹è±¡æ˜¯æœ€é¡¶å±‚çš„å¯¹è±¡ï¼Œåœ¨æµè§ˆå™¨ç¯å¢ƒæŒ‡çš„æ˜¯windowå¯¹è±¡ï¼Œåœ¨Node.jsæŒ‡çš„æ˜¯globalå¯¹è±¡ã€‚
ES5ä¹‹ä¸­ï¼Œå…¨å±€å¯¹è±¡çš„å±æ€§ä¸å…¨å±€å˜é‡æ˜¯ç­‰ä»·çš„ï¼Œæœªå£°æ˜çš„å…¨å±€å˜é‡ï¼Œè‡ªåŠ¨æˆä¸ºå…¨å±€å¯¹è±¡windowçš„å±æ€§ã€‚
ä»ES6å¼€å§‹ï¼Œå…¨å±€å˜é‡å°†é€æ­¥ä¸å…¨å±€å¯¹è±¡çš„å±æ€§è„±é’©ï¼Œletå‘½ä»¤ã€constå‘½ä»¤ã€classå‘½ä»¤å£°æ˜çš„å…¨å±€å˜é‡ï¼Œä¸å±äºå…¨å±€å¯¹è±¡çš„å±æ€§ï¼š</p>
<div class="language-javascript highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kd">var</span> <span class="nx">a</span> <span class="o">=</span> <span class="mi">1</span><span class="p">;</span>
<span class="c1">// å¦‚æœåœ¨Nodeçš„REPLç¯å¢ƒï¼Œå¯ä»¥å†™æˆglobal.a</span>
<span class="c1">// æˆ–è€…é‡‡ç”¨é€šç”¨æ–¹æ³•ï¼Œå†™æˆthis.a</span>
<span class="nb">window</span><span class="p">.</span><span class="nx">a</span> <span class="c1">// 1</span>

<span class="kd">let</span> <span class="nx">b</span> <span class="o">=</span> <span class="mi">1</span><span class="p">;</span>
<span class="nb">window</span><span class="p">.</span><span class="nx">b</span> <span class="c1">// undefined</span>
</code></pre></div></div>

<h2 id="è§£æ„èµ‹å€¼">è§£æ„èµ‹å€¼</h2>

<p>è§£æ„èµ‹å€¼çš„è§„åˆ™æ˜¯ï¼Œåªè¦ç­‰å·å³è¾¹çš„å€¼ä¸æ˜¯å¯¹è±¡ï¼Œå°±å…ˆå°†å…¶è½¬ä¸ºå¯¹è±¡ã€‚ç”±äºundefinedå’Œnullæ— æ³•è½¬ä¸ºå¯¹è±¡ï¼Œæ‰€ä»¥å¯¹å®ƒä»¬è¿›è¡Œè§£æ„èµ‹å€¼ï¼Œéƒ½ä¼šæŠ¥é”™ã€‚</p>
<ul>
  <li>æ•°ç»„çš„è§£æ„èµ‹å€¼ï¼›
    <div class="language-js highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kd">var</span> <span class="p">[</span><span class="nx">a</span><span class="p">,</span> <span class="nx">b</span><span class="p">,</span> <span class="nx">c</span><span class="p">]</span> <span class="o">=</span> <span class="p">[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">];</span>
</code></pre></div>    </div>
  </li>
  <li>å¯¹è±¡çš„è§£æ„èµ‹å€¼;
    <div class="language-js highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kd">var</span> <span class="p">{</span> <span class="nx">bar</span><span class="p">,</span> <span class="nx">foo</span> <span class="p">}</span> <span class="o">=</span> <span class="p">{</span> <span class="na">foo</span><span class="p">:</span> <span class="dl">"</span><span class="s2">aaa</span><span class="dl">"</span><span class="p">,</span> <span class="na">bar</span><span class="p">:</span> <span class="dl">"</span><span class="s2">bbb</span><span class="dl">"</span> <span class="p">};</span> <span class="c1">// å¯¹è±¡çš„å±æ€§æ²¡æœ‰æ¬¡åºï¼Œå˜é‡å¿…é¡»ä¸å±æ€§åŒåï¼Œæ‰èƒ½å–åˆ°æ­£ç¡®çš„å€¼</span>
</code></pre></div>    </div>
  </li>
  <li>å­—ç¬¦ä¸²çš„è§£æ„èµ‹å€¼;
    <div class="language-js highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kd">const</span> <span class="p">[</span><span class="nx">a</span><span class="p">,</span> <span class="nx">b</span><span class="p">,</span> <span class="nx">c</span><span class="p">,</span> <span class="nx">d</span><span class="p">,</span> <span class="nx">e</span><span class="p">]</span> <span class="o">=</span> <span class="dl">'</span><span class="s1">hello</span><span class="dl">'</span><span class="p">;</span>
</code></pre></div>    </div>
  </li>
  <li>æ•°å€¼å’Œå¸ƒå°”å€¼çš„è§£æ„èµ‹å€¼;</li>
</ul>

<div class="language-javascript highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kd">let</span> <span class="p">{</span><span class="na">toString</span><span class="p">:</span> <span class="nx">s</span><span class="p">}</span> <span class="o">=</span> <span class="mi">123</span><span class="p">;</span>
<span class="nx">s</span> <span class="o">===</span> <span class="nb">Number</span><span class="p">.</span><span class="nx">prototype</span><span class="p">.</span><span class="nx">toString</span> <span class="c1">// true</span>

<span class="kd">let</span> <span class="p">{</span><span class="na">toString</span><span class="p">:</span> <span class="nx">s</span><span class="p">}</span> <span class="o">=</span> <span class="kc">true</span><span class="p">;</span>
<span class="nx">s</span> <span class="o">===</span> <span class="nb">Boolean</span><span class="p">.</span><span class="nx">prototype</span><span class="p">.</span><span class="nx">toString</span> <span class="c1">// true</span>

</code></pre></div></div>

<ul>
  <li>å‡½æ•°å‚æ•°çš„è§£æ„èµ‹å€¼;</li>
</ul>

<div class="language-javascript highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kd">function</span> <span class="nx">add</span><span class="p">([</span><span class="nx">x</span><span class="p">,</span> <span class="nx">y</span><span class="p">]){</span>
  <span class="k">return</span> <span class="nx">x</span> <span class="o">+</span> <span class="nx">y</span><span class="p">;</span>
<span class="p">}</span>

<span class="nx">add</span><span class="p">([</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">]);</span> <span class="c1">// 3</span>

<span class="p">[[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">],</span> <span class="p">[</span><span class="mi">3</span><span class="p">,</span> <span class="mi">4</span><span class="p">]].</span><span class="nx">map</span><span class="p">(([</span><span class="nx">a</span><span class="p">,</span> <span class="nx">b</span><span class="p">])</span> <span class="o">=&gt;</span> <span class="nx">a</span> <span class="o">+</span> <span class="nx">b</span><span class="p">);</span>
<span class="c1">// [ 3, 7 ]</span>
</code></pre></div></div>

<h2 id="æ¨¡æ¿å­—ç¬¦ä¸²">æ¨¡æ¿å­—ç¬¦ä¸²</h2>

<p>æ¨¡æ¿å­—ç¬¦ä¸²ï¼ˆtemplate stringï¼‰æ˜¯å¢å¼ºç‰ˆçš„å­—ç¬¦ä¸²ï¼Œç”¨åå¼•å·ï¼ˆ`ï¼‰æ ‡è¯†ã€‚å®ƒå¯ä»¥å½“ä½œæ™®é€šå­—ç¬¦ä¸²ä½¿ç”¨ï¼Œä¹Ÿå¯ä»¥ç”¨æ¥å®šä¹‰å¤šè¡Œå­—ç¬¦ä¸²ï¼Œæˆ–è€…åœ¨å­—ç¬¦ä¸²ä¸­åµŒå…¥å˜é‡ã€‚</p>
<div class="language-javascript highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c1">// æ™®é€šå­—ç¬¦ä¸²</span>
<span class="s2">`In JavaScript '\n' is a line-feed.`</span>

<span class="c1">// å¤šè¡Œå­—ç¬¦ä¸²</span>
<span class="s2">`In JavaScript this is
 not legal.`</span>

<span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="s2">`string text line 1
string text line 2`</span><span class="p">);</span>

<span class="c1">// å­—ç¬¦ä¸²ä¸­åµŒå…¥å˜é‡</span>
<span class="kd">var</span> <span class="nx">name</span> <span class="o">=</span> <span class="dl">"</span><span class="s2">Bob</span><span class="dl">"</span><span class="p">,</span> <span class="nx">time</span> <span class="o">=</span> <span class="dl">"</span><span class="s2">today</span><span class="dl">"</span><span class="p">;</span>
<span class="s2">`Hello </span><span class="p">${</span><span class="nx">name</span><span class="p">}</span><span class="s2">, how are you </span><span class="p">${</span><span class="nx">time</span><span class="p">}</span><span class="s2">?`</span>
</code></pre></div></div>

<h2 id="ç®­å¤´å‡½æ•°">ç®­å¤´å‡½æ•°</h2>

<div class="language-javascript highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kd">var</span> <span class="nx">f</span> <span class="o">=</span> <span class="nx">v</span> <span class="o">=&gt;</span> <span class="nx">v</span><span class="p">;</span>
<span class="kd">var</span> <span class="nx">f</span> <span class="o">=</span> <span class="p">()</span> <span class="o">=&gt;</span> <span class="mi">5</span><span class="p">;</span>
<span class="kd">var</span> <span class="nx">sum</span> <span class="o">=</span> <span class="p">(</span><span class="nx">num1</span><span class="p">,</span> <span class="nx">num2</span><span class="p">)</span> <span class="o">=&gt;</span> <span class="nx">num1</span> <span class="o">+</span> <span class="nx">num2</span><span class="p">;</span>
<span class="kd">var</span> <span class="nx">sum</span> <span class="o">=</span> <span class="p">(</span><span class="nx">num1</span><span class="p">,</span> <span class="nx">num2</span><span class="p">)</span> <span class="o">=&gt;</span> <span class="p">{</span> <span class="k">return</span> <span class="nx">num1</span> <span class="o">+</span> <span class="nx">num2</span><span class="p">;</span> <span class="p">}</span>
</code></pre></div></div>
<p>ç”±äºå¤§æ‹¬å·è¢«è§£é‡Šä¸ºä»£ç å—ï¼Œæ‰€ä»¥å¦‚æœç®­å¤´å‡½æ•°ç›´æ¥è¿”å›ä¸€ä¸ªå¯¹è±¡ï¼Œå¿…é¡»åœ¨å¯¹è±¡å¤–é¢åŠ ä¸Šæ‹¬å·ï¼š</p>
<div class="language-javascript highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kd">var</span> <span class="nx">getTempItem</span> <span class="o">=</span> <span class="nx">id</span> <span class="o">=&gt;</span> <span class="p">({</span> <span class="na">id</span><span class="p">:</span> <span class="nx">id</span><span class="p">,</span> <span class="na">name</span><span class="p">:</span> <span class="dl">"</span><span class="s2">Temp</span><span class="dl">"</span> <span class="p">});</span>
</code></pre></div></div>

<p><strong>ç®­å¤´å‡½æ•°æœ‰å‡ ä¸ªä½¿ç”¨æ³¨æ„ç‚¹ï¼š</strong></p>

<ul>
  <li>å‡½æ•°ä½“å†…çš„thiså¯¹è±¡ï¼Œå°±æ˜¯å®šä¹‰æ—¶æ‰€åœ¨çš„å¯¹è±¡ï¼Œè€Œä¸æ˜¯ä½¿ç”¨æ—¶æ‰€åœ¨çš„å¯¹è±¡ã€‚</li>
</ul>

<div class="language-javascript highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kd">function</span> <span class="nx">foo</span><span class="p">()</span> <span class="p">{</span>
  <span class="nx">setTimeout</span><span class="p">(()</span> <span class="o">=&gt;</span> <span class="p">{</span>
    <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="dl">'</span><span class="s1">id:</span><span class="dl">'</span><span class="p">,</span> <span class="k">this</span><span class="p">.</span><span class="nx">id</span><span class="p">);</span>
  <span class="p">},</span> <span class="mi">100</span><span class="p">);</span>
<span class="p">}</span>

<span class="kd">var</span> <span class="nx">id</span> <span class="o">=</span> <span class="mi">21</span><span class="p">;</span>

<span class="nx">foo</span><span class="p">.</span><span class="nx">call</span><span class="p">({</span> <span class="na">id</span><span class="p">:</span> <span class="mi">42</span> <span class="p">});</span>
<span class="c1">// id: 42</span>
</code></pre></div></div>
<ul>
  <li>ä¸å¯ä»¥å½“ä½œæ„é€ å‡½æ•°ï¼Œä¹Ÿå°±æ˜¯è¯´ï¼Œä¸å¯ä»¥ä½¿ç”¨newå‘½ä»¤ï¼Œå¦åˆ™ä¼šæŠ›å‡ºä¸€ä¸ªé”™è¯¯ã€‚</li>
  <li>ä¸å¯ä»¥ä½¿ç”¨argumentså¯¹è±¡ï¼Œè¯¥å¯¹è±¡åœ¨å‡½æ•°ä½“å†…ä¸å­˜åœ¨ã€‚å¦‚æœè¦ç”¨ï¼Œå¯ä»¥ç”¨Restå‚æ•°ä»£æ›¿ã€‚</li>
  <li>ä¸å¯ä»¥ä½¿ç”¨yieldå‘½ä»¤ï¼Œå› æ­¤ç®­å¤´å‡½æ•°ä¸èƒ½ç”¨ä½œGeneratorå‡½æ•°ã€‚</li>
</ul>

<h2 id="ç®­å¤´å‡½æ•°æ²¡æœ‰è‡ªå·±çš„this">ç®­å¤´å‡½æ•°æ²¡æœ‰è‡ªå·±çš„this</h2>

<p>ç®­å¤´å‡½æ•°ä¸­thisæŒ‡å‘çš„å›ºå®šåŒ–ï¼Œå¹¶ä¸æ˜¯å› ä¸ºç®­å¤´å‡½æ•°å†…éƒ¨æœ‰ç»‘å®šthisçš„æœºåˆ¶ï¼Œå®é™…åŸå› æ˜¯<u>ç®­å¤´å‡½æ•°æ ¹æœ¬æ²¡æœ‰è‡ªå·±çš„thisï¼Œå¯¼è‡´å†…éƒ¨çš„thiså°±æ˜¯å¤–å±‚ä»£ç å—çš„this</u>ã€‚æ­£æ˜¯å› ä¸ºå®ƒæ²¡æœ‰thisï¼Œæ‰€ä»¥ä¹Ÿå°±ä¸èƒ½ç”¨ä½œæ„é€ å‡½æ•°ã€‚ç®­å¤´å‡½æ•°è½¬æˆES5çš„ä»£ç å¦‚ä¸‹ï¼š</p>
<div class="language-javascript highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c1">// ES6</span>
<span class="kd">function</span> <span class="nx">foo</span><span class="p">()</span> <span class="p">{</span>
  <span class="nx">setTimeout</span><span class="p">(()</span> <span class="o">=&gt;</span> <span class="p">{</span>
    <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="dl">'</span><span class="s1">id:</span><span class="dl">'</span><span class="p">,</span> <span class="k">this</span><span class="p">.</span><span class="nx">id</span><span class="p">);</span>
  <span class="p">},</span> <span class="mi">100</span><span class="p">);</span>
<span class="p">}</span>

<span class="c1">// ES5</span>
<span class="kd">function</span> <span class="nx">foo</span><span class="p">()</span> <span class="p">{</span>
  <span class="kd">var</span> <span class="nx">_this</span> <span class="o">=</span> <span class="k">this</span><span class="p">;</span>

  <span class="nx">setTimeout</span><span class="p">(</span><span class="kd">function</span> <span class="p">()</span> <span class="p">{</span>
    <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="dl">'</span><span class="s1">id:</span><span class="dl">'</span><span class="p">,</span> <span class="nx">_this</span><span class="p">.</span><span class="nx">id</span><span class="p">);</span>
  <span class="p">},</span> <span class="mi">100</span><span class="p">);</span>
<span class="p">}</span>
</code></pre></div></div>

<p>é™¤äº†thisï¼Œä»¥ä¸‹ä¸‰ä¸ªå˜é‡åœ¨ç®­å¤´å‡½æ•°ä¹‹ä¸­ä¹Ÿæ˜¯ä¸å­˜åœ¨çš„ï¼ŒæŒ‡å‘å¤–å±‚å‡½æ•°çš„å¯¹åº”å˜é‡ï¼šargumentsã€superã€new.targetã€‚</p>
<div class="language-javascript highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kd">function</span> <span class="nx">foo</span><span class="p">()</span> <span class="p">{</span>
  <span class="nx">setTimeout</span><span class="p">(()</span> <span class="o">=&gt;</span> <span class="p">{</span>
    <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="dl">'</span><span class="s1">args:</span><span class="dl">'</span><span class="p">,</span> <span class="nx">arguments</span><span class="p">);</span>
  <span class="p">},</span> <span class="mi">100</span><span class="p">);</span>
<span class="p">}</span>

<span class="nx">foo</span><span class="p">(</span><span class="mi">2</span><span class="p">,</span> <span class="mi">4</span><span class="p">,</span> <span class="mi">6</span><span class="p">,</span> <span class="mi">8</span><span class="p">)</span>
<span class="c1">// args: [2, 4, 6, 8]</span>
</code></pre></div></div>
<p>ç”±äºç®­å¤´å‡½æ•°æ²¡æœ‰è‡ªå·±çš„thisï¼Œæ‰€ä»¥å½“ç„¶ä¹Ÿå°±ä¸èƒ½ç”¨call()ã€apply()ã€bind()è¿™äº›æ–¹æ³•å»æ”¹å˜thisçš„æŒ‡å‘ã€‚</p>

<h2 id="å°¾è°ƒç”¨ä¼˜åŒ–ä¸å°¾é€’å½’">å°¾è°ƒç”¨ä¼˜åŒ–ä¸å°¾é€’å½’</h2>

<p>å°¾è°ƒç”¨ï¼ˆTail Callï¼‰æŒ‡æŸä¸ªå‡½æ•°çš„æœ€åä¸€æ­¥æ“ä½œæ˜¯è¿”å›å¦ä¸€ä¸ªå‡½æ•°çš„è°ƒç”¨ã€‚</p>
<div class="language-javascript highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kd">function</span> <span class="nx">f</span><span class="p">(</span><span class="nx">x</span><span class="p">){</span>
  <span class="k">return</span> <span class="nx">g</span><span class="p">(</span><span class="nx">x</span><span class="p">);</span>
<span class="p">}</span>
</code></pre></div></div>

<p>ä¸å±äºå°¾è°ƒç”¨çš„æƒ…å†µï¼š</p>
<div class="language-javascript highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c1">// æƒ…å†µä¸€</span>
<span class="kd">function</span> <span class="nx">f</span><span class="p">(</span><span class="nx">x</span><span class="p">){</span>
  <span class="kd">let</span> <span class="nx">y</span> <span class="o">=</span> <span class="nx">g</span><span class="p">(</span><span class="nx">x</span><span class="p">);</span>  <span class="c1">// è°ƒç”¨åè¿˜æœ‰æ“ä½œ</span>
  <span class="k">return</span> <span class="nx">y</span><span class="p">;</span>
<span class="p">}</span>

<span class="c1">// æƒ…å†µäºŒ</span>
<span class="kd">function</span> <span class="nx">f</span><span class="p">(</span><span class="nx">x</span><span class="p">){</span>
  <span class="k">return</span> <span class="nx">g</span><span class="p">(</span><span class="nx">x</span><span class="p">)</span> <span class="o">+</span> <span class="mi">1</span><span class="p">;</span>  <span class="c1">// è°ƒç”¨åè¿˜æœ‰æ“ä½œ</span>
<span class="p">}</span>

<span class="c1">// æƒ…å†µä¸‰</span>
<span class="kd">function</span> <span class="nx">f</span><span class="p">(</span><span class="nx">x</span><span class="p">){</span>
  <span class="nx">g</span><span class="p">(</span><span class="nx">x</span><span class="p">);</span>  <span class="c1">// ç›¸å½“äºreturn undefined</span>
<span class="p">}</span>
</code></pre></div></div>

<p>å°¾è°ƒç”¨ä¼˜åŒ–ï¼šå‡½æ•°è°ƒç”¨ä¼šåœ¨å†…å­˜å½¢æˆä¸€ä¸ªâ€œè°ƒç”¨è®°å½•â€ï¼Œåˆç§°â€œè°ƒç”¨å¸§â€ï¼ˆcall frameï¼‰ï¼Œä¿å­˜è°ƒç”¨ä½ç½®å’Œå†…éƒ¨å˜é‡ç­‰ä¿¡æ¯ã€‚å¦‚æœåœ¨å‡½æ•°Açš„å†…éƒ¨è°ƒç”¨å‡½æ•°Bï¼Œé‚£ä¹ˆåœ¨Açš„è°ƒç”¨å¸§ä¸Šæ–¹ï¼Œè¿˜ä¼šå½¢æˆä¸€ä¸ªBçš„è°ƒç”¨å¸§ã€‚ç­‰åˆ°Bè¿è¡Œç»“æŸï¼Œå°†ç»“æœè¿”å›åˆ°Aï¼ŒBçš„è°ƒç”¨å¸§æ‰ä¼šæ¶ˆå¤±ã€‚æ‰€æœ‰çš„è°ƒç”¨å¸§ï¼Œå°±å½¢æˆä¸€ä¸ªâ€œè°ƒç”¨æ ˆâ€ï¼ˆcall stackï¼‰ã€‚å°¾è°ƒç”¨ç”±äºæ˜¯å‡½æ•°çš„æœ€åä¸€æ­¥æ“ä½œï¼Œæ‰€ä»¥ä¸éœ€è¦ä¿ç•™å¤–å±‚å‡½æ•°çš„è°ƒç”¨å¸§ï¼Œå› ä¸ºè°ƒç”¨ä½ç½®ã€å†…éƒ¨å˜é‡ç­‰ä¿¡æ¯éƒ½ä¸ä¼šå†ç”¨åˆ°äº†ï¼Œåªè¦ç›´æ¥ç”¨å†…å±‚å‡½æ•°çš„è°ƒç”¨å¸§ï¼Œå–ä»£å¤–å±‚å‡½æ•°çš„è°ƒç”¨å¸§å°±å¯ä»¥äº†ã€‚</p>
<div class="language-javascript highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kd">function</span> <span class="nx">f</span><span class="p">()</span> <span class="p">{</span>
  <span class="kd">let</span> <span class="nx">m</span> <span class="o">=</span> <span class="mi">1</span><span class="p">;</span>
  <span class="kd">let</span> <span class="nx">n</span> <span class="o">=</span> <span class="mi">2</span><span class="p">;</span>
  <span class="k">return</span> <span class="nx">g</span><span class="p">(</span><span class="nx">m</span> <span class="o">+</span> <span class="nx">n</span><span class="p">);</span>
<span class="p">}</span>
<span class="nx">f</span><span class="p">();</span>

<span class="c1">// ç­‰åŒäº</span>
<span class="kd">function</span> <span class="nx">f</span><span class="p">()</span> <span class="p">{</span>
  <span class="k">return</span> <span class="nx">g</span><span class="p">(</span><span class="mi">3</span><span class="p">);</span>
<span class="p">}</span>
<span class="nx">f</span><span class="p">();</span>

<span class="c1">// ç­‰åŒäº</span>
<span class="nx">g</span><span class="p">(</span><span class="mi">3</span><span class="p">);</span>  <span class="c1">// ç”±äºè°ƒç”¨gä¹‹åï¼Œå‡½æ•°få°±ç»“æŸäº†ï¼Œæ‰€ä»¥æ‰§è¡Œåˆ°æœ€åä¸€æ­¥ï¼Œå®Œå…¨å¯ä»¥åˆ é™¤ f(x) çš„è°ƒç”¨å¸§ï¼Œåªä¿ç•™ g(3) çš„è°ƒç”¨å¸§ã€‚</span>
</code></pre></div></div>
<p>â€œå°¾è°ƒç”¨ä¼˜åŒ–â€ï¼ˆTail call optimizationï¼‰ï¼Œå³åªä¿ç•™å†…å±‚å‡½æ•°çš„è°ƒç”¨å¸§ã€‚å¦‚æœæ‰€æœ‰å‡½æ•°éƒ½æ˜¯å°¾è°ƒç”¨ï¼Œé‚£ä¹ˆå®Œå…¨å¯ä»¥åšåˆ°æ¯æ¬¡æ‰§è¡Œæ—¶ï¼Œè°ƒç”¨å¸§åªæœ‰ä¸€é¡¹ï¼Œè¿™å°†å¤§å¤§èŠ‚çœå†…å­˜ã€‚è¿™å°±æ˜¯â€œå°¾è°ƒç”¨ä¼˜åŒ–â€çš„æ„ä¹‰ã€‚</p>

<p>å°¾é€’å½’ï¼šå¦‚æœå°¾è°ƒç”¨è‡ªèº«ï¼Œå°±ç§°ä¸ºå°¾é€’å½’ã€‚é€’å½’éå¸¸è€—è´¹å†…å­˜ï¼Œå› ä¸ºéœ€è¦åŒæ—¶ä¿å­˜æˆåƒä¸Šç™¾ä¸ªè°ƒç”¨å¸§ï¼Œå¾ˆå®¹æ˜“å‘ç”Ÿâ€œæ ˆæº¢å‡ºâ€é”™è¯¯ï¼ˆstack overflowï¼‰ã€‚ä½†å¯¹äºå°¾é€’å½’æ¥è¯´ï¼Œç”±äºåªå­˜åœ¨ä¸€ä¸ªè°ƒç”¨å¸§ï¼Œæ‰€ä»¥æ°¸è¿œä¸ä¼šå‘ç”Ÿâ€œæ ˆæº¢å‡ºâ€é”™è¯¯ã€‚
å°¾é€’å½’çš„å®ç°ï¼Œå¾€å¾€éœ€è¦æ”¹å†™é€’å½’å‡½æ•°ï¼Œç¡®ä¿æœ€åä¸€æ­¥åªè°ƒç”¨è‡ªèº«ï¼Œåšåˆ°è¿™ä¸€ç‚¹çš„æ–¹æ³•ï¼Œå°±æ˜¯æŠŠæ‰€æœ‰ç”¨åˆ°çš„å†…éƒ¨å˜é‡æ”¹å†™æˆå‡½æ•°çš„å‚æ•°ã€‚ï¼š</p>
<div class="language-javascript highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c1">// é˜¶ä¹˜å‡½æ•°ï¼Œè®¡ç®—nçš„é˜¶ä¹˜ï¼Œæœ€å¤šéœ€è¦ä¿å­˜nä¸ªè°ƒç”¨è®°å½•ï¼Œå¤æ‚åº¦ O(n) </span>
<span class="kd">function</span> <span class="nx">factorial</span><span class="p">(</span><span class="nx">n</span><span class="p">)</span> <span class="p">{</span>
  <span class="k">if</span> <span class="p">(</span><span class="nx">n</span> <span class="o">===</span> <span class="mi">1</span><span class="p">)</span> <span class="k">return</span> <span class="mi">1</span><span class="p">;</span>
  <span class="k">return</span> <span class="nx">n</span> <span class="o">*</span> <span class="nx">factorial</span><span class="p">(</span><span class="nx">n</span> <span class="o">-</span> <span class="mi">1</span><span class="p">);</span>  <span class="c1">// ä¸å±äºå°¾è°ƒç”¨</span>
<span class="p">}</span>

<span class="nx">factorial</span><span class="p">(</span><span class="mi">5</span><span class="p">)</span> <span class="c1">// 120</span>
</code></pre></div></div>
<p>é˜¶ä¹˜å‡½æ•° factorial éœ€è¦ç”¨åˆ°ä¸€ä¸ªä¸­é—´å˜é‡ total ï¼Œé‚£å°±æŠŠè¿™ä¸ªä¸­é—´å˜é‡æ”¹å†™æˆå‡½æ•°çš„å‚æ•°ï¼Œæ”¹å†™æˆå°¾é€’å½’ï¼š</p>
<div class="language-javascript highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c1">// å¤æ‚åº¦ O(1)</span>
<span class="kd">function</span> <span class="nx">factorial</span><span class="p">(</span><span class="nx">n</span><span class="p">,</span> <span class="nx">total</span><span class="p">)</span> <span class="p">{</span>
  <span class="k">if</span> <span class="p">(</span><span class="nx">n</span> <span class="o">===</span> <span class="mi">1</span><span class="p">)</span> <span class="k">return</span> <span class="nx">total</span><span class="p">;</span>
  <span class="k">return</span> <span class="nx">factorial</span><span class="p">(</span><span class="nx">n</span> <span class="o">-</span> <span class="mi">1</span><span class="p">,</span> <span class="nx">n</span> <span class="o">*</span> <span class="nx">total</span><span class="p">);</span>
<span class="p">}</span>

<span class="nx">factorial</span><span class="p">(</span><span class="mi">5</span><span class="p">,</span> <span class="mi">1</span><span class="p">)</span> <span class="c1">// 120</span>
</code></pre></div></div>
<p>â€œå°¾è°ƒç”¨ä¼˜åŒ–â€å¯¹é€’å½’æ“ä½œæ„ä¹‰é‡å¤§ï¼Œæ‰€ä»¥ä¸€äº›å‡½æ•°å¼ç¼–ç¨‹è¯­è¨€å°†å…¶å†™å…¥äº†è¯­è¨€è§„æ ¼ã€‚ES6ä¹Ÿæ˜¯å¦‚æ­¤ï¼Œç¬¬ä¸€æ¬¡æ˜ç¡®è§„å®šï¼Œæ‰€æœ‰ECMAScriptçš„å®ç°ï¼Œéƒ½å¿…é¡»éƒ¨ç½²â€œå°¾è°ƒç”¨ä¼˜åŒ–â€ã€‚è¿™å°±æ˜¯è¯´ï¼Œ<code class="language-plaintext highlighter-rouge">åœ¨ES6ä¸­ï¼Œåªè¦ä½¿ç”¨å°¾é€’å½’ï¼Œå°±ä¸ä¼šå‘ç”Ÿæ ˆæº¢å‡ºï¼Œç›¸å¯¹èŠ‚çœå†…å­˜</code>ã€‚</p>

<p>ES6çš„å°¾è°ƒç”¨ä¼˜åŒ–åªåœ¨ä¸¥æ ¼æ¨¡å¼ä¸‹å¼€å¯ï¼Œæ­£å¸¸æ¨¡å¼æ˜¯æ— æ•ˆçš„ã€‚è¿™æ˜¯å› ä¸ºåœ¨æ­£å¸¸æ¨¡å¼ä¸‹ï¼Œå‡½æ•°å†…éƒ¨æœ‰ä¸¤ä¸ªå˜é‡ï¼Œå¯ä»¥è·Ÿè¸ªå‡½æ•°çš„è°ƒç”¨æ ˆ:func.argumentsã€func.callerå°¾è°ƒç”¨ä¼˜åŒ–å‘ç”Ÿæ—¶ï¼Œå‡½æ•°çš„è°ƒç”¨æ ˆä¼šæ”¹å†™ï¼Œå› æ­¤ä¸Šé¢ä¸¤ä¸ªå˜é‡å°±ä¼šå¤±çœŸã€‚ä¸¥æ ¼æ¨¡å¼ç¦ç”¨è¿™ä¸¤ä¸ªå˜é‡ï¼Œæ‰€ä»¥å°¾è°ƒç”¨æ¨¡å¼ä»…åœ¨ä¸¥æ ¼æ¨¡å¼ä¸‹ç”Ÿæ•ˆã€‚</p>

<h2 id="å±æ€§çš„éå†">å±æ€§çš„éå†</h2>

<p>ES6ä¸€å…±æœ‰5ç§æ–¹æ³•å¯ä»¥éå†å¯¹è±¡çš„å±æ€§ã€‚</p>
<ul>
  <li>
    <ol>
      <li><code class="language-plaintext highlighter-rouge">for...in</code>
  forâ€¦inå¾ªç¯éå†å¯¹è±¡è‡ªèº«çš„å’Œç»§æ‰¿çš„å¯æšä¸¾å±æ€§ï¼ˆä¸å«Symbolå±æ€§ï¼‰ã€‚</li>
    </ol>
  </li>
  <li>
    <ol>
      <li><code class="language-plaintext highlighter-rouge">Object.keys(obj)</code>
  Object.keysè¿”å›ä¸€ä¸ªæ•°ç»„ï¼ŒåŒ…æ‹¬å¯¹è±¡è‡ªèº«çš„ï¼ˆä¸å«ç»§æ‰¿çš„ï¼‰æ‰€æœ‰å¯æšä¸¾å±æ€§ï¼ˆä¸å«Symbolå±æ€§ï¼‰ã€‚</li>
    </ol>
  </li>
  <li>
    <ol>
      <li><code class="language-plaintext highlighter-rouge">Object.getOwnPropertyNames(obj)</code>
  Object.getOwnPropertyNamesè¿”å›ä¸€ä¸ªæ•°ç»„ï¼ŒåŒ…å«å¯¹è±¡è‡ªèº«çš„æ‰€æœ‰å±æ€§ï¼ˆä¸å«Symbolå±æ€§ï¼Œä½†æ˜¯åŒ…æ‹¬ä¸å¯æšä¸¾å±æ€§ï¼‰ã€‚</li>
    </ol>
  </li>
  <li>
    <ol>
      <li><code class="language-plaintext highlighter-rouge">Object.getOwnPropertySymbols(obj)</code>
  Object.getOwnPropertySymbolsè¿”å›ä¸€ä¸ªæ•°ç»„ï¼ŒåŒ…å«å¯¹è±¡è‡ªèº«çš„æ‰€æœ‰Symbolå±æ€§ã€‚</li>
    </ol>
  </li>
  <li>
    <ol>
      <li><code class="language-plaintext highlighter-rouge">Reflect.ownKeys(obj)</code>
  Reflect.ownKeysè¿”å›ä¸€ä¸ªæ•°ç»„ï¼ŒåŒ…å«å¯¹è±¡è‡ªèº«çš„æ‰€æœ‰å±æ€§ï¼Œä¸ç®¡æ˜¯å±æ€§åæ˜¯Symbolæˆ–å­—ç¬¦ä¸²ï¼Œä¹Ÿä¸ç®¡æ˜¯å¦å¯æšä¸¾ã€‚</li>
    </ol>
  </li>
</ul>

<p>ä»¥ä¸Šçš„5ç§æ–¹æ³•éå†å¯¹è±¡çš„å±æ€§ï¼Œéƒ½éµå®ˆåŒæ ·çš„å±æ€§éå†çš„æ¬¡åºè§„åˆ™ï¼š
é¦–å…ˆéå†æ‰€æœ‰å±æ€§åä¸º<code class="language-plaintext highlighter-rouge">æ•°å€¼</code>çš„å±æ€§ï¼ŒæŒ‰ç…§æ•°å­—æ’åºã€‚
å…¶æ¬¡éå†æ‰€æœ‰å±æ€§åä¸º<code class="language-plaintext highlighter-rouge">å­—ç¬¦ä¸²</code>çš„å±æ€§ï¼ŒæŒ‰ç…§ç”Ÿæˆæ—¶é—´æ’åºã€‚
æœ€åéå†æ‰€æœ‰å±æ€§åä¸º<code class="language-plaintext highlighter-rouge">Symbolå€¼</code>çš„å±æ€§ï¼ŒæŒ‰ç…§ç”Ÿæˆæ—¶é—´æ’åºã€‚</p>
<div class="language-javascript highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nb">Reflect</span><span class="p">.</span><span class="nx">ownKeys</span><span class="p">({</span> <span class="p">[</span><span class="nb">Symbol</span><span class="p">()]:</span><span class="mi">0</span><span class="p">,</span> <span class="na">b</span><span class="p">:</span><span class="mi">0</span><span class="p">,</span> <span class="mi">10</span><span class="p">:</span><span class="mi">0</span><span class="p">,</span> <span class="mi">2</span><span class="p">:</span><span class="mi">0</span><span class="p">,</span> <span class="na">a</span><span class="p">:</span><span class="mi">0</span> <span class="p">})</span>
<span class="c1">// ['2', '10', 'b', 'a', Symbol()]</span>
</code></pre></div></div>

<h2 id="symbol">Symbol</h2>
<p>ES6å¼•å…¥äº†ä¸€ç§æ–°çš„åŸå§‹æ•°æ®ç±»å‹Symbolï¼Œè¡¨ç¤ºç‹¬ä¸€æ— äºŒçš„å€¼ã€‚å®ƒæ˜¯JavaScriptè¯­è¨€çš„ç¬¬ä¸ƒç§æ•°æ®ç±»å‹ï¼Œå‰å…­ç§æ˜¯ï¼šUndefinedã€Nullã€å¸ƒå°”å€¼ï¼ˆBooleanï¼‰ã€å­—ç¬¦ä¸²ï¼ˆStringï¼‰ã€æ•°å€¼ï¼ˆNumberï¼‰ã€å¯¹è±¡ï¼ˆObjectï¼‰ã€‚
Symbolå€¼é€šè¿‡Symbolå‡½æ•°ç”Ÿæˆã€‚è¿™å°±æ˜¯è¯´ï¼Œå¯¹è±¡çš„å±æ€§åç°åœ¨å¯ä»¥æœ‰ä¸¤ç§ç±»å‹ï¼Œä¸€ç§æ˜¯åŸæ¥å°±æœ‰çš„å­—ç¬¦ä¸²ï¼Œå¦ä¸€ç§å°±æ˜¯æ–°å¢çš„Symbolç±»å‹ã€‚å‡¡æ˜¯å±æ€§åå±äºSymbolç±»å‹ï¼Œå°±éƒ½æ˜¯ç‹¬ä¸€æ— äºŒçš„ï¼Œå¯ä»¥ä¿è¯ä¸ä¼šä¸å…¶ä»–å±æ€§åäº§ç”Ÿå†²çªã€‚</p>

<p>Symbolå‡½æ•°å‰ä¸èƒ½ä½¿ç”¨newå‘½ä»¤ï¼Œå¦åˆ™ä¼šæŠ¥é”™ã€‚è¿™æ˜¯å› ä¸ºç”Ÿæˆçš„Symbolæ˜¯ä¸€ä¸ªåŸå§‹ç±»å‹çš„å€¼ï¼Œä¸æ˜¯å¯¹è±¡ã€‚ä¹Ÿå°±æ˜¯è¯´ï¼Œç”±äºSymbolå€¼ä¸æ˜¯å¯¹è±¡ï¼Œæ‰€ä»¥ä¸èƒ½æ·»åŠ å±æ€§ã€‚åŸºæœ¬ä¸Šï¼Œå®ƒæ˜¯ä¸€ç§ç±»ä¼¼äºå­—ç¬¦ä¸²çš„æ•°æ®ç±»å‹ã€‚
Symbolå‡½æ•°å¯ä»¥æ¥å—ä¸€ä¸ªå­—ç¬¦ä¸²ä½œä¸ºå‚æ•°ï¼Œè¡¨ç¤ºå¯¹Symbolå®ä¾‹çš„æè¿°ï¼Œä¸»è¦æ˜¯ä¸ºäº†åœ¨æ§åˆ¶å°æ˜¾ç¤ºï¼Œæˆ–è€…è½¬ä¸ºå­—ç¬¦ä¸²æ—¶ï¼Œæ¯”è¾ƒå®¹æ˜“åŒºåˆ†ã€‚</p>

<div class="language-javascript highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kd">let</span> <span class="nx">s</span> <span class="o">=</span> <span class="nb">Symbol</span><span class="p">();</span>

<span class="k">typeof</span> <span class="nx">s</span>
<span class="c1">// "symbol"</span>

<span class="kd">var</span> <span class="nx">s1</span> <span class="o">=</span> <span class="nb">Symbol</span><span class="p">(</span><span class="dl">'</span><span class="s1">foo</span><span class="dl">'</span><span class="p">);</span>
<span class="kd">var</span> <span class="nx">s2</span> <span class="o">=</span> <span class="nb">Symbol</span><span class="p">(</span><span class="dl">'</span><span class="s1">bar</span><span class="dl">'</span><span class="p">);</span>

<span class="nx">s1</span> <span class="c1">// Symbol(foo)</span>
<span class="nx">s2</span> <span class="c1">// Symbol(bar)</span>

<span class="nx">s1</span><span class="p">.</span><span class="nx">toString</span><span class="p">()</span> <span class="c1">// "Symbol(foo)"</span>
<span class="nx">s2</span><span class="p">.</span><span class="nx">toString</span><span class="p">()</span> <span class="c1">// "Symbol(bar)"</span>

<span class="c1">// æ²¡æœ‰å‚æ•°çš„æƒ…å†µ</span>
<span class="kd">var</span> <span class="nx">s1</span> <span class="o">=</span> <span class="nb">Symbol</span><span class="p">();</span>
<span class="kd">var</span> <span class="nx">s2</span> <span class="o">=</span> <span class="nb">Symbol</span><span class="p">();</span>

<span class="nx">s1</span> <span class="o">===</span> <span class="nx">s2</span> <span class="c1">// false</span>

<span class="c1">// æœ‰å‚æ•°çš„æƒ…å†µ</span>
<span class="kd">var</span> <span class="nx">s1</span> <span class="o">=</span> <span class="nb">Symbol</span><span class="p">(</span><span class="dl">"</span><span class="s2">foo</span><span class="dl">"</span><span class="p">);</span>
<span class="kd">var</span> <span class="nx">s2</span> <span class="o">=</span> <span class="nb">Symbol</span><span class="p">(</span><span class="dl">"</span><span class="s2">foo</span><span class="dl">"</span><span class="p">);</span>

<span class="nx">s1</span> <span class="o">===</span> <span class="nx">s2</span> <span class="c1">// false</span>
</code></pre></div></div>

<h2 id="äºŒè¿›åˆ¶æ•°ç»„">äºŒè¿›åˆ¶æ•°ç»„</h2>

<p>äºŒè¿›åˆ¶æ•°ç»„å…è®¸å¼€å‘è€…ä»¥æ•°ç»„ä¸‹æ ‡çš„å½¢å¼ï¼Œç›´æ¥æ“ä½œå†…å­˜ï¼Œä½¿å¾—å¼€å‘è€…æœ‰å¯èƒ½é€šè¿‡JavaScriptä¸æ“ä½œç³»ç»Ÿçš„åŸç”Ÿæ¥å£è¿›è¡ŒäºŒè¿›åˆ¶é€šä¿¡ã€‚
<strong>äºŒè¿›åˆ¶æ•°ç»„ç”±ä¸‰ç±»å¯¹è±¡ç»„æˆ</strong></p>
<ul>
  <li>
    <p>1.ArrayBuffer`å¯¹è±¡ï¼šä»£è¡¨å†…å­˜ä¹‹ä¸­çš„ä¸€æ®µäºŒè¿›åˆ¶æ•°æ®ï¼Œå¯ä»¥é€šè¿‡â€œè§†å›¾â€è¿›è¡Œæ“ä½œã€‚â€œè§†å›¾â€éƒ¨ç½²äº†æ•°ç»„æ¥å£ï¼Œè¿™æ„å‘³ç€ï¼Œå¯ä»¥ç”¨æ•°ç»„çš„æ–¹æ³•æ“ä½œå†…å­˜ã€‚</p>
  </li>
  <li>
    <p>2.TypedArrayè§†å›¾ï¼šæ˜¯ä¸€ç»„ä¸åŒç±»å‹è§†å›¾çš„ç»Ÿç§°ï¼Œå…±åŒ…æ‹¬9ç§ç±»å‹çš„è§†å›¾ï¼Œæ¯”å¦‚Uint8Arrayï¼ˆæ— ç¬¦å·8ä½æ•´æ•°ï¼‰æ•°ç»„è§†å›¾, Int16Arrayï¼ˆ16ä½æ•´æ•°ï¼‰æ•°ç»„è§†å›¾, Float32Arrayï¼ˆ32ä½æµ®ç‚¹æ•°ï¼‰æ•°ç»„è§†å›¾ç­‰ç­‰ã€‚</p>
  </li>
  <li>
    <p>3.DataViewè§†å›¾ï¼šå¯ä»¥è‡ªå®šä¹‰å¤åˆæ ¼å¼çš„è§†å›¾ï¼Œæ¯”å¦‚ç¬¬ä¸€ä¸ªå­—èŠ‚æ˜¯Uint8ï¼ˆæ— ç¬¦å·8ä½æ•´æ•°ï¼‰ã€ç¬¬äºŒã€ä¸‰ä¸ªå­—èŠ‚æ˜¯Int16ï¼ˆ16ä½æ•´æ•°ï¼‰ã€ç¬¬å››ä¸ªå­—èŠ‚å¼€å§‹æ˜¯Float32ï¼ˆ32ä½æµ®ç‚¹æ•°ï¼‰ç­‰ç­‰ï¼Œæ­¤å¤–è¿˜å¯ä»¥è‡ªå®šä¹‰å­—èŠ‚åºã€‚</p>
  </li>
</ul>

<p>å³ï¼ŒArrayBufferå¯¹è±¡ä»£è¡¨åŸå§‹çš„äºŒè¿›åˆ¶æ•°æ®ï¼ŒTypedArrayè§†å›¾ç”¨æ¥è¯»å†™ç®€å•ç±»å‹çš„äºŒè¿›åˆ¶æ•°æ®ï¼ŒDataViewè§†å›¾ç”¨æ¥è¯»å†™å¤æ‚ç±»å‹çš„äºŒè¿›åˆ¶æ•°æ®ã€‚</p>

<p>æ³¨æ„ï¼ŒäºŒè¿›åˆ¶æ•°ç»„å¹¶ä¸æ˜¯çœŸæ­£çš„æ•°ç»„ï¼Œè€Œæ˜¯ç±»ä¼¼æ•°ç»„çš„å¯¹è±¡ã€‚</p>

<h2 id="weaksetä¸setçš„åŒºåˆ«">WeakSetä¸Setçš„åŒºåˆ«</h2>

<ul>
  <li>
    <ol>
      <li>WeakSetçš„æˆå‘˜åªèƒ½æ˜¯å¯¹è±¡ï¼Œè€Œä¸èƒ½æ˜¯å…¶ä»–ç±»å‹çš„å€¼ã€‚</li>
    </ol>
  </li>
  <li>
    <ol>
      <li>WeakSetä¸­çš„å¯¹è±¡éƒ½æ˜¯å¼±å¼•ç”¨ï¼Œå³åƒåœ¾å›æ”¶æœºåˆ¶ä¸è€ƒè™‘WeakSetå¯¹è¯¥å¯¹è±¡çš„å¼•ç”¨ï¼Œä¹Ÿå°±æ˜¯è¯´ï¼Œå¦‚æœå…¶ä»–å¯¹è±¡éƒ½ä¸å†å¼•ç”¨è¯¥å¯¹è±¡ï¼Œé‚£ä¹ˆåƒåœ¾å›æ”¶æœºåˆ¶ä¼šè‡ªåŠ¨å›æ”¶è¯¥å¯¹è±¡æ‰€å ç”¨çš„å†…å­˜ï¼Œä¸è€ƒè™‘è¯¥å¯¹è±¡è¿˜å­˜åœ¨äºWeakSetä¹‹ä¸­ã€‚è¿™ä¸ªç‰¹ç‚¹æ„å‘³ç€ï¼Œæ— æ³•å¼•ç”¨WeakSetçš„æˆå‘˜ï¼ˆWeakSetæ²¡æœ‰sizeå±æ€§ï¼‰ï¼Œå› æ­¤WeakSetæ˜¯ä¸å¯éå†çš„ã€‚
  WeakSetçš„ä¸€ä¸ªç”¨å¤„ï¼Œæ˜¯å‚¨å­˜DOMèŠ‚ç‚¹ï¼Œè€Œä¸ç”¨æ‹…å¿ƒè¿™äº›èŠ‚ç‚¹ä»æ–‡æ¡£ç§»é™¤æ—¶ï¼Œä¼šå¼•å‘å†…å­˜æ³„æ¼ã€‚</li>
    </ol>
  </li>
</ul>

<h2 id="weakmapä¸mapçš„åŒºåˆ«">WeakMapä¸Mapçš„åŒºåˆ«</h2>

<p>WeakMapç»“æ„ä¸Mapç»“æ„åŸºæœ¬ç±»ä¼¼ï¼Œå”¯ä¸€çš„åŒºåˆ«æ˜¯å®ƒåªæ¥å—å¯¹è±¡ä½œä¸ºé”®åï¼ˆnullé™¤å¤–ï¼‰ï¼Œä¸æ¥å—å…¶ä»–ç±»å‹çš„å€¼ä½œä¸ºé”®åï¼Œè€Œä¸”é”®åæ‰€æŒ‡å‘çš„å¯¹è±¡ï¼Œä¸è®¡å…¥åƒåœ¾å›æ”¶æœºåˆ¶ã€‚
WeakMapçš„è®¾è®¡ç›®çš„åœ¨äºï¼Œé”®åæ˜¯å¯¹è±¡çš„å¼±å¼•ç”¨ï¼ˆåƒåœ¾å›æ”¶æœºåˆ¶ä¸å°†è¯¥å¼•ç”¨è€ƒè™‘åœ¨å†…ï¼‰ï¼Œæ‰€ä»¥å…¶æ‰€å¯¹åº”çš„å¯¹è±¡å¯èƒ½ä¼šè¢«è‡ªåŠ¨å›æ”¶ã€‚å½“å¯¹è±¡è¢«å›æ”¶åï¼ŒWeakMapè‡ªåŠ¨ç§»é™¤å¯¹åº”çš„é”®å€¼å¯¹ã€‚å…¸å‹åº”ç”¨æ˜¯ï¼Œä¸€ä¸ªå¯¹åº”DOMå…ƒç´ çš„WeakMapç»“æ„ï¼Œå½“æŸä¸ªDOMå…ƒç´ è¢«æ¸…é™¤ï¼Œå…¶æ‰€å¯¹åº”çš„WeakMapè®°å½•å°±ä¼šè‡ªåŠ¨è¢«ç§»é™¤ã€‚åŸºæœ¬ä¸Šï¼ŒWeakMapçš„ä¸“ç”¨åœºåˆå°±æ˜¯ï¼Œå®ƒçš„é”®æ‰€å¯¹åº”çš„å¯¹è±¡ï¼Œå¯èƒ½ä¼šåœ¨å°†æ¥æ¶ˆå¤±ã€‚WeakMapç»“æ„æœ‰åŠ©äºé˜²æ­¢å†…å­˜æ³„æ¼ã€‚
WeakMapä¸Mapåœ¨APIä¸Šçš„åŒºåˆ«ä¸»è¦æ˜¯ä¸¤ä¸ªï¼Œä¸€æ˜¯æ²¡æœ‰éå†æ“ä½œï¼ˆå³æ²¡æœ‰key()ã€values()å’Œentries()æ–¹æ³•ï¼‰ï¼Œä¹Ÿæ²¡æœ‰sizeå±æ€§ï¼›äºŒæ˜¯æ— æ³•æ¸…ç©ºï¼Œå³ä¸æ”¯æŒclearæ–¹æ³•ã€‚è¿™ä¸WeakMapçš„é”®ä¸è¢«è®¡å…¥å¼•ç”¨ã€è¢«åƒåœ¾å›æ”¶æœºåˆ¶å¿½ç•¥æœ‰å…³ã€‚å› æ­¤ï¼ŒWeakMapåªæœ‰å››ä¸ªæ–¹æ³•å¯ç”¨ï¼šget()ã€set()ã€has()ã€delete()ã€‚</p>

<h2 id="iteratorçš„éå†è¿‡ç¨‹">Iteratorçš„éå†è¿‡ç¨‹</h2>

<ul>
  <li>
    <ol>
      <li>åˆ›å»ºä¸€ä¸ªæŒ‡é’ˆå¯¹è±¡ï¼ŒæŒ‡å‘å½“å‰æ•°æ®ç»“æ„çš„èµ·å§‹ä½ç½®ã€‚ä¹Ÿå°±æ˜¯è¯´ï¼Œéå†å™¨å¯¹è±¡æœ¬è´¨ä¸Šï¼Œå°±æ˜¯ä¸€ä¸ªæŒ‡é’ˆå¯¹è±¡ã€‚</li>
    </ol>
  </li>
  <li>
    <ol>
      <li>ç¬¬ä¸€æ¬¡è°ƒç”¨æŒ‡é’ˆå¯¹è±¡çš„nextæ–¹æ³•ï¼Œå¯ä»¥å°†æŒ‡é’ˆæŒ‡å‘æ•°æ®ç»“æ„çš„ç¬¬ä¸€ä¸ªæˆå‘˜ã€‚</li>
    </ol>
  </li>
  <li>
    <ol>
      <li>ç¬¬äºŒæ¬¡è°ƒç”¨æŒ‡é’ˆå¯¹è±¡çš„nextæ–¹æ³•ï¼ŒæŒ‡é’ˆå°±æŒ‡å‘æ•°æ®ç»“æ„çš„ç¬¬äºŒä¸ªæˆå‘˜ã€‚</li>
    </ol>
  </li>
  <li>
    <ol>
      <li>ä¸æ–­è°ƒç”¨æŒ‡é’ˆå¯¹è±¡çš„nextæ–¹æ³•ï¼Œç›´åˆ°å®ƒæŒ‡å‘æ•°æ®ç»“æ„çš„ç»“æŸä½ç½®ã€‚
  æ¯ä¸€æ¬¡è°ƒç”¨nextæ–¹æ³•ï¼Œéƒ½ä¼šè¿”å›æ•°æ®ç»“æ„çš„å½“å‰æˆå‘˜çš„ä¿¡æ¯ã€‚å…·ä½“æ¥è¯´ï¼Œå°±æ˜¯è¿”å›ä¸€ä¸ªåŒ…å«valueå’Œdoneä¸¤ä¸ªå±æ€§çš„å¯¹è±¡ã€‚å…¶ä¸­ï¼Œvalueå±æ€§æ˜¯å½“å‰æˆå‘˜çš„å€¼ï¼Œdoneå±æ€§æ˜¯ä¸€ä¸ªå¸ƒå°”å€¼ï¼Œè¡¨ç¤ºéå†æ˜¯å¦ç»“æŸã€‚</li>
    </ol>
  </li>
</ul>

<p><strong>Iteratorçš„ä½œç”¨æœ‰ä¸‰ä¸ªï¼š</strong></p>
<ol>
  <li>ä¸ºå„ç§æ•°æ®ç»“æ„ï¼Œæä¾›ä¸€ä¸ªç»Ÿä¸€çš„ã€ç®€ä¾¿çš„è®¿é—®æ¥å£ï¼›</li>
  <li>ä½¿å¾—æ•°æ®ç»“æ„çš„æˆå‘˜èƒ½å¤ŸæŒ‰æŸç§æ¬¡åºæ’åˆ—ï¼›</li>
  <li>ES6åˆ›é€ äº†ä¸€ç§æ–°çš„éå†å‘½ä»¤forâ€¦ofå¾ªç¯ï¼ŒIteratoræ¥å£ä¸»è¦ä¾›forâ€¦ofæ¶ˆè´¹ã€‚</li>
</ol>

<p>ç”±äºIteratoråªæ˜¯æŠŠæ¥å£è§„æ ¼åŠ åˆ°æ•°æ®ç»“æ„ä¹‹ä¸Šï¼Œæ‰€ä»¥ï¼Œéå†å™¨ä¸å®ƒæ‰€éå†çš„é‚£ä¸ªæ•°æ®ç»“æ„ï¼Œå®é™…ä¸Šæ˜¯åˆ†å¼€çš„ï¼Œå®Œå…¨å¯ä»¥å†™å‡ºæ²¡æœ‰å¯¹åº”æ•°æ®ç»“æ„çš„éå†å™¨å¯¹è±¡ï¼Œæˆ–è€…è¯´ç”¨éå†å™¨å¯¹è±¡æ¨¡æ‹Ÿå‡ºæ•°æ®ç»“æ„ï¼š</p>
<div class="language-javascript highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c1">// æ— é™è¿è¡Œçš„éå†å™¨å¯¹è±¡</span>
<span class="kd">var</span> <span class="nx">it</span> <span class="o">=</span> <span class="nx">idMaker</span><span class="p">();</span>

<span class="nx">it</span><span class="p">.</span><span class="nx">next</span><span class="p">().</span><span class="nx">value</span> <span class="c1">// '0'</span>
<span class="nx">it</span><span class="p">.</span><span class="nx">next</span><span class="p">().</span><span class="nx">value</span> <span class="c1">// '1'</span>
<span class="nx">it</span><span class="p">.</span><span class="nx">next</span><span class="p">().</span><span class="nx">value</span> <span class="c1">// '2'</span>
<span class="c1">// ...</span>

<span class="kd">function</span> <span class="nx">idMaker</span><span class="p">()</span> <span class="p">{</span>
  <span class="kd">var</span> <span class="nx">index</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span>

  <span class="k">return</span> <span class="p">{</span>
    <span class="na">next</span><span class="p">:</span> <span class="kd">function</span><span class="p">()</span> <span class="p">{</span>
      <span class="k">return</span> <span class="p">{</span><span class="na">value</span><span class="p">:</span> <span class="nx">index</span><span class="o">++</span><span class="p">,</span> <span class="na">done</span><span class="p">:</span> <span class="kc">false</span><span class="p">};</span>
    <span class="p">}</span>
  <span class="p">};</span>
<span class="p">}</span>
</code></pre></div></div>

<h2 id="generatorå‡½æ•°ä¸yieldè¯­å¥">Generatorå‡½æ•°ä¸yieldè¯­å¥</h2>

<p>è°ƒç”¨Generatorå‡½æ•°åï¼Œè¯¥å‡½æ•°å¹¶ä¸æ‰§è¡Œï¼Œè¿”å›çš„ä¹Ÿä¸æ˜¯å‡½æ•°è¿è¡Œç»“æœï¼Œè€Œæ˜¯ä¸€ä¸ªæŒ‡å‘å†…éƒ¨çŠ¶æ€çš„æŒ‡é’ˆå¯¹è±¡ï¼Œä¹Ÿå°±æ˜¯éå†å™¨å¯¹è±¡ï¼ˆIterator Objectï¼‰ã€‚å¿…é¡»è°ƒç”¨éå†å™¨å¯¹è±¡çš„nextæ–¹æ³•ï¼Œä½¿å¾—æŒ‡é’ˆç§»å‘ä¸‹ä¸€ä¸ªçŠ¶æ€ï¼Œæ¯æ¬¡è°ƒç”¨nextæ–¹æ³•ï¼Œå†…éƒ¨æŒ‡é’ˆå°±ä»å‡½æ•°å¤´éƒ¨æˆ–ä¸Šä¸€æ¬¡åœä¸‹æ¥çš„åœ°æ–¹å¼€å§‹æ‰§è¡Œï¼Œç›´åˆ°é‡åˆ°ä¸‹ä¸€ä¸ªyieldè¯­å¥ï¼ˆæˆ–returnè¯­å¥ï¼‰ä¸ºæ­¢ã€‚æ¢è¨€ä¹‹ï¼ŒGeneratorå‡½æ•°æ˜¯åˆ†æ®µæ‰§è¡Œçš„ï¼Œyieldè¯­å¥æ˜¯æš‚åœæ‰§è¡Œçš„æ ‡è®°ï¼Œè€Œnextæ–¹æ³•å¯ä»¥æ¢å¤æ‰§è¡Œã€‚</p>
<div class="language-javascript highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kd">function</span><span class="o">*</span> <span class="nx">helloWorldGenerator</span><span class="p">()</span> <span class="p">{</span>
  <span class="k">yield</span> <span class="dl">'</span><span class="s1">hello</span><span class="dl">'</span><span class="p">;</span>
  <span class="k">yield</span> <span class="dl">'</span><span class="s1">world</span><span class="dl">'</span><span class="p">;</span>
  <span class="k">return</span> <span class="dl">'</span><span class="s1">ending</span><span class="dl">'</span><span class="p">;</span>
<span class="p">}</span>

<span class="kd">var</span> <span class="nx">hw</span> <span class="o">=</span> <span class="nx">helloWorldGenerator</span><span class="p">();</span>

<span class="nx">hw</span><span class="p">.</span><span class="nx">next</span><span class="p">()</span>
<span class="c1">// { value: 'hello', done: false }</span>

<span class="nx">hw</span><span class="p">.</span><span class="nx">next</span><span class="p">()</span>
<span class="c1">// { value: 'world', done: false }</span>

<span class="nx">hw</span><span class="p">.</span><span class="nx">next</span><span class="p">()</span>
<span class="c1">// { value: 'ending', done: true }</span>

<span class="nx">hw</span><span class="p">.</span><span class="nx">next</span><span class="p">()</span>
<span class="c1">// { value: undefined, done: true }</span>
</code></pre></div></div>
<p>éå†å™¨å¯¹è±¡çš„nextæ–¹æ³•çš„è¿è¡Œé€»è¾‘å¦‚ä¸‹ï¼š</p>
<ul>
  <li>
    <ol>
      <li>é‡åˆ°yieldè¯­å¥ï¼Œå°±æš‚åœæ‰§è¡Œåé¢çš„æ“ä½œï¼Œå¹¶å°†ç´§è·Ÿåœ¨yieldåé¢çš„é‚£ä¸ªè¡¨è¾¾å¼çš„å€¼ï¼Œä½œä¸ºè¿”å›çš„å¯¹è±¡çš„valueå±æ€§å€¼ã€‚</li>
    </ol>
  </li>
  <li>
    <ol>
      <li>ä¸‹ä¸€æ¬¡è°ƒç”¨nextæ–¹æ³•æ—¶ï¼Œå†ç»§ç»­å¾€ä¸‹æ‰§è¡Œï¼Œç›´åˆ°é‡åˆ°ä¸‹ä¸€ä¸ªyieldè¯­å¥ã€‚</li>
    </ol>
  </li>
  <li>
    <ol>
      <li>å¦‚æœæ²¡æœ‰å†é‡åˆ°æ–°çš„yieldè¯­å¥ï¼Œå°±ä¸€ç›´è¿è¡Œåˆ°å‡½æ•°ç»“æŸï¼Œç›´åˆ°returnè¯­å¥ä¸ºæ­¢ï¼Œå¹¶å°†returnè¯­å¥åé¢çš„è¡¨è¾¾å¼çš„å€¼ï¼Œä½œä¸ºè¿”å›çš„å¯¹è±¡çš„valueå±æ€§å€¼ã€‚</li>
    </ol>
  </li>
  <li>
    <ol>
      <li>å¦‚æœè¯¥å‡½æ•°æ²¡æœ‰returnè¯­å¥ï¼Œåˆ™è¿”å›çš„å¯¹è±¡çš„valueå±æ€§å€¼ä¸ºundefinedã€‚</li>
    </ol>
  </li>
</ul>

<p>yieldè¯­å¥ä¸returnè¯­å¥æ—¢æœ‰ç›¸ä¼¼ä¹‹å¤„ï¼Œä¹Ÿæœ‰åŒºåˆ«ã€‚ç›¸ä¼¼ä¹‹å¤„åœ¨äºï¼Œéƒ½èƒ½è¿”å›ç´§è·Ÿåœ¨è¯­å¥åé¢çš„é‚£ä¸ªè¡¨è¾¾å¼çš„å€¼ã€‚åŒºåˆ«åœ¨äºæ¯æ¬¡é‡åˆ°yieldï¼Œå‡½æ•°æš‚åœæ‰§è¡Œï¼Œ<code class="language-plaintext highlighter-rouge">ä¸‹ä¸€æ¬¡å†ä»è¯¥ä½ç½®ç»§ç»­å‘åæ‰§è¡Œ</code>ï¼Œè€Œreturnè¯­å¥ä¸å…·å¤‡ä½ç½®è®°å¿†çš„åŠŸèƒ½ã€‚ä¸€ä¸ªå‡½æ•°é‡Œé¢ï¼Œåªèƒ½æ‰§è¡Œä¸€æ¬¡ï¼ˆæˆ–è€…è¯´ä¸€ä¸ªï¼‰returnè¯­å¥ï¼Œä½†æ˜¯å¯ä»¥æ‰§è¡Œå¤šæ¬¡ï¼ˆæˆ–è€…è¯´å¤šä¸ªï¼‰yieldè¯­å¥ã€‚æ­£å¸¸å‡½æ•°åªèƒ½è¿”å›ä¸€ä¸ªå€¼ï¼Œå› ä¸ºåªèƒ½æ‰§è¡Œä¸€æ¬¡returnï¼›Generatorå‡½æ•°å¯ä»¥è¿”å›ä¸€ç³»åˆ—çš„å€¼ï¼Œå› ä¸ºå¯ä»¥æœ‰ä»»æ„å¤šä¸ªyieldã€‚ä»å¦ä¸€ä¸ªè§’åº¦çœ‹ï¼Œä¹Ÿå¯ä»¥è¯´Generatorç”Ÿæˆäº†ä¸€ç³»åˆ—çš„å€¼ã€‚</p>

<h2 id="generatorä¸åç¨‹">Generatorä¸åç¨‹</h2>

<p>ä¸€ä¸ªçº¿ç¨‹ï¼ˆæˆ–å‡½æ•°ï¼‰æ‰§è¡Œåˆ°ä¸€åŠï¼Œå¯ä»¥æš‚åœæ‰§è¡Œï¼Œå°†æ‰§è¡Œæƒäº¤ç»™å¦ä¸€ä¸ªçº¿ç¨‹ï¼ˆæˆ–å‡½æ•°ï¼‰ï¼Œç­‰åˆ°ç¨åæ”¶å›æ‰§è¡Œæƒçš„æ—¶å€™ï¼Œå†æ¢å¤æ‰§è¡Œã€‚è¿™ç§å¯ä»¥å¹¶è¡Œæ‰§è¡Œã€äº¤æ¢æ‰§è¡Œæƒçš„çº¿ç¨‹ï¼ˆæˆ–å‡½æ•°ï¼‰ï¼Œå°±ç§°ä¸ºåç¨‹ã€‚å®ƒä¸æ™®é€šçš„çº¿ç¨‹å¾ˆç›¸ä¼¼ï¼Œéƒ½æœ‰è‡ªå·±çš„æ‰§è¡Œä¸Šä¸‹æ–‡ã€å¯ä»¥åˆ†äº«å…¨å±€å˜é‡ã€‚å®ƒä»¬çš„ä¸åŒä¹‹å¤„åœ¨äºï¼Œ<u>åŒä¸€æ—¶é—´å¯ä»¥æœ‰å¤šä¸ªçº¿ç¨‹å¤„äºè¿è¡ŒçŠ¶æ€ï¼Œä½†æ˜¯è¿è¡Œçš„åç¨‹åªèƒ½æœ‰ä¸€ä¸ªï¼Œå…¶ä»–åç¨‹éƒ½å¤„äºæš‚åœçŠ¶æ€</u>ã€‚æ­¤å¤–ï¼Œæ™®é€šçš„çº¿ç¨‹æ˜¯æŠ¢å…ˆå¼çš„ï¼Œåˆ°åº•å“ªä¸ªçº¿ç¨‹ä¼˜å…ˆå¾—åˆ°èµ„æºï¼Œå¿…é¡»ç”±è¿è¡Œç¯å¢ƒå†³å®šï¼Œä½†æ˜¯åç¨‹æ˜¯åˆä½œå¼çš„ï¼Œæ‰§è¡Œæƒç”±åç¨‹è‡ªå·±åˆ†é…ã€‚
ä»å®ç°ä¸Šçœ‹ï¼Œåœ¨å†…å­˜ä¸­ï¼Œå­ä¾‹ç¨‹åªä½¿ç”¨ä¸€ä¸ªæ ˆï¼ˆstackï¼‰ï¼Œè€Œåç¨‹æ˜¯åŒæ—¶å­˜åœ¨å¤šä¸ªæ ˆï¼Œä½†åªæœ‰ä¸€ä¸ªæ ˆæ˜¯åœ¨è¿è¡ŒçŠ¶æ€ï¼Œä¹Ÿå°±æ˜¯è¯´ï¼Œåç¨‹æ˜¯ä»¥å¤šå ç”¨å†…å­˜ä¸ºä»£ä»·ï¼Œå®ç°å¤šä»»åŠ¡çš„å¹¶è¡Œã€‚</p>

<p>Generatorå‡½æ•°æ˜¯ECMAScript 6å¯¹åç¨‹çš„å®ç°ï¼Œä½†å±äºä¸å®Œå…¨å®ç°ã€‚Generatorå‡½æ•°è¢«ç§°ä¸ºâ€œåŠåç¨‹â€ï¼ˆsemi-coroutineï¼‰ï¼Œæ„æ€æ˜¯åªæœ‰Generatorå‡½æ•°çš„è°ƒç”¨è€…ï¼Œæ‰èƒ½å°†ç¨‹åºçš„æ‰§è¡Œæƒè¿˜ç»™Generatorå‡½æ•°ã€‚å¦‚æœæ˜¯å®Œå…¨æ‰§è¡Œçš„åç¨‹ï¼Œä»»ä½•å‡½æ•°éƒ½å¯ä»¥è®©æš‚åœçš„åç¨‹ç»§ç»­æ‰§è¡Œã€‚
å¦‚æœå°†Generatorå‡½æ•°å½“ä½œåç¨‹ï¼Œå®Œå…¨å¯ä»¥å°†å¤šä¸ªéœ€è¦äº’ç›¸åä½œçš„ä»»åŠ¡å†™æˆGeneratorå‡½æ•°ï¼Œå®ƒä»¬ä¹‹é—´ä½¿ç”¨yieldè¯­å¥äº¤æ¢æ§åˆ¶æƒã€‚</p>

<h2 id="promiseå¯¹è±¡">Promiseå¯¹è±¡</h2>

<p>ES6åŸç”Ÿæä¾›äº†Promiseå¯¹è±¡ã€‚
Promiseå¯¹è±¡æœ‰ä»¥ä¸‹ä¸¤ä¸ªç‰¹ç‚¹ã€‚</p>
<ul>
  <li>
    <ol>
      <li>å¯¹è±¡çš„çŠ¶æ€ä¸å—å¤–ç•Œå½±å“ã€‚Promiseå¯¹è±¡ä»£è¡¨ä¸€ä¸ªå¼‚æ­¥æ“ä½œï¼Œæœ‰ä¸‰ç§çŠ¶æ€ï¼šPendingï¼ˆè¿›è¡Œä¸­ï¼‰ã€Resolvedï¼ˆå·²å®Œæˆï¼Œåˆç§°Fulfilledï¼‰å’ŒRejectedï¼ˆå·²å¤±è´¥ï¼‰ã€‚åªæœ‰å¼‚æ­¥æ“ä½œçš„ç»“æœï¼Œå¯ä»¥å†³å®šå½“å‰æ˜¯å“ªä¸€ç§çŠ¶æ€ï¼Œä»»ä½•å…¶ä»–æ“ä½œéƒ½æ— æ³•æ”¹å˜è¿™ä¸ªçŠ¶æ€ã€‚è¿™ä¹Ÿæ˜¯Promiseè¿™ä¸ªåå­—çš„ç”±æ¥ï¼Œå®ƒçš„è‹±è¯­æ„æ€å°±æ˜¯â€œæ‰¿è¯ºâ€ï¼Œè¡¨ç¤ºå…¶ä»–æ‰‹æ®µæ— æ³•æ”¹å˜ã€‚</li>
    </ol>
  </li>
  <li>
    <ol>
      <li>ä¸€æ—¦çŠ¶æ€æ”¹å˜ï¼Œå°±ä¸ä¼šå†å˜ï¼Œä»»ä½•æ—¶å€™éƒ½å¯ä»¥å¾—åˆ°è¿™ä¸ªç»“æœã€‚Promiseå¯¹è±¡çš„çŠ¶æ€æ”¹å˜ï¼Œåªæœ‰ä¸¤ç§å¯èƒ½ï¼šä»Pendingå˜ä¸ºResolvedå’Œä»Pendingå˜ä¸ºRejectedã€‚åªè¦è¿™ä¸¤ç§æƒ…å†µå‘ç”Ÿï¼ŒçŠ¶æ€å°±å‡å›ºäº†ï¼Œä¸ä¼šå†å˜äº†ï¼Œä¼šä¸€ç›´ä¿æŒè¿™ä¸ªç»“æœã€‚å°±ç®—æ”¹å˜å·²ç»å‘ç”Ÿäº†ï¼Œä½ å†å¯¹Promiseå¯¹è±¡æ·»åŠ å›è°ƒå‡½æ•°ï¼Œä¹Ÿä¼šç«‹å³å¾—åˆ°è¿™ä¸ªç»“æœã€‚è¿™ä¸äº‹ä»¶ï¼ˆEventï¼‰å®Œå…¨ä¸åŒï¼Œäº‹ä»¶çš„ç‰¹ç‚¹æ˜¯ï¼Œå¦‚æœä½ é”™è¿‡äº†å®ƒï¼Œå†å»ç›‘å¬ï¼Œæ˜¯å¾—ä¸åˆ°ç»“æœçš„ã€‚
  æœ‰äº†Promiseå¯¹è±¡ï¼Œå°±å¯ä»¥å°†å¼‚æ­¥æ“ä½œä»¥åŒæ­¥æ“ä½œçš„æµç¨‹è¡¨è¾¾å‡ºæ¥ï¼Œé¿å…äº†å±‚å±‚åµŒå¥—çš„å›è°ƒå‡½æ•°ã€‚æ­¤å¤–ï¼ŒPromiseå¯¹è±¡æä¾›ç»Ÿä¸€çš„æ¥å£ï¼Œä½¿å¾—æ§åˆ¶å¼‚æ­¥æ“ä½œæ›´åŠ å®¹æ˜“ã€‚
  Promiseä¹Ÿæœ‰ä¸€äº›ç¼ºç‚¹ã€‚é¦–å…ˆï¼Œæ— æ³•å–æ¶ˆPromiseï¼Œä¸€æ—¦æ–°å»ºå®ƒå°±ä¼šç«‹å³æ‰§è¡Œï¼Œæ— æ³•ä¸­é€”å–æ¶ˆã€‚å…¶æ¬¡ï¼Œå¦‚æœä¸è®¾ç½®å›è°ƒå‡½æ•°ï¼ŒPromiseå†…éƒ¨æŠ›å‡ºçš„é”™è¯¯ï¼Œä¸ä¼šååº”åˆ°å¤–éƒ¨ã€‚ç¬¬ä¸‰ï¼Œå½“å¤„äºPendingçŠ¶æ€æ—¶ï¼Œæ— æ³•å¾—çŸ¥ç›®å‰è¿›å±•åˆ°å“ªä¸€ä¸ªé˜¶æ®µï¼ˆåˆšåˆšå¼€å§‹è¿˜æ˜¯å³å°†å®Œæˆï¼‰ã€‚</li>
    </ol>
  </li>
</ul>

<h2 id="ä¼ å€¼è°ƒç”¨ä¸ä¼ åè°ƒç”¨">ä¼ å€¼è°ƒç”¨ä¸ä¼ åè°ƒç”¨</h2>

<div class="language-javascript highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kd">var</span> <span class="nx">x</span> <span class="o">=</span> <span class="mi">1</span><span class="p">;</span>

<span class="kd">function</span> <span class="nx">f</span><span class="p">(</span><span class="nx">m</span><span class="p">){</span>
  <span class="k">return</span> <span class="nx">m</span> <span class="o">*</span> <span class="mi">2</span><span class="p">;</span>
<span class="p">}</span>

<span class="nx">f</span><span class="p">(</span><span class="nx">x</span> <span class="o">+</span> <span class="mi">5</span><span class="p">)</span>
</code></pre></div></div>

<p>ä¼ å€¼è°ƒç”¨ï¼šå³åœ¨è¿›å…¥å‡½æ•°ä½“ä¹‹å‰ï¼Œå°±è®¡ç®—x + 5çš„å€¼ï¼ˆç­‰äº6ï¼‰ï¼Œå†å°†è¿™ä¸ªå€¼ä¼ å…¥å‡½æ•°f ã€‚Cè¯­è¨€å°±é‡‡ç”¨è¿™ç§ç­–ç•¥ã€‚</p>
<div class="language-javascript highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nx">f</span><span class="p">(</span><span class="nx">x</span> <span class="o">+</span> <span class="mi">5</span><span class="p">)</span>
<span class="c1">// ä¼ å€¼è°ƒç”¨æ—¶ï¼Œç­‰åŒäº</span>
<span class="nx">f</span><span class="p">(</span><span class="mi">6</span><span class="p">)</span>
</code></pre></div></div>

<p>ä¼ åè°ƒç”¨:å³ç›´æ¥å°†è¡¨è¾¾å¼x + 5ä¼ å…¥å‡½æ•°ä½“ï¼Œåªåœ¨ç”¨åˆ°å®ƒçš„æ—¶å€™æ±‚å€¼ã€‚Haskellè¯­è¨€é‡‡ç”¨è¿™ç§ç­–ç•¥ã€‚</p>
<div class="language-javascript highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nx">f</span><span class="p">(</span><span class="nx">x</span> <span class="o">+</span> <span class="mi">5</span><span class="p">)</span>
<span class="c1">// ä¼ åè°ƒç”¨æ—¶ï¼Œç­‰åŒäº</span>
<span class="p">(</span><span class="nx">x</span> <span class="o">+</span> <span class="mi">5</span><span class="p">)</span> <span class="o">*</span> <span class="mi">2</span>
</code></pre></div></div>

<p>ç¼–è¯‘å™¨çš„â€ä¼ åè°ƒç”¨â€å®ç°ï¼Œå¾€å¾€æ˜¯å°†å‚æ•°æ”¾åˆ°ä¸€ä¸ªä¸´æ—¶å‡½æ•°ä¹‹ä¸­ï¼Œå†å°†è¿™ä¸ªä¸´æ—¶å‡½æ•°ä¼ å…¥å‡½æ•°ä½“ã€‚è¿™ä¸ªä¸´æ—¶å‡½æ•°å°±å«åšThunkå‡½æ•°:</p>

<div class="language-javascript highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kd">function</span> <span class="nx">f</span><span class="p">(</span><span class="nx">m</span><span class="p">){</span>
  <span class="k">return</span> <span class="nx">m</span> <span class="o">*</span> <span class="mi">2</span><span class="p">;</span>
<span class="p">}</span>

<span class="nx">f</span><span class="p">(</span><span class="nx">x</span> <span class="o">+</span> <span class="mi">5</span><span class="p">);</span>

<span class="c1">// ç­‰åŒäº</span>

<span class="kd">var</span> <span class="nx">thunk</span> <span class="o">=</span> <span class="kd">function</span> <span class="p">()</span> <span class="p">{</span>
  <span class="k">return</span> <span class="nx">x</span> <span class="o">+</span> <span class="mi">5</span><span class="p">;</span>
<span class="p">};</span>

<span class="kd">function</span> <span class="nx">f</span><span class="p">(</span><span class="nx">thunk</span><span class="p">){</span>
  <span class="k">return</span> <span class="nx">thunk</span><span class="p">()</span> <span class="o">*</span> <span class="mi">2</span><span class="p">;</span>
<span class="p">}</span>
</code></pre></div></div>
<p>å‡¡æ˜¯ç”¨åˆ°åŸå‚æ•°çš„åœ°æ–¹ï¼Œå¯¹Thunkå‡½æ•°æ±‚å€¼å³å¯ã€‚è¿™å°±æ˜¯Thunkå‡½æ•°çš„å®šä¹‰ï¼Œå®ƒæ˜¯â€ä¼ åè°ƒç”¨â€çš„ä¸€ç§å®ç°ç­–ç•¥ï¼Œç”¨æ¥æ›¿æ¢æŸä¸ªè¡¨è¾¾å¼ã€‚</p>

<h2 id="asyncå‡½æ•°è¯­æ³•">asyncå‡½æ•°è¯­æ³•</h2>

<ul>
  <li>1.asyncå‡½æ•°è¿”å›ä¸€ä¸ªPromiseå¯¹è±¡
asyncå‡½æ•°å†…éƒ¨returnè¯­å¥è¿”å›çš„å€¼ï¼Œä¼šæˆä¸ºthenæ–¹æ³•å›è°ƒå‡½æ•°çš„å‚æ•°:</li>
</ul>

<div class="language-javascript highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">async</span> <span class="kd">function</span> <span class="nx">f</span><span class="p">()</span> <span class="p">{</span>
  <span class="k">return</span> <span class="dl">'</span><span class="s1">hello world</span><span class="dl">'</span><span class="p">;</span>
<span class="p">}</span>

<span class="nx">f</span><span class="p">().</span><span class="nx">then</span><span class="p">(</span><span class="nx">v</span> <span class="o">=&gt;</span> <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">v</span><span class="p">))</span>
<span class="c1">// "hello world"</span>
</code></pre></div></div>
<p>asyncå‡½æ•°å†…éƒ¨æŠ›å‡ºé”™è¯¯ï¼Œä¼šå¯¼è‡´è¿”å›çš„Promiseå¯¹è±¡å˜ä¸ºrejectçŠ¶æ€ã€‚æŠ›å‡ºçš„é”™è¯¯å¯¹è±¡ä¼šè¢«catchæ–¹æ³•å›è°ƒå‡½æ•°æ¥æ”¶åˆ°ã€‚</p>

<ul>
  <li>
    <p>2.asyncå‡½æ•°è¿”å›çš„Promiseå¯¹è±¡ï¼Œå¿…é¡»ç­‰åˆ°å†…éƒ¨æ‰€æœ‰awaitå‘½ä»¤çš„Promiseå¯¹è±¡æ‰§è¡Œå®Œï¼Œæ‰ä¼šå‘ç”ŸçŠ¶æ€æ”¹å˜ã€‚ä¹Ÿå°±æ˜¯è¯´ï¼Œåªæœ‰asyncå‡½æ•°å†…éƒ¨çš„å¼‚æ­¥æ“ä½œæ‰§è¡Œå®Œï¼Œæ‰ä¼šæ‰§è¡Œthenæ–¹æ³•æŒ‡å®šçš„å›è°ƒå‡½æ•°ã€‚</p>
  </li>
  <li>
    <p>3.æ­£å¸¸æƒ…å†µä¸‹ï¼Œawaitå‘½ä»¤åé¢æ˜¯ä¸€ä¸ªPromiseå¯¹è±¡ã€‚å¦‚æœä¸æ˜¯ï¼Œä¼šè¢«è½¬æˆä¸€ä¸ªç«‹å³resolveçš„Promiseå¯¹è±¡ã€‚</p>
  </li>
  <li>
    <p>4.å¦‚æœawaitåé¢çš„å¼‚æ­¥æ“ä½œå‡ºé”™ï¼Œé‚£ä¹ˆç­‰åŒäºasyncå‡½æ•°è¿”å›çš„Promiseå¯¹è±¡è¢«rejectã€‚</p>
  </li>
</ul>

<h2 id="asyncå‡½æ•°å¯¹generatorå‡½æ•°çš„æ”¹è¿›">asyncå‡½æ•°å¯¹Generatorå‡½æ•°çš„æ”¹è¿›</h2>

<ul>
  <li>1.å†…ç½®æ‰§è¡Œå™¨ã€‚Generatorå‡½æ•°çš„æ‰§è¡Œå¿…é¡»é æ‰§è¡Œå™¨ï¼Œæ‰€ä»¥æ‰æœ‰äº†coæ¨¡å—ï¼Œè€Œasyncå‡½æ•°è‡ªå¸¦æ‰§è¡Œå™¨ã€‚ä¹Ÿå°±æ˜¯è¯´ï¼Œasyncå‡½æ•°çš„æ‰§è¡Œï¼Œä¸æ™®é€šå‡½æ•°ä¸€æ¨¡ä¸€æ ·ï¼Œåªè¦ä¸€è¡Œã€‚
var result = asyncReadFile();
ä¸Šé¢çš„ä»£ç è°ƒç”¨äº†asyncReadFileå‡½æ•°ï¼Œç„¶åå®ƒå°±ä¼šè‡ªåŠ¨æ‰§è¡Œï¼Œè¾“å‡ºæœ€åç»“æœã€‚è¿™å®Œå…¨ä¸åƒGeneratorå‡½æ•°ï¼Œéœ€è¦è°ƒç”¨nextæ–¹æ³•ï¼Œæˆ–è€…ç”¨coæ¨¡å—ï¼Œæ‰èƒ½å¾—åˆ°çœŸæ­£æ‰§è¡Œï¼Œå¾—åˆ°æœ€åç»“æœã€‚</li>
  <li>2.æ›´å¥½çš„è¯­ä¹‰ã€‚asyncå’Œawaitï¼Œæ¯”èµ·æ˜Ÿå·å’Œyieldï¼Œè¯­ä¹‰æ›´æ¸…æ¥šäº†ã€‚asyncè¡¨ç¤ºå‡½æ•°é‡Œæœ‰å¼‚æ­¥æ“ä½œï¼Œawaitè¡¨ç¤ºç´§è·Ÿåœ¨åé¢çš„è¡¨è¾¾å¼éœ€è¦ç­‰å¾…ç»“æœã€‚</li>
  <li>3.æ›´å¹¿çš„é€‚ç”¨æ€§ã€‚ coæ¨¡å—çº¦å®šï¼Œyieldå‘½ä»¤åé¢åªèƒ½æ˜¯Thunkå‡½æ•°æˆ–Promiseå¯¹è±¡ï¼Œè€Œasyncå‡½æ•°çš„awaitå‘½ä»¤åé¢ï¼Œå¯ä»¥æ˜¯Promiseå¯¹è±¡å’ŒåŸå§‹ç±»å‹çš„å€¼ï¼ˆæ•°å€¼ã€å­—ç¬¦ä¸²å’Œå¸ƒå°”å€¼ï¼Œä½†è¿™æ—¶ç­‰åŒäºåŒæ­¥æ“ä½œï¼‰ã€‚</li>
  <li>4.è¿”å›å€¼æ˜¯Promiseã€‚asyncå‡½æ•°çš„è¿”å›å€¼æ˜¯Promiseå¯¹è±¡ï¼Œè¿™æ¯”Generatorå‡½æ•°çš„è¿”å›å€¼æ˜¯Iteratorå¯¹è±¡æ–¹ä¾¿å¤šäº†ã€‚å¯ä»¥ç”¨thenæ–¹æ³•æŒ‡å®šä¸‹ä¸€æ­¥çš„æ“ä½œã€‚
è¿›ä¸€æ­¥è¯´ï¼Œasyncå‡½æ•°å®Œå…¨å¯ä»¥çœ‹ä½œå¤šä¸ªå¼‚æ­¥æ“ä½œï¼ŒåŒ…è£…æˆçš„ä¸€ä¸ªPromiseå¯¹è±¡ï¼Œè€Œawaitå‘½ä»¤å°±æ˜¯å†…éƒ¨thenå‘½ä»¤çš„è¯­æ³•ç³–ã€‚</li>
</ul>

<h2 id="class">Class</h2>

<p>åŸºæœ¬ä¸Šï¼ŒES6çš„classå¯ä»¥çœ‹ä½œåªæ˜¯ä¸€ä¸ªè¯­æ³•ç³–ï¼Œå®ƒçš„ç»å¤§éƒ¨åˆ†åŠŸèƒ½ï¼ŒES5éƒ½å¯ä»¥åšåˆ°ï¼Œæ–°çš„classå†™æ³•åªæ˜¯è®©å¯¹è±¡åŸå‹çš„å†™æ³•æ›´åŠ æ¸…æ™°ã€æ›´åƒé¢å‘å¯¹è±¡ç¼–ç¨‹çš„è¯­æ³•è€Œå·²ã€‚ES6çš„ç±»ï¼Œå®Œå…¨å¯ä»¥çœ‹ä½œæ„é€ å‡½æ•°çš„å¦ä¸€ç§å†™æ³•ï¼š</p>
<div class="language-javascript highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kd">class</span> <span class="nx">Point</span> <span class="p">{</span>
  <span class="c1">// ...</span>
<span class="p">}</span>

<span class="k">typeof</span> <span class="nx">Point</span> <span class="c1">// "function"</span>
<span class="nx">Point</span> <span class="o">===</span> <span class="nx">Point</span><span class="p">.</span><span class="nx">prototype</span><span class="p">.</span><span class="kd">constructor</span> <span class="c1">// true</span>
</code></pre></div></div>
<p>ä½¿ç”¨çš„æ—¶å€™ï¼Œä¹Ÿæ˜¯ç›´æ¥å¯¹ç±»ä½¿ç”¨newå‘½ä»¤ï¼Œè·Ÿæ„é€ å‡½æ•°çš„ç”¨æ³•å®Œå…¨ä¸€è‡´ã€‚</p>

<h2 id="ç±»çš„prototypeå±æ€§å’Œ__proto__å±æ€§">ç±»çš„prototypeå±æ€§å’Œ__proto__å±æ€§</h2>

<p>Classä½œä¸ºæ„é€ å‡½æ•°çš„è¯­æ³•ç³–ï¼ŒåŒæ—¶æœ‰prototypeå±æ€§å’Œ__proto__å±æ€§ï¼Œå› æ­¤åŒæ—¶å­˜åœ¨ä¸¤æ¡ç»§æ‰¿é“¾ã€‚</p>
<ul>
  <li>
    <ol>
      <li>å­ç±»çš„__proto__å±æ€§ï¼Œè¡¨ç¤º<code class="language-plaintext highlighter-rouge">æ„é€ å‡½æ•°çš„ç»§æ‰¿</code>ï¼Œæ€»æ˜¯æŒ‡å‘çˆ¶ç±»ã€‚</li>
    </ol>
  </li>
  <li>
    <ol>
      <li>å­ç±»prototypeå±æ€§çš„__proto__å±æ€§ï¼Œè¡¨ç¤º<code class="language-plaintext highlighter-rouge">æ–¹æ³•çš„ç»§æ‰¿</code>ï¼Œæ€»æ˜¯æŒ‡å‘çˆ¶ç±»çš„prototypeå±æ€§ã€‚</li>
    </ol>
  </li>
</ul>

<div class="language-javascript highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kd">class</span> <span class="nx">A</span> <span class="p">{</span>
<span class="p">}</span>

<span class="kd">class</span> <span class="nx">B</span> <span class="kd">extends</span> <span class="nx">A</span> <span class="p">{</span>
<span class="p">}</span>

<span class="nx">B</span><span class="p">.</span><span class="nx">__proto__</span> <span class="o">===</span> <span class="nx">A</span> <span class="c1">// true</span>
<span class="nx">B</span><span class="p">.</span><span class="nx">prototype</span><span class="p">.</span><span class="nx">__proto__</span> <span class="o">===</span> <span class="nx">A</span><span class="p">.</span><span class="nx">prototype</span> <span class="c1">// true</span>
</code></pre></div></div>
<p>è¿™æ ·çš„ç»“æœæ˜¯å› ä¸ºï¼Œç±»çš„ç»§æ‰¿æ˜¯æŒ‰ç…§ä¸‹é¢çš„æ¨¡å¼å®ç°çš„:</p>

<div class="language-javascript highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kd">class</span> <span class="nx">A</span> <span class="p">{</span>
<span class="p">}</span>

<span class="kd">class</span> <span class="nx">B</span> <span class="p">{</span>
<span class="p">}</span>

<span class="c1">// Bçš„å®ä¾‹ç»§æ‰¿Açš„å®ä¾‹</span>
<span class="nb">Object</span><span class="p">.</span><span class="nx">setPrototypeOf</span><span class="p">(</span><span class="nx">B</span><span class="p">.</span><span class="nx">prototype</span><span class="p">,</span> <span class="nx">A</span><span class="p">.</span><span class="nx">prototype</span><span class="p">);</span>

<span class="c1">// Bç»§æ‰¿Açš„é™æ€å±æ€§</span>
<span class="nb">Object</span><span class="p">.</span><span class="nx">setPrototypeOf</span><span class="p">(</span><span class="nx">B</span><span class="p">,</span> <span class="nx">A</span><span class="p">);</span>
</code></pre></div></div>
<p>è¿™ä¸¤æ¡ç»§æ‰¿é“¾ï¼Œå¯ä»¥è¿™æ ·ç†è§£ï¼šä½œä¸ºä¸€ä¸ªå¯¹è±¡ï¼Œå­ç±»ï¼ˆBï¼‰çš„åŸå‹ï¼ˆ__proto__å±æ€§ï¼‰æ˜¯çˆ¶ç±»ï¼ˆAï¼‰ï¼›ä½œä¸ºä¸€ä¸ªæ„é€ å‡½æ•°ï¼Œå­ç±»ï¼ˆBï¼‰çš„åŸå‹ï¼ˆprototypeå±æ€§ï¼‰æ˜¯çˆ¶ç±»çš„å®ä¾‹ã€‚</p>

<h2 id="module">Module</h2>

<p>åœ¨ES6ä¹‹å‰ï¼Œç¤¾åŒºåˆ¶å®šäº†ä¸€äº›æ¨¡å—åŠ è½½æ–¹æ¡ˆï¼Œæœ€ä¸»è¦çš„æœ‰CommonJSå’ŒAMDä¸¤ç§ã€‚å‰è€…ç”¨äºæœåŠ¡å™¨ï¼Œåè€…ç”¨äºæµè§ˆå™¨ã€‚ES6åœ¨è¯­è¨€è§„æ ¼çš„å±‚é¢ä¸Šï¼Œå®ç°äº†æ¨¡å—åŠŸèƒ½ï¼Œè€Œä¸”å®ç°å¾—ç›¸å½“ç®€å•ï¼Œå®Œå…¨å¯ä»¥å–ä»£ç°æœ‰çš„CommonJSå’ŒAMDè§„èŒƒï¼Œæˆä¸ºæµè§ˆå™¨å’ŒæœåŠ¡å™¨é€šç”¨çš„æ¨¡å—è§£å†³æ–¹æ¡ˆã€‚</p>

<p>ES6æ¨¡å—çš„è®¾è®¡æ€æƒ³ï¼Œæ˜¯å°½é‡çš„é™æ€åŒ–ï¼Œä½¿å¾—ç¼–è¯‘æ—¶å°±èƒ½ç¡®å®šæ¨¡å—çš„ä¾èµ–å…³ç³»ï¼Œä»¥åŠè¾“å…¥å’Œè¾“å‡ºçš„å˜é‡ã€‚<code class="language-plaintext highlighter-rouge">CommonJSå’ŒAMDæ¨¡å—ï¼Œéƒ½åªèƒ½åœ¨è¿è¡Œæ—¶ç¡®å®šè¿™äº›ä¸œè¥¿</code>ã€‚æ¯”å¦‚ï¼ŒCommonJSæ¨¡å—å°±æ˜¯å¯¹è±¡ï¼Œè¾“å…¥æ—¶å¿…é¡»æŸ¥æ‰¾å¯¹è±¡å±æ€§ã€‚</p>

<div class="language-javascript highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c1">// CommonJSæ¨¡å—</span>
<span class="kd">let</span> <span class="p">{</span> <span class="nx">stat</span><span class="p">,</span> <span class="nx">exists</span><span class="p">,</span> <span class="nx">readFile</span> <span class="p">}</span> <span class="o">=</span> <span class="nx">require</span><span class="p">(</span><span class="dl">'</span><span class="s1">fs</span><span class="dl">'</span><span class="p">);</span>

<span class="c1">// ç­‰åŒäº</span>
<span class="kd">let</span> <span class="nx">_fs</span> <span class="o">=</span> <span class="nx">require</span><span class="p">(</span><span class="dl">'</span><span class="s1">fs</span><span class="dl">'</span><span class="p">);</span>
<span class="kd">let</span> <span class="nx">stat</span> <span class="o">=</span> <span class="nx">_fs</span><span class="p">.</span><span class="nx">stat</span><span class="p">,</span> <span class="nx">exists</span> <span class="o">=</span> <span class="nx">_fs</span><span class="p">.</span><span class="nx">exists</span><span class="p">,</span> <span class="nx">readfile</span> <span class="o">=</span> <span class="nx">_fs</span><span class="p">.</span><span class="nx">readfile</span><span class="p">;</span>
</code></pre></div></div>
<p>ä¸Šé¢ä»£ç çš„å®è´¨æ˜¯æ•´ä½“åŠ è½½fsæ¨¡å—ï¼ˆå³åŠ è½½fsçš„æ‰€æœ‰æ–¹æ³•ï¼‰ï¼Œç”Ÿæˆä¸€ä¸ªå¯¹è±¡ï¼ˆ_fsï¼‰ï¼Œç„¶åå†ä»è¿™ä¸ªå¯¹è±¡ä¸Šé¢è¯»å–3ä¸ªæ–¹æ³•ã€‚è¿™ç§åŠ è½½ç§°ä¸ºâ€œè¿è¡Œæ—¶åŠ è½½â€ï¼Œå› ä¸ºåªæœ‰è¿è¡Œæ—¶æ‰èƒ½å¾—åˆ°è¿™ä¸ªå¯¹è±¡ï¼Œå¯¼è‡´å®Œå…¨æ²¡åŠæ³•åœ¨ç¼–è¯‘æ—¶åšâ€œé™æ€ä¼˜åŒ–â€ã€‚</p>

<p>ES6æ¨¡å—ä¸æ˜¯å¯¹è±¡ï¼Œè€Œæ˜¯é€šè¿‡exportå‘½ä»¤æ˜¾å¼æŒ‡å®šè¾“å‡ºçš„ä»£ç ï¼Œè¾“å…¥æ—¶ä¹Ÿé‡‡ç”¨é™æ€å‘½ä»¤çš„å½¢å¼ã€‚</p>
<div class="language-javascript highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c1">// ES6æ¨¡å—</span>
<span class="k">import</span> <span class="p">{</span> <span class="nx">stat</span><span class="p">,</span> <span class="nx">exists</span><span class="p">,</span> <span class="nx">readFile</span> <span class="p">}</span> <span class="k">from</span> <span class="dl">'</span><span class="s1">fs</span><span class="dl">'</span><span class="p">;</span>
</code></pre></div></div>
<p>ä¸Šé¢ä»£ç çš„å®è´¨æ˜¯ä»fsæ¨¡å—åŠ è½½3ä¸ªæ–¹æ³•ï¼Œå…¶ä»–æ–¹æ³•ä¸åŠ è½½ã€‚è¿™ç§åŠ è½½ç§°ä¸º<code class="language-plaintext highlighter-rouge">â€œç¼–è¯‘æ—¶åŠ è½½â€ï¼Œå³ES6å¯ä»¥åœ¨ç¼–è¯‘æ—¶å°±å®Œæˆæ¨¡å—åŠ è½½ï¼Œæ•ˆç‡è¦æ¯”CommonJSæ¨¡å—çš„åŠ è½½æ–¹å¼é«˜</code>ã€‚ç”±äºES6æ¨¡å—æ˜¯ç¼–è¯‘æ—¶åŠ è½½ï¼Œä½¿å¾—é™æ€åˆ†ææˆä¸ºå¯èƒ½ã€‚</p>

<p>æµè§ˆå™¨ä½¿ç”¨ES6æ¨¡å—çš„è¯­æ³•å¦‚ä¸‹:</p>
<div class="language-javascript highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="o">&lt;</span><span class="nx">script</span> <span class="nx">type</span><span class="o">=</span><span class="dl">"</span><span class="s2">module</span><span class="dl">"</span> <span class="nx">src</span><span class="o">=</span><span class="dl">"</span><span class="s2">foo.js</span><span class="dl">"</span><span class="o">&gt;&lt;</span><span class="sr">/script</span><span class="err">&gt;
</span></code></pre></div></div>

<h2 id="ä¸¥æ ¼æ¨¡å¼çš„é™åˆ¶">ä¸¥æ ¼æ¨¡å¼çš„é™åˆ¶</h2>

<ul>
  <li>å˜é‡å¿…é¡»å£°æ˜åå†ä½¿ç”¨ï¼›</li>
  <li>å‡½æ•°çš„å‚æ•°ä¸èƒ½æœ‰åŒåå±æ€§ï¼Œå¦åˆ™æŠ¥é”™ï¼›</li>
  <li>ä¸èƒ½ä½¿ç”¨withè¯­å¥ï¼›</li>
  <li>ä¸èƒ½å¯¹åªè¯»å±æ€§èµ‹å€¼ï¼Œå¦åˆ™æŠ¥é”™ï¼›</li>
  <li>ä¸èƒ½ä½¿ç”¨å‰ç¼€0è¡¨ç¤ºå…«è¿›åˆ¶æ•°ï¼Œå¦åˆ™æŠ¥é”™ï¼›</li>
  <li>ä¸èƒ½åˆ é™¤ä¸å¯åˆ é™¤çš„å±æ€§ï¼Œå¦åˆ™æŠ¥é”™ï¼›</li>
  <li>ä¸èƒ½åˆ é™¤å˜é‡delete propï¼Œä¼šæŠ¥é”™ï¼Œåªèƒ½åˆ é™¤å±æ€§delete global[prop]ï¼›</li>
  <li>evalä¸ä¼šåœ¨å®ƒçš„å¤–å±‚ä½œç”¨åŸŸå¼•å…¥å˜é‡ï¼›</li>
  <li>evalå’Œargumentsä¸èƒ½è¢«é‡æ–°èµ‹å€¼ï¼›</li>
  <li>argumentsä¸ä¼šè‡ªåŠ¨åæ˜ å‡½æ•°å‚æ•°çš„å˜åŒ–ï¼›</li>
  <li>ä¸èƒ½ä½¿ç”¨arguments.calleeï¼›</li>
  <li>ä¸èƒ½ä½¿ç”¨arguments.callerï¼›</li>
  <li>ç¦æ­¢thisæŒ‡å‘å…¨å±€å¯¹è±¡ï¼›</li>
  <li>ä¸èƒ½ä½¿ç”¨fn.callerå’Œfn.argumentsè·å–å‡½æ•°è°ƒç”¨çš„å †æ ˆï¼›</li>
  <li>å¢åŠ äº†ä¿ç•™å­—ï¼ˆæ¯”å¦‚protectedã€staticå’Œinterfaceï¼‰ï¼›</li>
</ul>

<h2 id="es6æ¨¡å—åŠ è½½ä¸commonjsæ¨¡å—åŠ è½½çš„åŒºåˆ«">ES6æ¨¡å—åŠ è½½ä¸CommonJSæ¨¡å—åŠ è½½çš„åŒºåˆ«</h2>

<p><u>CommonJSæ¨¡å—è¾“å‡ºçš„æ˜¯ä¸€ä¸ªå€¼çš„æ‹·è´ï¼Œè€ŒES6æ¨¡å—è¾“å‡ºçš„æ˜¯å€¼çš„å¼•ç”¨</u>ã€‚
ES6æ¨¡å—çš„è¿è¡Œæœºåˆ¶ä¸CommonJSä¸ä¸€æ ·ï¼Œå®ƒé‡åˆ°æ¨¡å—åŠ è½½å‘½ä»¤importæ—¶ï¼Œä¸ä¼šå»æ‰§è¡Œæ¨¡å—ï¼Œè€Œæ˜¯åªç”Ÿæˆä¸€ä¸ªåŠ¨æ€çš„åªè¯»å¼•ç”¨ã€‚ç­‰åˆ°çœŸçš„éœ€è¦ç”¨åˆ°æ—¶ï¼Œå†åˆ°æ¨¡å—é‡Œé¢å»å–å€¼ï¼Œæ¢å¥è¯è¯´ï¼ŒES6çš„è¾“å…¥æœ‰ç‚¹åƒUnixç³»ç»Ÿçš„â€œç¬¦å·è¿æ¥â€ï¼ŒåŸå§‹å€¼å˜äº†ï¼Œimportè¾“å…¥çš„å€¼ä¹Ÿä¼šè·Ÿç€å˜ã€‚å› æ­¤ï¼ŒES6æ¨¡å—æ˜¯åŠ¨æ€å¼•ç”¨ï¼Œå¹¶ä¸”ä¸ä¼šç¼“å­˜å€¼ï¼Œæ¨¡å—é‡Œé¢çš„å˜é‡ç»‘å®šå…¶æ‰€åœ¨çš„æ¨¡å—ã€‚</p>

<p>CommonJSæ¨¡å—çš„é‡è¦ç‰¹æ€§æ˜¯åŠ è½½æ—¶æ‰§è¡Œï¼Œå³è„šæœ¬ä»£ç åœ¨requireçš„æ—¶å€™ï¼Œå°±ä¼šå…¨éƒ¨æ‰§è¡Œã€‚ä¸€æ—¦å‡ºç°æŸä¸ªæ¨¡å—è¢«â€å¾ªç¯åŠ è½½â€ï¼Œå°±åªè¾“å‡ºå·²ç»æ‰§è¡Œçš„éƒ¨åˆ†ï¼Œè¿˜æœªæ‰§è¡Œçš„éƒ¨åˆ†ä¸ä¼šè¾“å‡ºã€‚</p>

<p>ES6å¤„ç†â€œå¾ªç¯åŠ è½½â€ä¸CommonJSæœ‰æœ¬è´¨çš„ä¸åŒã€‚ES6æ¨¡å—æ˜¯åŠ¨æ€å¼•ç”¨ï¼Œå¦‚æœä½¿ç”¨importä»ä¸€ä¸ªæ¨¡å—åŠ è½½å˜é‡ï¼ˆå³import foo from â€˜fooâ€™ï¼‰ï¼Œé‚£äº›å˜é‡ä¸ä¼šè¢«ç¼“å­˜ï¼Œè€Œæ˜¯æˆä¸ºä¸€ä¸ªæŒ‡å‘è¢«åŠ è½½æ¨¡å—çš„å¼•ç”¨ï¼Œéœ€è¦å¼€å‘è€…è‡ªå·±ä¿è¯ï¼ŒçœŸæ­£å–å€¼çš„æ—¶å€™èƒ½å¤Ÿå–åˆ°å€¼ã€‚(å³ï¼Œå¯èƒ½ä¼šç”±äºå¾ªç¯åŠ è½½å¯¼è‡´å–åˆ°çš„å€¼ä¸ºundefined)</p>

<h2 id="ä¸åŒdomçº§åˆ«çš„å†…å®¹">ä¸åŒDOMçº§åˆ«çš„å†…å®¹</h2>

<p>å®é™…ä¸Šï¼ŒDOM0 çº§æ ‡å‡†æ˜¯ä¸å­˜åœ¨çš„ï¼›æ‰€è°“ DOM0 çº§åªæ˜¯ DOM å†å²åæ ‡ä¸­çš„ä¸€ä¸ªå‚ç…§ç‚¹è€Œå·²ã€‚å…·ä½“è¯´æ¥ï¼ŒDOM0 çº§æŒ‡çš„æ˜¯ Internet Explorer 4.0 å’Œ Netscape Navigator 4.0æœ€åˆæ”¯æŒçš„ DHTMLã€‚
<strong>DOM1çº§</strong>ç”±ä¸¤ä¸ªæ¨¡å—ç»„æˆï¼šDOMæ ¸å¿ƒï¼ˆDOM Coreï¼‰å’Œ DOM HTMLã€‚å…¶ä¸­ï¼ŒDOM æ ¸å¿ƒè§„å®šçš„æ˜¯å¦‚ä½•æ˜ å°„åŸºäº XML çš„æ–‡æ¡£ç»“æ„ï¼Œä»¥ä¾¿ç®€åŒ–å¯¹æ–‡æ¡£ä¸­ä»»æ„éƒ¨åˆ†çš„è®¿é—®å’Œæ“ä½œã€‚DOM HTML æ¨¡å—åˆ™åœ¨ DOM æ ¸å¿ƒçš„åŸºç¡€ä¸ŠåŠ ä»¥æ‰©å±•ï¼Œæ·»åŠ äº†é’ˆå¯¹HTMLçš„å¯¹è±¡å’Œæ–¹æ³•ã€‚
<strong>DOM2çº§</strong>åœ¨åŸæ¥ DOM çš„åŸºç¡€ä¸Šåˆæ‰©å……äº†ï¼ˆDHTML ä¸€ç›´éƒ½æ”¯æŒçš„ï¼‰é¼ æ ‡å’Œç”¨æˆ·ç•Œé¢äº‹ä»¶ã€èŒƒå›´ã€éå†ï¼ˆè¿­ä»£ DOM
æ–‡æ¡£çš„æ–¹æ³•ï¼‰ç­‰ç»†åˆ†æ¨¡å—ï¼Œè€Œä¸”é€šè¿‡å¯¹è±¡æ¥å£å¢åŠ äº†å¯¹ CSSï¼ˆCascading Style Sheetsï¼Œå±‚å æ ·å¼è¡¨ï¼‰çš„æ”¯æŒã€‚DOM1 çº§ä¸­çš„ DOM æ ¸å¿ƒæ¨¡å—ä¹Ÿç»è¿‡æ‰©å±•å¼€å§‹æ”¯æŒ XML å‘½åç©ºé—´ã€‚
<strong>DOM3çº§</strong>åˆ™è¿›ä¸€æ­¥æ‰©å±•äº† DOMï¼Œå¼•å…¥äº†ä»¥ç»Ÿä¸€æ–¹å¼åŠ è½½å’Œä¿å­˜æ–‡æ¡£çš„æ–¹æ³•â€”â€”åœ¨ DOM åŠ è½½å’Œä¿å­˜ï¼ˆDOM Load and Saveï¼‰æ¨¡å—ä¸­å®šä¹‰ï¼›æ–°å¢äº†éªŒè¯æ–‡æ¡£çš„æ–¹æ³•â€”â€”åœ¨ DOM éªŒè¯ï¼ˆDOM Validationï¼‰æ¨¡å—ä¸­å®šä¹‰ã€‚DOM3 çº§ä¹Ÿå¯¹ DOM æ ¸å¿ƒè¿›è¡Œäº†æ‰©å±•ï¼Œå¼€å§‹æ”¯æŒ XML 1.0 è§„èŒƒï¼Œæ¶‰åŠ XML Infosetã€XPathå’Œ XML Baseã€‚</p>

<h2 id="undefinedå€¼æ˜¯æ´¾ç”Ÿè‡ªnullå€¼çš„">undefinedå€¼æ˜¯æ´¾ç”Ÿè‡ªnullå€¼çš„</h2>

<p>å®é™…ä¸Šï¼Œundefinedå€¼æ˜¯æ´¾ç”Ÿè‡ªnullå€¼çš„ï¼Œå› æ­¤ECMA-262è§„å®šå¯¹å®ƒä»¬çš„ç›¸ç­‰æ€§æµ‹è¯•è¦è¿”å›trueï¼š</p>
<div class="language-js highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nx">alert</span><span class="p">(</span><span class="kc">null</span> <span class="o">==</span> <span class="kc">undefined</span><span class="p">);</span> <span class="c1">//true</span>
</code></pre></div></div>
<p>è¦æ³¨æ„çš„æ˜¯ï¼Œè¿™ä¸ªæ“ä½œç¬¦å‡ºäºæ¯”è¾ƒçš„ç›®çš„ä¼šè½¬æ¢å…¶æ“ä½œæ•°ã€‚
å°½ç®¡nullå’Œundefinedæœ‰è¿™æ ·çš„å…³ç³»ï¼Œä½†å®ƒä»¬çš„ç”¨é€”å®Œå…¨ä¸åŒã€‚å¦‚å‰æ‰€è¿°ï¼Œæ— è®ºåœ¨ä»€ä¹ˆæƒ…å†µä¸‹éƒ½æ²¡æœ‰å¿…è¦æŠŠä¸€ä¸ªå˜é‡çš„å€¼æ˜¾å¼åœ°è®¾ç½®ä¸ºundefined ï¼Œå¯æ˜¯åŒæ ·çš„è§„åˆ™å¯¹nullå´ä¸é€‚ç”¨ã€‚æ¢å¥è¯è¯´ï¼Œåªè¦æ„åœ¨ä¿å­˜å¯¹è±¡çš„å˜é‡è¿˜æ²¡æœ‰çœŸæ­£ä¿å­˜å¯¹è±¡ï¼Œå°±åº”è¯¥æ˜ç¡®åœ°è®©è¯¥å˜é‡ä¿å­˜nullå€¼ã€‚è¿™æ ·åšä¸ä»…å¯ä»¥ä½“ç°nullä½œä¸ºç©ºå¯¹è±¡æŒ‡é’ˆçš„æƒ¯ä¾‹ï¼Œè€Œä¸”ä¹Ÿæœ‰åŠ©äºè¿›ä¸€æ­¥åŒºåˆ†nullå’Œundefined ã€‚</p>

<h2 id="ç›´æ¥ä½¿ç”¨æµ®ç‚¹æ•°ç›¸ç­‰æ€§æ¯”è¾ƒçš„é—®é¢˜">ç›´æ¥ä½¿ç”¨æµ®ç‚¹æ•°ç›¸ç­‰æ€§æ¯”è¾ƒçš„é—®é¢˜</h2>

<p>æµ®ç‚¹æ•°å€¼çš„æœ€é«˜ç²¾åº¦æ˜¯ 17 ä½å°æ•°ï¼Œä½†åœ¨è¿›è¡Œç®—æœ¯è®¡ç®—æ—¶å…¶ç²¾ç¡®åº¦è¿œè¿œä¸å¦‚æ•´æ•°ã€‚ä¾‹å¦‚ï¼Œ<u>0.1 åŠ  0.2</u>
<u>çš„ç»“æœä¸æ˜¯ 0.3</u>ï¼Œè€Œæ˜¯ 0.30000000000000004ã€‚è¿™ä¸ªå°å°çš„èˆå…¥è¯¯å·®ä¼šå¯¼è‡´æ— æ³•æµ‹è¯•ç‰¹å®šçš„æµ®ç‚¹æ•°å€¼ã€‚
ä¾‹å¦‚ï¼š</p>
<div class="language-javascript highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">if</span> <span class="p">(</span><span class="nx">a</span> <span class="o">+</span> <span class="nx">b</span> <span class="o">==</span> <span class="mf">0.3</span><span class="p">){</span> <span class="c1">// ä¸è¦åšè¿™æ ·çš„æµ‹è¯•ï¼</span>
  <span class="nx">alert</span><span class="p">(</span><span class="dl">"</span><span class="s2">You got 0.3.</span><span class="dl">"</span><span class="p">);</span>
<span class="p">}</span>
</code></pre></div></div>

<h2 id="naninfinity">NaNã€Infinity</h2>

<p>Numberç±»å‹çš„å–å€¼èŒƒå›´æ˜¯Number.MIN_VALUE~Number.MAX_VALUE
å¦‚æœæŸæ¬¡è®¡ç®—çš„ç»“æœå¾—åˆ°äº†ä¸€ä¸ªè¶…å‡º JavaScript æ•°å€¼èŒƒå›´çš„å€¼ï¼Œé‚£ä¹ˆè¿™ä¸ªæ•°å€¼å°†è¢«è‡ªåŠ¨è½¬æ¢æˆç‰¹æ®Šçš„ Infinity å€¼
è¦æƒ³ç¡®å®šä¸€ä¸ªæ•°å€¼æ˜¯ä¸æ˜¯æœ‰ç©·çš„ï¼ˆæ¢å¥è¯è¯´ï¼Œæ˜¯ä¸æ˜¯ä½äºæœ€å°å’Œæœ€å¤§çš„æ•°å€¼ä¹‹é—´ï¼‰ï¼Œå¯ä»¥ä½¿ç”¨ <code class="language-plaintext highlighter-rouge">isFinite()</code> å‡½æ•°ã€‚</p>

<p>NaN ï¼Œå³éæ•°å€¼ï¼ˆNot a Numberï¼‰ï¼Œæ˜¯ä¸€ä¸ªç‰¹æ®Šçš„æ•°å€¼ï¼Œç”¨äºè¡¨ç¤ºä¸€ä¸ªæœ¬æ¥è¦è¿”å›æ•°å€¼çš„æ“ä½œæ•°
æœªè¿”å›æ•°å€¼çš„æƒ…å†µã€‚ä¾‹å¦‚ï¼Œåœ¨ ECMAScriptä¸­ï¼Œä»»ä½•æ•°å€¼é™¤ä»¥ 0ä¼šè¿”å› NaN</p>

<p>NaN ä¸ä»»ä½•å€¼éƒ½ä¸ç›¸ç­‰ï¼ŒåŒ…æ‹¬ NaN æœ¬èº«ã€‚</p>

<p>ECMAScript å®šä¹‰äº†<code class="language-plaintext highlighter-rouge">isNaN()</code>å‡½æ•°ç”¨äºåˆ¤æ–­ä¸€ä¸ªæ•°å€¼æ˜¯å¦ä¸ºNaNï¼š</p>
<div class="language-javascript highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nx">alert</span><span class="p">(</span><span class="nb">isNaN</span><span class="p">(</span><span class="kc">NaN</span><span class="p">));</span> <span class="c1">//true</span>
<span class="nx">alert</span><span class="p">(</span><span class="nb">isNaN</span><span class="p">(</span><span class="dl">"</span><span class="s2">blue</span><span class="dl">"</span><span class="p">));</span> <span class="c1">//trueï¼ˆä¸èƒ½è½¬æ¢æˆæ•°å€¼ï¼‰</span>
<span class="nx">alert</span><span class="p">(</span><span class="nb">isNaN</span><span class="p">(</span><span class="dl">"</span><span class="s2">10</span><span class="dl">"</span><span class="p">));</span> <span class="c1">//falseï¼ˆå¯ä»¥è¢«è½¬æ¢æˆæ•°å€¼ 10ï¼‰</span>
</code></pre></div></div>
<p>isNaN() ä¹Ÿé€‚ç”¨äºå¯¹è±¡ã€‚åœ¨åŸºäºå¯¹è±¡è°ƒç”¨ isNaN()å‡½æ•°æ—¶ï¼Œä¼šé¦–å…ˆè°ƒç”¨å¯¹è±¡çš„ valueOf() æ–¹æ³•ï¼Œç„¶åç¡®å®šè¯¥æ–¹æ³•è¿”å›çš„å€¼æ˜¯å¦å¯ä»¥è½¬æ¢ä¸ºæ•°å€¼ã€‚å¦‚æœä¸èƒ½ï¼Œåˆ™åŸºäºè¿™ä¸ªè¿”å›å€¼å†è°ƒç”¨ toString() æ–¹æ³•ï¼Œå†æµ‹è¯•è¿”å›å€¼ã€‚</p>

<h2 id="æ˜¯å¦æ‰€æœ‰ç±»å‹çš„å¯¹è±¡éƒ½å¯ä»¥é€šè¿‡è°ƒç”¨tostringæ¥å°†å…¶è½¬æ¢ä¸ºå­—ç¬¦ä¸²">æ˜¯å¦æ‰€æœ‰ç±»å‹çš„å¯¹è±¡éƒ½å¯ä»¥é€šè¿‡è°ƒç”¨toString()æ¥å°†å…¶è½¬æ¢ä¸ºå­—ç¬¦ä¸²ï¼Ÿ</h2>

<p>æ•°å€¼ã€å¸ƒå°”å€¼ã€å¯¹è±¡å’Œå­—ç¬¦ä¸²å€¼éƒ½æœ‰ toString() æ–¹æ³•ã€‚ä½† <u>null å’Œ undefined å€¼æ²¡æœ‰è¿™ä¸ªæ–¹æ³•</u>ã€‚åœ¨ä¸çŸ¥é“è¦è½¬æ¢çš„å€¼æ˜¯ä¸æ˜¯ null æˆ– undefined çš„æƒ…å†µä¸‹ï¼Œè¿˜å¯ä»¥ä½¿ç”¨è½¬å‹å‡½æ•° String() ï¼Œè¿™ä¸ªå‡½æ•°èƒ½å¤Ÿå°†ä»»ä½•ç±»å‹çš„å€¼è½¬æ¢ä¸ºå­—ç¬¦ä¸²ã€‚ String() å‡½æ•°éµå¾ªä¸‹åˆ—è½¬æ¢è§„åˆ™ï¼š
å¦‚æœå€¼æœ‰ toString() æ–¹æ³•ï¼Œåˆ™è°ƒç”¨è¯¥æ–¹æ³•ï¼ˆæ²¡æœ‰å‚æ•°ï¼‰å¹¶è¿”å›ç›¸åº”çš„ç»“æœï¼›
å¦‚æœå€¼æ˜¯ null ï¼Œåˆ™è¿”å› â€œnullâ€ ï¼›
å¦‚æœå€¼æ˜¯ undefined ï¼Œåˆ™è¿”å› â€œundefinedâ€ ã€‚</p>

<h2 id="objectå®ä¾‹å…·æœ‰çš„å±æ€§å’Œæ–¹æ³•">Objectå®ä¾‹å…·æœ‰çš„å±æ€§å’Œæ–¹æ³•</h2>

<p>Object çš„æ¯ä¸ªå®ä¾‹éƒ½å…·æœ‰ä¸‹åˆ—å±æ€§å’Œæ–¹æ³•ã€‚
constructor ï¼šä¿å­˜ç€ç”¨äºåˆ›å»ºå½“å‰å¯¹è±¡çš„æ„é€ å‡½æ•°
hasOwnProperty(propertyName) ï¼šç”¨äºæ£€æŸ¥ç»™å®šçš„å±æ€§åœ¨<u>å½“å‰å¯¹è±¡å®ä¾‹ä¸­ï¼ˆè€Œä¸æ˜¯åœ¨å®ä¾‹çš„åŸå‹ä¸­ï¼‰</u>æ˜¯å¦å­˜åœ¨ã€‚å…¶ä¸­ï¼Œä½œä¸ºå‚æ•°çš„å±æ€§åï¼ˆ propertyName ï¼‰å¿…é¡»ä»¥å­—ç¬¦ä¸²å½¢å¼æŒ‡å®šï¼ˆä¾‹å¦‚ï¼š o.hasOwnProperty(â€œnameâ€) ï¼‰ã€‚
isPrototypeOf(object) ï¼šç”¨äºæ£€æŸ¥ä¼ å…¥çš„å¯¹è±¡æ˜¯å¦æ˜¯ä¼ å…¥å¯¹è±¡çš„åŸå‹ã€‚
propertyIsEnumerable(propertyName) ï¼šç”¨äºæ£€æŸ¥ç»™å®šçš„å±æ€§æ˜¯å¦èƒ½å¤Ÿä½¿ç”¨ for-in è¯­å¥æ¥æšä¸¾
toLocaleString() ï¼šè¿”å›å¯¹è±¡çš„å­—ç¬¦ä¸²è¡¨ç¤ºï¼Œè¯¥å­—ç¬¦ä¸²ä¸æ‰§è¡Œç¯å¢ƒçš„åœ°åŒºå¯¹åº”ã€‚
toString() ï¼šè¿”å›å¯¹è±¡çš„å­—ç¬¦ä¸²è¡¨ç¤ºã€‚
valueOf() ï¼šè¿”å›å¯¹è±¡çš„å­—ç¬¦ä¸²ã€æ•°å€¼æˆ–å¸ƒå°”å€¼è¡¨ç¤ºã€‚é€šå¸¸ä¸ toString() æ–¹æ³•çš„è¿”å›å€¼ç›¸åŒã€‚</p>

<h2 id="ä½¿ç”¨for-inè¯­å¥æ¥æšä¸¾å¯¹è±¡çš„å±æ€§">ä½¿ç”¨for-inè¯­å¥æ¥æšä¸¾å¯¹è±¡çš„å±æ€§</h2>

<div class="language-javascript highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">for</span> <span class="p">(</span><span class="kd">var</span> <span class="nx">propName</span> <span class="k">in</span> <span class="nb">window</span><span class="p">)</span> <span class="p">{</span>
  <span class="nb">document</span><span class="p">.</span><span class="nx">write</span><span class="p">(</span><span class="nx">propName</span><span class="p">);</span>
<span class="p">}</span>
</code></pre></div></div>
<p>ECMAScript å¯¹è±¡çš„å±æ€§æ²¡æœ‰é¡ºåºã€‚å› æ­¤ï¼Œé€šè¿‡ for-in å¾ªç¯è¾“å‡ºçš„å±æ€§åçš„é¡ºåºæ˜¯ä¸å¯é¢„æµ‹çš„ã€‚
å¦‚æœè¡¨ç¤ºè¦è¿­ä»£çš„å¯¹è±¡çš„å˜é‡å€¼ä¸º null æˆ– undefined ï¼Œ for-in è¯­å¥ä¼šæŠ›å‡ºé”™è¯¯ã€‚
ECMAScript 5 æ›´æ­£äº†è¿™ä¸€è¡Œä¸ºï¼›å¯¹è¿™ç§æƒ…å†µä¸å†æŠ›å‡ºé”™è¯¯ï¼Œè€Œåªæ˜¯ä¸æ‰§è¡Œå¾ªç¯ä½“ã€‚ä¸ºäº†ä¿è¯æœ€å¤§é™åº¦çš„
å…¼å®¹æ€§ï¼Œå»ºè®®åœ¨ä½¿ç”¨ for-in å¾ªç¯ä¹‹å‰ï¼Œå…ˆæ£€æµ‹ç¡®è®¤è¯¥å¯¹è±¡çš„å€¼ä¸æ˜¯ null æˆ– undefined</p>

<h2 id="labelè¯­å¥">labelè¯­å¥</h2>

<p>ä½¿ç”¨ label è¯­å¥å¯ä»¥åœ¨ä»£ç ä¸­æ·»åŠ æ ‡ç­¾ï¼Œä»¥ä¾¿å°†æ¥ä½¿ç”¨ã€‚ä»¥ä¸‹æ˜¯ label è¯­å¥çš„è¯­æ³•ï¼š
label: statement
ä¸‹é¢æ˜¯ä¸€ä¸ªç¤ºä¾‹ï¼š</p>
<div class="language-javascript highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nx">start</span><span class="p">:</span> <span class="k">for</span> <span class="p">(</span><span class="kd">var</span> <span class="nx">i</span><span class="o">=</span><span class="mi">0</span><span class="p">;</span> <span class="nx">i</span> <span class="o">&lt;</span> <span class="nx">count</span><span class="p">;</span> <span class="nx">i</span><span class="o">++</span><span class="p">)</span> <span class="p">{</span>
  <span class="nx">alert</span><span class="p">(</span><span class="nx">i</span><span class="p">);</span>
<span class="p">}</span>
</code></pre></div></div>
<p>è¿™ä¸ªä¾‹å­ä¸­å®šä¹‰çš„ start æ ‡ç­¾å¯ä»¥åœ¨å°†æ¥ç”± break æˆ– continue è¯­å¥å¼•ç”¨ã€‚åŠ æ ‡ç­¾çš„è¯­å¥ä¸€èˆ¬éƒ½
è¦ä¸ for è¯­å¥ç­‰å¾ªç¯è¯­å¥é…åˆä½¿ç”¨ã€‚</p>

<h2 id="withè¯­å¥">withè¯­å¥</h2>

<p>with è¯­å¥çš„ä½œç”¨æ˜¯<u>å°†ä»£ç çš„ä½œç”¨åŸŸè®¾ç½®åˆ°ä¸€ä¸ªç‰¹å®šçš„å¯¹è±¡ä¸­</u>ã€‚ with è¯­å¥çš„è¯­æ³•å¦‚ä¸‹ï¼š
with (expression) statement;
å®šä¹‰ with è¯­å¥çš„ç›®çš„ä¸»è¦æ˜¯ä¸ºäº†ç®€åŒ–å¤šæ¬¡ç¼–å†™åŒä¸€ä¸ªå¯¹è±¡çš„å·¥ä½œï¼Œå¦‚ä¸‹é¢çš„ä¾‹å­æ‰€ç¤ºï¼š</p>
<div class="language-javascript highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kd">var</span> <span class="nx">qs</span> <span class="o">=</span> <span class="nx">location</span><span class="p">.</span><span class="nx">search</span><span class="p">.</span><span class="nx">substring</span><span class="p">(</span><span class="mi">1</span><span class="p">);</span>
<span class="kd">var</span> <span class="nx">hostName</span> <span class="o">=</span> <span class="nx">location</span><span class="p">.</span><span class="nx">hostname</span><span class="p">;</span>
<span class="kd">var</span> <span class="nx">url</span> <span class="o">=</span> <span class="nx">location</span><span class="p">.</span><span class="nx">href</span><span class="p">;</span>
</code></pre></div></div>

<p>ä¸Šé¢å‡ è¡Œä»£ç éƒ½åŒ…å« location å¯¹è±¡ã€‚å¦‚æœä½¿ç”¨ with è¯­å¥ï¼Œå¯ä»¥æŠŠä¸Šé¢çš„ä»£ç æ”¹å†™æˆå¦‚ä¸‹æ‰€ç¤ºï¼š</p>
<div class="language-javascript highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kd">with</span><span class="p">(</span><span class="nx">location</span><span class="p">){</span>
  <span class="kd">var</span> <span class="nx">qs</span> <span class="o">=</span> <span class="nx">search</span><span class="p">.</span><span class="nx">substring</span><span class="p">(</span><span class="mi">1</span><span class="p">);</span>
  <span class="kd">var</span> <span class="nx">hostName</span> <span class="o">=</span> <span class="nx">hostname</span><span class="p">;</span>
  <span class="kd">var</span> <span class="nx">url</span> <span class="o">=</span> <span class="nx">href</span><span class="p">;</span>
<span class="p">}</span>
</code></pre></div></div>
<p>è¿™æ„å‘³ç€åœ¨ with è¯­å¥çš„ä»£ç å—å†…éƒ¨ï¼Œæ¯ä¸ªå˜é‡é¦–å…ˆè¢«è®¤ä¸ºæ˜¯ä¸€ä¸ªå±€éƒ¨å˜é‡ï¼Œè€Œå¦‚æœåœ¨å±€éƒ¨ç¯å¢ƒä¸­æ‰¾ä¸åˆ°è¯¥å˜é‡çš„å®šä¹‰ï¼Œå°±ä¼šæŸ¥è¯¢location å¯¹è±¡ä¸­æ˜¯å¦æœ‰åŒåçš„å±æ€§ã€‚å¦‚æœå‘ç°äº†åŒåå±æ€§ï¼Œåˆ™ä»¥ location å¯¹è±¡å±æ€§çš„å€¼ä½œä¸ºå˜é‡çš„å€¼ã€‚</p>

<h2 id="argumentså¯¹è±¡">argumentså¯¹è±¡</h2>
<p>ECMAScript å‡½æ•°çš„å‚æ•°ä¸å¤§å¤šæ•°å…¶ä»–è¯­è¨€ä¸­å‡½æ•°çš„å‚æ•°æœ‰æ‰€ä¸åŒã€‚ECMAScript å‡½æ•°ä¸ä»‹æ„ä¼ é€’è¿›æ¥å¤šå°‘ä¸ªå‚æ•°ï¼Œä¹Ÿä¸åœ¨ä¹ä¼ è¿›æ¥å‚æ•°æ˜¯ä»€ä¹ˆæ•°æ®ç±»å‹ã€‚ä¹Ÿå°±æ˜¯è¯´ï¼Œå³ä¾¿ä½ å®šä¹‰çš„å‡½æ•°åªæ¥æ”¶ä¸¤ä¸ªå‚æ•°ï¼Œåœ¨è°ƒç”¨è¿™ä¸ªå‡½æ•°æ—¶ä¹Ÿæœªå¿…ä¸€å®šè¦ä¼ é€’ä¸¤ä¸ªå‚æ•°ã€‚å¯ä»¥ä¼ é€’ä¸€ä¸ªã€ä¸‰ä¸ªç”šè‡³ä¸ä¼ é€’å‚æ•°ï¼Œè€Œè§£æå™¨æ°¸è¿œä¸ä¼šæœ‰ä»€ä¹ˆæ€¨è¨€ã€‚ä¹‹æ‰€ä»¥ä¼šè¿™æ ·ï¼ŒåŸå› æ˜¯ <u>ECMAScript ä¸­çš„å‚æ•°åœ¨å†…éƒ¨æ˜¯ç”¨ä¸€ä¸ªæ•°ç»„æ¥è¡¨ç¤ºçš„</u>ã€‚å‡½æ•°æ¥æ”¶åˆ°çš„å§‹ç»ˆéƒ½æ˜¯è¿™ä¸ªæ•°ç»„ï¼Œè€Œä¸å…³å¿ƒæ•°ç»„ä¸­åŒ…å«å“ªäº›å‚æ•°ï¼ˆå¦‚æœæœ‰å‚æ•°çš„è¯ï¼‰ã€‚å¦‚æœè¿™ä¸ªæ•°ç»„ä¸­ä¸åŒ…å«ä»»ä½•å…ƒç´ ï¼Œæ— æ‰€è°“ï¼›å¦‚æœåŒ…å«å¤šä¸ªå…ƒç´ ï¼Œä¹Ÿæ²¡æœ‰é—®é¢˜ã€‚å®é™…ä¸Šï¼Œåœ¨å‡½æ•°ä½“å†…å¯ä»¥é€šè¿‡ arguments å¯¹è±¡æ¥è®¿é—®è¿™ä¸ªå‚æ•°æ•°ç»„ï¼Œä»è€Œè·å–ä¼ é€’ç»™å‡½æ•°çš„æ¯ä¸€ä¸ªå‚æ•°ã€‚</p>
<div class="language-javascript highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kd">function</span> <span class="nx">sayHi</span><span class="p">()</span> <span class="p">{</span>
  <span class="nx">alert</span><span class="p">(</span><span class="dl">"</span><span class="s2">Hello </span><span class="dl">"</span> <span class="o">+</span> <span class="nx">arguments</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="o">+</span> <span class="dl">"</span><span class="s2">,</span><span class="dl">"</span> <span class="o">+</span> <span class="nx">arguments</span><span class="p">[</span><span class="mi">1</span><span class="p">]);</span>
<span class="p">}</span>
</code></pre></div></div>
<p>è¿™ä¸ªäº‹å®è¯´æ˜äº† ECMAScript å‡½æ•°çš„ä¸€ä¸ªé‡è¦ç‰¹ç‚¹ï¼šå‘½åçš„å‚æ•°åªæä¾›ä¾¿åˆ©ï¼Œä½†ä¸æ˜¯å¿…éœ€çš„ã€‚
arguments å¯¹è±¡å¯ä»¥ä¸å‘½åå‚æ•°ä¸€èµ·ä½¿ç”¨ï¼Œä¸”å®ƒçš„å€¼æ°¸è¿œä¸å¯¹åº”å‘½åå‚æ•°çš„å€¼ä¿æŒåŒæ­¥ã€‚ä¸è¿‡ï¼Œè¿™å¹¶ä¸æ˜¯è¯´è¯»å–è¿™ä¸¤ä¸ªå€¼ä¼šè®¿é—®ç›¸åŒçš„å†…å­˜ç©ºé—´ï¼›å®ƒä»¬çš„å†…å­˜ç©ºé—´æ˜¯ç‹¬ç«‹çš„ï¼Œä½†å®ƒä»¬çš„å€¼ä¼šåŒæ­¥ã€‚
å¦‚æœåªä¼ å…¥äº†ä¸€ä¸ªå‚æ•°ï¼Œé‚£ä¹ˆä¸º arguments[1] è®¾ç½®çš„å€¼ä¸ä¼šååº”åˆ°å‘½åå‚æ•°ä¸­ã€‚è¿™æ˜¯å› ä¸º arguments å¯¹è±¡çš„é•¿åº¦æ˜¯ç”±ä¼ å…¥çš„å‚æ•°ä¸ªæ•°å†³å®šçš„ï¼Œä¸æ˜¯ç”±å®šä¹‰å‡½æ•°æ—¶çš„å‘½åå‚æ•°çš„ä¸ªæ•°å†³å®šçš„ã€‚</p>

<p>ECMAScript ä¸­çš„æ‰€æœ‰å‚æ•°ä¼ é€’çš„éƒ½æ˜¯å€¼ï¼Œä¸å¯èƒ½é€šè¿‡å¼•ç”¨ä¼ é€’å‚æ•°ã€‚</p>

<h2 id="ecmascriptä¸­æ”¯æŒå‡½æ•°é‡è½½å—å¦‚æœå®šä¹‰äº†åŒåçš„å‡½æ•°ä¼šæ€æ ·">ECMAScriptä¸­æ”¯æŒå‡½æ•°é‡è½½å—ï¼Ÿå¦‚æœå®šä¹‰äº†åŒåçš„å‡½æ•°ä¼šæ€æ ·ï¼Ÿ</h2>

<p>ECMAScript å‡½æ•°ä¸èƒ½åƒä¼ ç»Ÿæ„ä¹‰ä¸Šé‚£æ ·å®ç°é‡è½½ï¼Œå¦‚æœåœ¨ ECMAScriptä¸­å®šä¹‰äº†ä¸¤ä¸ªåå­—ç›¸åŒçš„å‡½æ•°ï¼Œåˆ™è¯¥åå­—åªå±äºåå®šä¹‰çš„å‡½æ•°ï¼š</p>
<div class="language-javascript highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kd">function</span> <span class="nx">addSomeNumber</span><span class="p">(</span><span class="nx">num</span><span class="p">){</span>
  <span class="k">return</span> <span class="nx">num</span> <span class="o">+</span> <span class="mi">100</span><span class="p">;</span>
<span class="p">}</span>

<span class="kd">function</span> <span class="nx">addSomeNumber</span><span class="p">(</span><span class="nx">num</span><span class="p">)</span> <span class="p">{</span>
  <span class="k">return</span> <span class="nx">num</span> <span class="o">+</span> <span class="mi">200</span><span class="p">;</span>
<span class="p">}</span>
<span class="kd">var</span> <span class="nx">result</span> <span class="o">=</span> <span class="nx">addSomeNumber</span><span class="p">(</span><span class="mi">100</span><span class="p">);</span> <span class="c1">//300</span>
</code></pre></div></div>

<h2 id="æ‰§è¡Œç¯å¢ƒ">æ‰§è¡Œç¯å¢ƒ</h2>

<p>æ‰§è¡Œç¯å¢ƒå®šä¹‰äº†å˜é‡æˆ–å‡½æ•°æœ‰æƒè®¿é—®çš„å…¶ä»–æ•°æ®ï¼Œå†³å®šäº†å®ƒä»¬å„è‡ªçš„è¡Œä¸ºã€‚<u>æ¯ä¸ªæ‰§è¡Œç¯å¢ƒéƒ½æœ‰ä¸€ä¸ªä¸ä¹‹å…³è”çš„å˜é‡å¯¹è±¡ï¼ˆvariable objectï¼‰</u>ï¼Œ<u>ç¯å¢ƒä¸­å®šä¹‰çš„æ‰€æœ‰å˜é‡å’Œå‡½æ•°éƒ½ä¿å­˜åœ¨è¿™ä¸ªå¯¹è±¡ä¸­</u>ã€‚è™½ç„¶æˆ‘ä»¬ç¼–å†™çš„ä»£ç æ— æ³•è®¿é—®è¿™ä¸ªå¯¹è±¡ï¼Œä½†è§£æå™¨åœ¨å¤„ç†æ•°æ®æ—¶ä¼šåœ¨åå°ä½¿ç”¨å®ƒã€‚</p>

<p>å…¨å±€æ‰§è¡Œç¯å¢ƒæ˜¯æœ€å¤–å›´çš„ä¸€ä¸ªæ‰§è¡Œç¯å¢ƒã€‚æ ¹æ® ECMAScript å®ç°æ‰€åœ¨çš„å®¿ä¸»ç¯å¢ƒä¸åŒï¼Œè¡¨ç¤ºæ‰§è¡Œç¯å¢ƒçš„å¯¹è±¡ä¹Ÿä¸ä¸€æ ·ã€‚åœ¨ Web æµè§ˆå™¨ä¸­ï¼Œå…¨å±€æ‰§è¡Œç¯å¢ƒè¢«è®¤ä¸ºæ˜¯ window å¯¹è±¡ï¼Œå› æ­¤æ‰€æœ‰å…¨å±€å˜é‡å’Œå‡½æ•°éƒ½æ˜¯ä½œä¸º window å¯¹è±¡çš„å±æ€§å’Œæ–¹æ³•åˆ›å»ºçš„ã€‚æŸä¸ªæ‰§è¡Œç¯å¢ƒä¸­çš„æ‰€æœ‰ä»£ç æ‰§è¡Œå®Œæ¯•åï¼Œè¯¥ç¯å¢ƒè¢«é”€æ¯ï¼Œä¿å­˜åœ¨å…¶ä¸­çš„æ‰€æœ‰å˜é‡å’Œå‡½æ•°å®šä¹‰ä¹Ÿéšä¹‹é”€æ¯ï¼ˆå…¨å±€æ‰§è¡Œç¯å¢ƒç›´åˆ°åº”ç”¨ç¨‹åºé€€å‡ºâ€”â€”ä¾‹å¦‚å…³é—­ç½‘é¡µæˆ–æµè§ˆå™¨â€”â€”æ—¶æ‰ä¼šè¢«é”€æ¯ï¼‰ã€‚</p>

<p><u>æ¯ä¸ªå‡½æ•°éƒ½æœ‰è‡ªå·±çš„æ‰§è¡Œç¯å¢ƒ</u>ã€‚å½“æ‰§è¡Œæµè¿›å…¥ä¸€ä¸ªå‡½æ•°æ—¶ï¼Œå‡½æ•°çš„ç¯å¢ƒå°±ä¼šè¢«æ¨å…¥ä¸€ä¸ªç¯å¢ƒæ ˆä¸­ã€‚è€Œåœ¨å‡½æ•°æ‰§è¡Œä¹‹åï¼Œæ ˆå°†å…¶ç¯å¢ƒå¼¹å‡ºï¼ŒæŠŠæ§åˆ¶æƒè¿”å›ç»™ä¹‹å‰çš„æ‰§è¡Œç¯å¢ƒã€‚ECMAScript ç¨‹åºä¸­çš„æ‰§è¡Œæµæ­£æ˜¯ç”±è¿™ä¸ªæ–¹ä¾¿çš„æœºåˆ¶æ§åˆ¶ç€ã€‚</p>

<h2 id="ä½œç”¨åŸŸé“¾">ä½œç”¨åŸŸé“¾</h2>

<p>å½“ä»£ç åœ¨ä¸€ä¸ªç¯å¢ƒä¸­æ‰§è¡Œæ—¶ï¼Œä¼šåˆ›å»ºå˜é‡å¯¹è±¡çš„ä¸€ä¸ªä½œç”¨åŸŸé“¾ï¼ˆscope chainï¼‰ã€‚ä½œç”¨åŸŸé“¾çš„ç”¨é€”ï¼Œæ˜¯ä¿è¯å¯¹æ‰§è¡Œç¯å¢ƒæœ‰æƒè®¿é—®çš„æ‰€æœ‰å˜é‡å’Œå‡½æ•°çš„æœ‰åºè®¿é—®ã€‚ä½œç”¨åŸŸé“¾çš„å‰ç«¯ï¼Œå§‹ç»ˆéƒ½æ˜¯å½“å‰æ‰§è¡Œçš„ä»£ç æ‰€åœ¨ç¯å¢ƒçš„å˜é‡å¯¹è±¡ã€‚å¦‚æœè¿™ä¸ªç¯å¢ƒæ˜¯å‡½æ•°ï¼Œåˆ™å°†å…¶æ´»åŠ¨å¯¹è±¡ï¼ˆactivation objectï¼‰ä½œä¸ºå˜é‡å¯¹è±¡ã€‚æ´»åŠ¨å¯¹è±¡åœ¨æœ€å¼€å§‹æ—¶åªåŒ…å«ä¸€ä¸ªå˜é‡ï¼Œå³ arguments å¯¹è±¡ï¼ˆè¿™ä¸ªå¯¹è±¡åœ¨å…¨å±€ç¯å¢ƒä¸­æ˜¯ä¸å­˜åœ¨çš„ï¼‰ã€‚ä½œç”¨åŸŸé“¾ä¸­çš„ä¸‹ä¸€ä¸ªå˜é‡å¯¹è±¡æ¥è‡ªåŒ…å«ï¼ˆå¤–éƒ¨ï¼‰ç¯å¢ƒï¼Œè€Œå†ä¸‹ä¸€ä¸ªå˜é‡å¯¹è±¡åˆ™æ¥è‡ªä¸‹ä¸€ä¸ªåŒ…å«ç¯å¢ƒã€‚è¿™æ ·ï¼Œä¸€ç›´å»¶ç»­åˆ°å…¨å±€æ‰§è¡Œç¯å¢ƒï¼›å…¨å±€æ‰§è¡Œç¯å¢ƒçš„å˜é‡å¯¹è±¡å§‹ç»ˆéƒ½æ˜¯ä½œç”¨åŸŸé“¾ä¸­çš„æœ€åä¸€ä¸ªå¯¹è±¡ã€‚
æ ‡è¯†ç¬¦è§£ææ˜¯æ²¿ç€ä½œç”¨åŸŸé“¾ä¸€çº§ä¸€çº§åœ°æœç´¢æ ‡è¯†ç¬¦çš„è¿‡ç¨‹ã€‚æœç´¢è¿‡ç¨‹å§‹ç»ˆä»ä½œç”¨åŸŸé“¾çš„å‰ç«¯å¼€å§‹ï¼Œç„¶åé€çº§åœ°å‘åå›æº¯ã€‚</p>

<p>å†…éƒ¨ç¯å¢ƒå¯ä»¥é€šè¿‡ä½œç”¨åŸŸé“¾è®¿é—®æ‰€æœ‰çš„å¤–éƒ¨ç¯å¢ƒï¼Œä½†å¤–éƒ¨ç¯å¢ƒä¸èƒ½è®¿é—®å†…éƒ¨ç¯å¢ƒä¸­çš„ä»»ä½•å˜é‡å’Œå‡½æ•°ã€‚è¿™äº›ç¯å¢ƒä¹‹é—´çš„è”ç³»æ˜¯çº¿æ€§ã€æœ‰æ¬¡åºçš„ã€‚æ¯ä¸ªç¯å¢ƒéƒ½å¯ä»¥å‘ä¸Šæœç´¢ä½œç”¨åŸŸé“¾ï¼Œä»¥æŸ¥è¯¢å˜é‡å’Œå‡½æ•°åï¼›ä½†ä»»ä½•ç¯å¢ƒéƒ½ä¸èƒ½é€šè¿‡å‘ä¸‹æœç´¢ä½œç”¨åŸŸé“¾è€Œè¿›å…¥å¦ä¸€ä¸ªæ‰§è¡Œç¯å¢ƒã€‚</p>

<h2 id="å»¶é•¿ä½œç”¨åŸŸé“¾">å»¶é•¿ä½œç”¨åŸŸé“¾</h2>

<p>æœ‰äº›è¯­å¥å¯ä»¥åœ¨ä½œç”¨åŸŸé“¾çš„å‰ç«¯ä¸´æ—¶å¢åŠ ä¸€ä¸ªå˜é‡å¯¹è±¡ï¼Œè¯¥å˜é‡å¯¹è±¡ä¼šåœ¨ä»£ç æ‰§è¡Œåè¢«ç§»é™¤ã€‚åœ¨ä¸¤ç§æƒ…å†µä¸‹ä¼šå‘ç”Ÿè¿™ç§ç°è±¡ã€‚å…·ä½“æ¥è¯´ï¼Œå°±æ˜¯å½“æ‰§è¡Œæµè¿›å…¥ä¸‹åˆ—ä»»ä½•ä¸€ä¸ªè¯­å¥æ—¶ï¼Œä½œç”¨åŸŸé“¾å°±ä¼šå¾—åˆ°åŠ é•¿ï¼š
try-catch è¯­å¥çš„ catch å—ï¼›
with è¯­å¥ã€‚</p>

<h2 id="javascriptæ˜¯å¦æœ‰å—çº§ä½œç”¨åŸŸ">JavaScriptæ˜¯å¦æœ‰å—çº§ä½œç”¨åŸŸï¼Ÿ</h2>
<p>JavaScript æ²¡æœ‰å—çº§ä½œç”¨åŸŸ</p>
<div class="language-javascript highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">if</span> <span class="p">(</span><span class="kc">true</span><span class="p">)</span> <span class="p">{</span>
  <span class="kd">var</span> <span class="nx">color</span> <span class="o">=</span> <span class="dl">"</span><span class="s2">blue</span><span class="dl">"</span><span class="p">;</span>
<span class="p">}</span>
<span class="nx">alert</span><span class="p">(</span><span class="nx">color</span><span class="p">);</span> <span class="c1">//"blue"</span>
</code></pre></div></div>
<p>ä½¿ç”¨ var å£°æ˜çš„å˜é‡ä¼šè‡ªåŠ¨è¢«æ·»åŠ åˆ°æœ€æ¥è¿‘çš„ç¯å¢ƒä¸­ã€‚åœ¨å‡½æ•°å†…éƒ¨ï¼Œæœ€æ¥è¿‘çš„ç¯å¢ƒå°±æ˜¯å‡½æ•°çš„å±€éƒ¨ç¯å¢ƒï¼›åœ¨ with è¯­å¥ä¸­ï¼Œæœ€æ¥è¿‘çš„ç¯å¢ƒæ˜¯å‡½æ•°ç¯å¢ƒã€‚å¦‚æœåˆå§‹åŒ–å˜é‡æ—¶æ²¡æœ‰ä½¿ç”¨ var å£°æ˜ï¼Œè¯¥å˜é‡ä¼šè‡ªåŠ¨è¢«æ·»åŠ åˆ°å…¨å±€ç¯å¢ƒã€‚</p>

<h2 id="javascriptçš„åƒåœ¾å›æ”¶æœºåˆ¶æœ‰å“ªäº›æ–¹å¼å¦‚ä½•ä¼˜åŒ–javascriptçš„å†…å­˜å ç”¨">JavaScriptçš„åƒåœ¾å›æ”¶æœºåˆ¶æœ‰å“ªäº›æ–¹å¼ï¼Ÿå¦‚ä½•ä¼˜åŒ–JavaScriptçš„å†…å­˜å ç”¨ï¼Ÿ</h2>

<p>JavaScriptå…·æœ‰è‡ªåŠ¨åƒåœ¾æ”¶é›†æœºåˆ¶ï¼Œæ‰§è¡Œç¯å¢ƒä¼šè´Ÿè´£ç®¡ç†ä»£ç æ‰§è¡Œè¿‡ç¨‹ä¸­ä½¿ç”¨çš„å†…å­˜ã€‚è¿™ç§åƒåœ¾æ”¶é›†æœºåˆ¶çš„åŸç†å…¶å®å¾ˆç®€å•ï¼šæ‰¾å‡ºé‚£äº›ä¸å†ç»§ç»­ä½¿ç”¨çš„å˜é‡ï¼Œç„¶åé‡Šæ”¾å…¶å ç”¨çš„å†…å­˜ã€‚ä¸ºæ­¤ï¼Œåƒåœ¾æ”¶é›†å™¨ä¼šæŒ‰ç…§å›ºå®šçš„æ—¶é—´é—´éš”ï¼ˆæˆ–ä»£ç æ‰§è¡Œä¸­é¢„å®šçš„æ”¶é›†æ—¶é—´ï¼‰ï¼Œå‘¨æœŸæ€§åœ°æ‰§è¡Œè¿™ä¸€æ“ä½œã€‚å…·ä½“åˆ°æµè§ˆå™¨ä¸­çš„å®ç°ï¼Œåˆ™é€šå¸¸æœ‰ä¸¤ä¸ªç­–ç•¥ï¼šæ ‡è®°æ¸…é™¤ã€å¼•ç”¨è®¡æ•°ã€‚</p>

<ul>
  <li>æ ‡è®°æ¸…é™¤</li>
</ul>

<p>å½“å˜é‡è¿›å…¥ç¯å¢ƒï¼ˆä¾‹å¦‚ï¼Œåœ¨å‡½æ•°ä¸­å£°æ˜ä¸€ä¸ªå˜é‡ï¼‰æ—¶ï¼Œå°±å°†è¿™ä¸ªå˜é‡æ ‡è®°ä¸ºâ€œè¿›å…¥ç¯å¢ƒâ€ã€‚ä»é€»è¾‘ä¸Šè®²ï¼Œæ°¸è¿œä¸èƒ½é‡Šæ”¾è¿›å…¥ç¯å¢ƒçš„å˜é‡æ‰€å ç”¨çš„å†…å­˜ï¼Œå› ä¸ºåªè¦æ‰§è¡Œæµè¿›å…¥ç›¸åº”çš„ç¯å¢ƒï¼Œå°±å¯èƒ½ä¼šç”¨åˆ°å®ƒä»¬ã€‚è€Œå½“å˜é‡ç¦»å¼€ç¯å¢ƒæ—¶ï¼Œåˆ™å°†å…¶æ ‡è®°ä¸ºâ€œç¦»å¼€ç¯å¢ƒâ€ã€‚</p>

<ul>
  <li>å¼•ç”¨è®¡æ•°</li>
</ul>

<p>è·Ÿè¸ªè®°å½•æ¯ä¸ªå€¼è¢«å¼•ç”¨çš„æ¬¡æ•°ã€‚å½“å£°æ˜äº†ä¸€ä¸ªå˜é‡å¹¶å°†ä¸€ä¸ªå¼•ç”¨ç±»å‹å€¼èµ‹ç»™è¯¥å˜é‡æ—¶ï¼Œåˆ™è¿™ä¸ªå€¼çš„å¼•ç”¨æ¬¡æ•°å°±æ˜¯ 1ã€‚å¦‚æœåŒä¸€ä¸ªå€¼åˆè¢«èµ‹ç»™å¦ä¸€ä¸ªå˜é‡ï¼Œåˆ™è¯¥å€¼çš„å¼•ç”¨æ¬¡æ•°åŠ  1ã€‚ç›¸åï¼Œå¦‚æœåŒ…å«å¯¹è¿™ä¸ªå€¼å¼•ç”¨çš„å˜é‡åˆå–å¾—äº†å¦å¤–ä¸€ä¸ªå€¼ï¼Œåˆ™è¿™ä¸ªå€¼çš„å¼•ç”¨æ¬¡æ•°å‡ 1ã€‚å½“è¿™ä¸ªå€¼çš„å¼•ç”¨æ¬¡æ•°å˜æˆ 0 æ—¶ï¼Œåˆ™è¯´æ˜æ²¡æœ‰åŠæ³•å†è®¿é—®è¿™ä¸ªå€¼äº†ï¼Œå› è€Œå°±å¯ä»¥å°†å…¶å ç”¨çš„å†…å­˜ç©ºé—´å›æ”¶å›æ¥ã€‚
Netscape Navigator 3.0æ˜¯æœ€æ—©ä½¿ç”¨å¼•ç”¨è®¡æ•°ç­–ç•¥çš„æµè§ˆå™¨ï¼Œä½†å¾ˆå¿«å®ƒå°±é‡åˆ°äº†ä¸€ä¸ªä¸¥é‡çš„é—®é¢˜ï¼š<u>å¾ªç¯å¼•ç”¨</u>ã€‚å¾ªç¯å¼•ç”¨æŒ‡çš„æ˜¯å¯¹è±¡ A ä¸­åŒ…å«ä¸€ä¸ªæŒ‡å‘å¯¹è±¡ B çš„æŒ‡é’ˆï¼Œè€Œå¯¹è±¡ B ä¸­ä¹ŸåŒ…å«ä¸€ä¸ªæŒ‡å‘å¯¹è±¡ A çš„å¼•ç”¨ã€‚ä¸ºæ­¤ï¼ŒNetscape åœ¨ Navigator 4.0 ä¸­æ”¾å¼ƒäº†å¼•ç”¨è®¡æ•°æ–¹å¼ï¼Œè½¬è€Œé‡‡ç”¨æ ‡è®°æ¸…é™¤æ¥å®ç°å…¶åƒåœ¾æ”¶é›†æœºåˆ¶ã€‚</p>

<p>ä¼˜åŒ–å†…å­˜å ç”¨çš„æœ€ä½³æ–¹å¼ï¼Œå°±æ˜¯ä¸ºæ‰§è¡Œä¸­çš„ä»£ç åªä¿å­˜å¿…è¦çš„æ•°æ®ã€‚ä¸€æ—¦æ•°æ®ä¸å†æœ‰ç”¨ï¼Œæœ€å¥½é€šè¿‡å°†å…¶å€¼è®¾ç½®ä¸º null æ¥é‡Šæ”¾å…¶å¼•ç”¨â€”â€”è¿™ä¸ªåšæ³•å«åš<u>è§£é™¤å¼•ç”¨</u>ï¼ˆdereferencingï¼‰ã€‚è¿™ä¸€åšæ³•é€‚ç”¨äºå¤§å¤šæ•°å…¨å±€å˜é‡å’Œå…¨å±€å¯¹è±¡çš„å±æ€§ã€‚å±€éƒ¨å˜é‡ä¼šåœ¨å®ƒä»¬ç¦»å¼€æ‰§è¡Œç¯å¢ƒæ—¶è‡ªåŠ¨è¢«è§£é™¤å¼•ç”¨</p>
<div class="language-javascript highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kd">function</span> <span class="nx">createPerson</span><span class="p">(</span><span class="nx">name</span><span class="p">){</span>
  <span class="kd">var</span> <span class="nx">localPerson</span> <span class="o">=</span> <span class="k">new</span> <span class="nb">Object</span><span class="p">();</span>
  <span class="nx">localPerson</span><span class="p">.</span><span class="nx">name</span> <span class="o">=</span> <span class="nx">name</span><span class="p">;</span>
  <span class="k">return</span> <span class="nx">localPerson</span><span class="p">;</span>
<span class="p">}</span>
<span class="kd">var</span> <span class="nx">globalPerson</span> <span class="o">=</span> <span class="nx">createPerson</span><span class="p">(</span><span class="dl">"</span><span class="s2">Nicholas</span><span class="dl">"</span><span class="p">);</span>
<span class="c1">// æ‰‹å·¥è§£é™¤ globalPerson çš„å¼•ç”¨</span>
<span class="nx">globalPerson</span> <span class="o">=</span> <span class="kc">null</span><span class="p">;</span>
</code></pre></div></div>
<p><u>è§£é™¤ä¸€ä¸ªå€¼çš„å¼•ç”¨å¹¶ä¸æ„å‘³ç€è‡ªåŠ¨å›æ”¶è¯¥å€¼æ‰€å ç”¨çš„å†…å­˜</u>ã€‚è§£é™¤å¼•ç”¨çš„çœŸæ­£ä½œç”¨æ˜¯è®©å€¼è„±ç¦»æ‰§è¡Œç¯å¢ƒï¼Œä»¥ä¾¿åƒåœ¾æ”¶é›†å™¨ä¸‹æ¬¡è¿è¡Œæ—¶å°†å…¶å›æ”¶ã€‚
åŸºæœ¬ç±»å‹å€¼åœ¨å†…å­˜ä¸­å æ®å›ºå®šå¤§å°çš„ç©ºé—´ï¼Œå› æ­¤è¢«ä¿å­˜åœ¨æ ˆå†…å­˜ä¸­ï¼›å¼•ç”¨ç±»å‹çš„å€¼æ˜¯å¯¹è±¡ï¼Œä¿å­˜åœ¨å †å†…å­˜ä¸­ï¼›</p>

<h2 id="åœ¨javascriptä¸­é€šè¿‡å¯¹è±¡å­—é¢é‡æ–¹å¼å®šä¹‰å¯¹è±¡ä¸é€šè¿‡æ„é€ å‡½æ•°æ–¹å¼å®šä¹‰å¯¹è±¡æœ‰ä»€ä¹ˆä¸åŒ">åœ¨JavaScriptä¸­é€šè¿‡å¯¹è±¡å­—é¢é‡æ–¹å¼å®šä¹‰å¯¹è±¡ä¸é€šè¿‡æ„é€ å‡½æ•°æ–¹å¼å®šä¹‰å¯¹è±¡æœ‰ä»€ä¹ˆä¸åŒï¼Ÿ</h2>

<p>æ™®é€šçš„åˆ›å»ºå¼•ç”¨å®ä¾‹çš„æ–¹å¼ï¼š</p>
<div class="language-javascript highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kd">var</span> <span class="nx">person</span> <span class="o">=</span> <span class="k">new</span> <span class="nb">Object</span><span class="p">();</span>
<span class="nx">person</span><span class="p">.</span><span class="nx">name</span> <span class="o">=</span> <span class="dl">"</span><span class="s2">Nicholas</span><span class="dl">"</span><span class="p">;</span>
<span class="nx">person</span><span class="p">.</span><span class="nx">age</span> <span class="o">=</span> <span class="mi">29</span><span class="p">;</span>
</code></pre></div></div>

<p>ä½¿ç”¨å¯¹è±¡å­—é¢é‡æ–¹å¼åˆ›å»ºï¼š</p>
<div class="language-javascript highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kd">var</span> <span class="nx">person</span> <span class="o">=</span> <span class="p">{</span>
  <span class="na">name</span> <span class="p">:</span> <span class="dl">"</span><span class="s2">Nicholas</span><span class="dl">"</span><span class="p">,</span>
  <span class="na">age</span> <span class="p">:</span> <span class="mi">29</span>  <span class="c1">// åœ¨æœ€åä¸€ä¸ªå±æ€§åé¢æ·»åŠ é€—å·ä¼šåœ¨IE7åŠæ›´æ—©ç‰ˆæœ¬ï¼Œä»¥åŠOperaä¸­å‡ºé”™</span>
<span class="p">};</span>
</code></pre></div></div>

<p>åœ¨ä½¿ç”¨å¯¹è±¡å­—é¢é‡è¯­æ³•æ—¶ï¼Œå±æ€§åä¹Ÿå¯ä»¥ä½¿ç”¨å­—ç¬¦ä¸²ï¼š</p>
<div class="language-javascript highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kd">var</span> <span class="nx">person</span> <span class="o">=</span> <span class="p">{</span>
  <span class="dl">"</span><span class="s2">name</span><span class="dl">"</span> <span class="p">:</span> <span class="dl">"</span><span class="s2">Nicholas</span><span class="dl">"</span><span class="p">,</span>
  <span class="dl">"</span><span class="s2">age</span><span class="dl">"</span> <span class="p">:</span> <span class="mi">29</span><span class="p">,</span>
  <span class="mi">5</span> <span class="p">:</span> <span class="kc">true</span>  <span class="c1">// æ•°å€¼å±æ€§åä¼šè‡ªåŠ¨è½¬æ¢ä¸ºå­—ç¬¦ä¸²</span>
<span class="p">};</span>
</code></pre></div></div>
<p><u>åœ¨é€šè¿‡å¯¹è±¡å­—é¢é‡å®šä¹‰å¯¹è±¡æ—¶ï¼Œå®é™…ä¸Šä¸ä¼šè°ƒç”¨ Object æ„é€ å‡½æ•°ã€‚</u></p>

<h2 id="åœ¨javascriptä¸­ä½¿ç”¨æ–¹æ‹¬å·è¡¨ç¤ºæ³•è®¿é—®å¯¹è±¡å±æ€§ä¸ä½¿ç”¨ç‚¹è¡¨ç¤ºæ³•è®¿é—®å¯¹è±¡å±æ€§æœ‰ä»€ä¹ˆä¸åŒ">åœ¨JavaScriptä¸­ä½¿ç”¨æ–¹æ‹¬å·è¡¨ç¤ºæ³•è®¿é—®å¯¹è±¡å±æ€§ä¸ä½¿ç”¨ç‚¹è¡¨ç¤ºæ³•è®¿é—®å¯¹è±¡å±æ€§æœ‰ä»€ä¹ˆä¸åŒï¼Ÿ</h2>

<p>æ–¹æ‹¬å·è¯­æ³•çš„ä¸»è¦ä¼˜ç‚¹æ˜¯å¯ä»¥é€šè¿‡å˜é‡
æ¥è®¿é—®å±æ€§ï¼Œä¾‹å¦‚ï¼š</p>
<div class="language-javascript highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kd">var</span> <span class="nx">propertyName</span> <span class="o">=</span> <span class="dl">"</span><span class="s2">name</span><span class="dl">"</span><span class="p">;</span>
<span class="nx">alert</span><span class="p">(</span><span class="nx">person</span><span class="p">[</span><span class="nx">propertyName</span><span class="p">]);</span> <span class="c1">//"Nicholas"</span>
</code></pre></div></div>

<p>å¦‚æœå±æ€§åä¸­åŒ…å«ä¼šå¯¼è‡´è¯­æ³•é”™è¯¯çš„å­—ç¬¦ï¼Œæˆ–è€…å±æ€§åä½¿ç”¨çš„æ˜¯å…³é”®å­—æˆ–ä¿ç•™å­—ï¼Œä¹Ÿå¯ä»¥ä½¿ç”¨æ–¹æ‹¬
å·è¡¨ç¤ºæ³•ã€‚ä¾‹å¦‚ï¼š</p>
<div class="language-javascript highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nx">person</span><span class="p">[</span><span class="dl">"</span><span class="s2">first name</span><span class="dl">"</span><span class="p">]</span> <span class="o">=</span> <span class="dl">"</span><span class="s2">Nicholas</span><span class="dl">"</span><span class="p">;</span>
</code></pre></div></div>

<h2 id="æ•°ç»„çš„lengthå±æ€§">æ•°ç»„çš„lengthå±æ€§</h2>

<p><u>æ•°ç»„çš„é¡¹æ•°ä¿å­˜åœ¨å…¶ length å±æ€§ä¸­</u>ã€‚å¦‚æœè®¾ç½®æŸä¸ªå€¼çš„ç´¢å¼•è¶…è¿‡äº†æ•°ç»„ç°æœ‰é¡¹æ•°ï¼Œæ•°ç»„å°±ä¼šè‡ªåŠ¨å¢åŠ åˆ°è¯¥ç´¢å¼•å€¼åŠ  1 çš„é•¿åº¦ï¼š</p>
<div class="language-javascript highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kd">var</span> <span class="nx">colors</span> <span class="o">=</span> <span class="p">[</span><span class="dl">"</span><span class="s2">red</span><span class="dl">"</span><span class="p">,</span> <span class="dl">"</span><span class="s2">blue</span><span class="dl">"</span><span class="p">,</span> <span class="dl">"</span><span class="s2">green</span><span class="dl">"</span><span class="p">];</span> <span class="c1">// å®šä¹‰ä¸€ä¸ªå­—ç¬¦ä¸²æ•°ç»„</span>
<span class="nx">alert</span><span class="p">(</span><span class="nx">colors</span><span class="p">[</span><span class="mi">0</span><span class="p">]);</span> <span class="c1">// æ˜¾ç¤ºç¬¬ä¸€é¡¹</span>
<span class="nx">colors</span><span class="p">[</span><span class="mi">2</span><span class="p">]</span> <span class="o">=</span> <span class="dl">"</span><span class="s2">black</span><span class="dl">"</span><span class="p">;</span> <span class="c1">// ä¿®æ”¹ç¬¬ä¸‰é¡¹</span>
<span class="nx">colors</span><span class="p">[</span><span class="mi">3</span><span class="p">]</span> <span class="o">=</span> <span class="dl">"</span><span class="s2">brown</span><span class="dl">"</span><span class="p">;</span> <span class="c1">// æ–°å¢ç¬¬å››é¡¹</span>
</code></pre></div></div>

<p>length å±æ€§ä¸æ˜¯åªè¯»çš„ã€‚å› æ­¤ï¼Œé€šè¿‡è®¾ç½®è¿™ä¸ªå±æ€§ï¼Œå¯ä»¥ä»æ•°ç»„çš„æœ«å°¾ç§»é™¤é¡¹æˆ–å‘æ•°ç»„ä¸­æ·»åŠ æ–°é¡¹ï¼š</p>
<div class="language-javascript highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kd">var</span> <span class="nx">colors</span> <span class="o">=</span> <span class="p">[</span><span class="dl">"</span><span class="s2">red</span><span class="dl">"</span><span class="p">,</span> <span class="dl">"</span><span class="s2">blue</span><span class="dl">"</span><span class="p">,</span> <span class="dl">"</span><span class="s2">green</span><span class="dl">"</span><span class="p">];</span> <span class="c1">// åˆ›å»ºä¸€ä¸ªåŒ…å« 3 ä¸ªå­—ç¬¦ä¸²çš„æ•°ç»„</span>
<span class="nx">colors</span><span class="p">.</span><span class="nx">length</span> <span class="o">=</span> <span class="mi">2</span><span class="p">;</span>
<span class="nx">alert</span><span class="p">(</span><span class="nx">colors</span><span class="p">[</span><span class="mi">2</span><span class="p">]);</span> <span class="c1">//undefined</span>

<span class="kd">var</span> <span class="nx">colors</span> <span class="o">=</span> <span class="p">[</span><span class="dl">"</span><span class="s2">red</span><span class="dl">"</span><span class="p">,</span> <span class="dl">"</span><span class="s2">blue</span><span class="dl">"</span><span class="p">,</span> <span class="dl">"</span><span class="s2">green</span><span class="dl">"</span><span class="p">];</span> <span class="c1">// åˆ›å»ºä¸€ä¸ªåŒ…å« 3 ä¸ªå­—ç¬¦ä¸²çš„æ•°ç»„</span>
<span class="nx">colors</span><span class="p">.</span><span class="nx">length</span> <span class="o">=</span> <span class="mi">4</span><span class="p">;</span>
<span class="nx">alert</span><span class="p">(</span><span class="nx">colors</span><span class="p">[</span><span class="mi">3</span><span class="p">]);</span> <span class="c1">//undefined</span>
</code></pre></div></div>

<h2 id="ä½¿ç”¨instanceofæ“ä½œç¬¦æ¥åˆ¤æ–­ä¸€ä¸ªå˜é‡æ˜¯å¦æ˜¯æ•°ç»„ç±»å‹å­˜åœ¨ä»€ä¹ˆé—®é¢˜å¦‚ä½•è§£å†³">ä½¿ç”¨instanceofæ“ä½œç¬¦æ¥åˆ¤æ–­ä¸€ä¸ªå˜é‡æ˜¯å¦æ˜¯æ•°ç»„ç±»å‹å­˜åœ¨ä»€ä¹ˆé—®é¢˜ï¼Ÿå¦‚ä½•è§£å†³ï¼Ÿ</h2>

<p>å¯¹äºä¸€ä¸ªç½‘é¡µï¼Œæˆ–è€…ä¸€ä¸ªå…¨å±€ä½œç”¨åŸŸè€Œè¨€ï¼Œä½¿ç”¨ instanceof æ“ä½œç¬¦å°±èƒ½å¾—åˆ°æ»¡æ„çš„ç»“æœï¼š</p>
<div class="language-javascript highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">if</span> <span class="p">(</span><span class="nx">value</span> <span class="k">instanceof</span> <span class="nb">Array</span><span class="p">){</span>
  <span class="c1">//å¯¹æ•°ç»„æ‰§è¡ŒæŸäº›æ“ä½œ</span>
<span class="p">}</span>
</code></pre></div></div>
<p>instanceof æ“ä½œç¬¦çš„é—®é¢˜åœ¨äºï¼Œå®ƒå‡å®šåªæœ‰ä¸€ä¸ªå…¨å±€æ‰§è¡Œç¯å¢ƒã€‚å¦‚æœç½‘é¡µä¸­åŒ…å«å¤šä¸ªæ¡†æ¶ï¼Œé‚£å®é™…ä¸Šå°±å­˜åœ¨ä¸¤ä¸ªä»¥ä¸Šä¸åŒçš„å…¨å±€æ‰§è¡Œç¯å¢ƒï¼Œä»è€Œå­˜åœ¨ä¸¤ä¸ªä»¥ä¸Šä¸åŒç‰ˆæœ¬çš„ Array æ„é€ å‡½æ•°ã€‚å¦‚æœä»ä¸€ä¸ªæ¡†æ¶å‘å¦ä¸€ä¸ªæ¡†æ¶ä¼ å…¥ä¸€ä¸ªæ•°ç»„ï¼Œé‚£ä¹ˆä¼ å…¥çš„æ•°ç»„ä¸åœ¨ç¬¬äºŒä¸ªæ¡†æ¶ä¸­åŸç”Ÿåˆ›å»ºçš„æ•°ç»„åˆ†åˆ«å…·æœ‰å„è‡ªä¸åŒçš„æ„é€ å‡½æ•°ã€‚</p>

<p>ä¸ºäº†è§£å†³è¿™ä¸ªé—®é¢˜ï¼ŒECMAScript 5 æ–°å¢äº† Array.isArray() æ–¹æ³•ã€‚è¿™ä¸ªæ–¹æ³•çš„ç›®çš„æ˜¯æœ€ç»ˆç¡®å®šæŸä¸ªå€¼åˆ°åº•æ˜¯ä¸æ˜¯æ•°ç»„ï¼Œè€Œä¸ç®¡å®ƒæ˜¯åœ¨å“ªä¸ªå…¨å±€æ‰§è¡Œç¯å¢ƒä¸­åˆ›å»ºçš„ï¼š</p>
<div class="language-javascript highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">if</span> <span class="p">(</span><span class="nb">Array</span><span class="p">.</span><span class="nx">isArray</span><span class="p">(</span><span class="nx">value</span><span class="p">)){</span>
  <span class="c1">//å¯¹æ•°ç»„æ‰§è¡ŒæŸäº›æ“ä½œ</span>
<span class="p">}</span>
</code></pre></div></div>

<h2 id="javascriptåŸç”Ÿçš„æ“ä½œæ•°ç»„çš„æ–¹æ³•">JavaScriptåŸç”Ÿçš„æ“ä½œæ•°ç»„çš„æ–¹æ³•</h2>

<div class="language-javascript highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nx">join</span><span class="p">()</span>
<span class="nx">push</span><span class="p">()</span>      <span class="c1">// æ¥æ”¶ä»»æ„æ•°é‡çš„å‚æ•°ï¼ŒæŠŠå®ƒä»¬é€ä¸ªæ·»åŠ åˆ°æ•°ç»„æœ«å°¾ï¼Œå¹¶è¿”å›ä¿®æ”¹åæ•°ç»„çš„é•¿åº¦</span>
<span class="nx">pop</span><span class="p">()</span>       <span class="c1">// ä»æ•°ç»„æœ«å°¾ç§»é™¤æœ€åä¸€é¡¹ï¼Œå‡å°‘æ•°ç»„çš„ length å€¼ï¼Œç„¶åè¿”å›ç§»é™¤çš„é¡¹</span>
<span class="nx">shift</span><span class="p">()</span>     <span class="c1">// ç§»é™¤æ•°ç»„ä¸­çš„ç¬¬ä¸€ä¸ªé¡¹å¹¶è¿”å›è¯¥é¡¹ï¼ŒåŒæ—¶å°†æ•°ç»„é•¿åº¦å‡ 1</span>
<span class="nx">unshift</span><span class="p">()</span>   <span class="c1">// åœ¨æ•°ç»„å‰ç«¯æ·»åŠ ä»»æ„ä¸ªé¡¹å¹¶è¿”å›æ–°æ•°ç»„çš„é•¿åº¦</span>

<span class="nx">sort</span><span class="p">()</span>      <span class="c1">// é»˜è®¤è°ƒç”¨æ¯ä¸€é¡¹çš„toString()å€¼è¿›è¡Œå‡åºæ’åˆ—ï¼ˆæ‰€ä»¥15æ’åœ¨5å‰é¢ï¼‰ï¼Œå¯ä»¥æŒ‡å®šä¸€ä¸ªæ¯”è¾ƒå‡½æ•°</span>
<span class="nx">reverse</span><span class="p">()</span>

<span class="nx">concat</span><span class="p">()</span>  
<span class="nx">slice</span><span class="p">()</span>     <span class="c1">// åŸºäºä½ç½®å‚æ•°ä»å½“å‰æ•°ç»„ä¸­åˆ›å»ºä¸€ä¸ªæ–°æ•°ç»„ï¼ˆè¯¥æ–¹æ³•ä¸ä¼šå½±å“åŸæ•°ç»„ï¼‰</span>
<span class="nx">splice</span><span class="p">()</span>    <span class="c1">// å¯ä»¥ç”¨äºåˆ é™¤ã€æ’å…¥ã€æ›¿æ¢æ•°ç»„å…ƒç´ </span>

<span class="nx">indexOf</span><span class="p">()</span>   <span class="c1">// ä¼šä½¿ç”¨å…¨ç­‰æ“ä½œè¿›è¡Œæ¯”è¾ƒ</span>
<span class="nx">lastIndexOf</span><span class="p">()</span>

<span class="nx">every</span><span class="p">()</span>     <span class="c1">// å¦‚æœæŒ‡å®šå‡½æ•°å¯¹æ¯ä¸€é¡¹éƒ½è¿”å› true ï¼Œåˆ™è¿”å› true</span>
<span class="nx">filter</span><span class="p">()</span>    <span class="c1">// è¿”å›æŒ‡å®šå‡½æ•°ä¼šè¿”å› true çš„é¡¹ç»„æˆçš„æ•°ç»„</span>
<span class="nx">forEach</span><span class="p">()</span>   <span class="c1">// å¯¹æ•°ç»„ä¸­çš„æ¯ä¸€é¡¹è¿è¡ŒæŒ‡å®šå‡½æ•°ï¼Œæ²¡æœ‰è¿”å›å€¼</span>
<span class="nx">map</span><span class="p">()</span>       <span class="c1">// è¿”å›æ¯æ¬¡æŒ‡å®šå‡½æ•°è°ƒç”¨çš„ç»“æœç»„æˆçš„æ•°ç»„</span>
<span class="nx">some</span><span class="p">()</span>      <span class="c1">// å¦‚æœæŒ‡å®šå‡½æ•°å¯¹ä»»ä¸€é¡¹è¿”å› true ï¼Œåˆ™è¿”å› true</span>

<span class="nx">reduce</span><span class="p">()</span>    <span class="c1">// ç”¨æŒ‡å®šå‡½æ•°è¿­ä»£æ•°ç»„çš„æ‰€æœ‰é¡¹ï¼Œç„¶åæ„å»ºä¸€ä¸ªæœ€ç»ˆè¿”å›çš„å€¼ã€‚ä»æ•°ç»„çš„ç¬¬ä¸€é¡¹å¼€å§‹ï¼Œé€ä¸ªéå†åˆ°æœ€åã€‚æŒ‡å®šå‡½æ•°åŒ…å«4ä¸ªå‚æ•°ï¼šå‰ä¸€ä¸ªå€¼ã€å½“å‰å€¼ã€é¡¹çš„ç´¢å¼•å’Œæ•°ç»„å¯¹è±¡ã€‚è¿™ä¸ªå‡½æ•°è¿”å›çš„ä»»ä½•å€¼éƒ½ä¼šä½œä¸ºç¬¬ä¸€ä¸ªå‚æ•°è‡ªåŠ¨ä¼ ç»™ä¸‹ä¸€é¡¹ã€‚ç¬¬ä¸€æ¬¡è¿­ä»£å‘ç”Ÿåœ¨æ•°ç»„çš„ç¬¬äºŒé¡¹ä¸Šï¼Œå› æ­¤ç¬¬ä¸€ä¸ªå‚æ•°æ˜¯æ•°ç»„çš„ç¬¬ä¸€é¡¹ï¼Œç¬¬äºŒä¸ªå‚æ•°å°±æ˜¯æ•°ç»„çš„ç¬¬äºŒé¡¹ã€‚</span>
<span class="kd">var</span> <span class="nx">values</span> <span class="o">=</span> <span class="p">[</span><span class="mi">1</span><span class="p">,</span><span class="mi">2</span><span class="p">,</span><span class="mi">3</span><span class="p">,</span><span class="mi">4</span><span class="p">,</span><span class="mi">5</span><span class="p">];</span>
<span class="kd">var</span> <span class="nx">sum</span> <span class="o">=</span> <span class="nx">values</span><span class="p">.</span><span class="nx">reduce</span><span class="p">(</span><span class="kd">function</span><span class="p">(</span><span class="nx">prev</span><span class="p">,</span> <span class="nx">cur</span><span class="p">,</span> <span class="nx">index</span><span class="p">,</span> <span class="nx">array</span><span class="p">){</span>
  <span class="k">return</span> <span class="nx">prev</span> <span class="o">+</span> <span class="nx">cur</span><span class="p">;</span>
<span class="p">});</span>
<span class="nx">alert</span><span class="p">(</span><span class="nx">sum</span><span class="p">);</span> <span class="c1">//15</span>

<span class="nx">reduceRight</span><span class="p">()</span>
</code></pre></div></div>

<h2 id="å®šä¹‰javascriptå‡½æ•°çš„æ–¹å¼">å®šä¹‰JavaScriptå‡½æ•°çš„æ–¹å¼</h2>

<p>å‡½æ•°å®é™…ä¸Šæ˜¯å¯¹è±¡ã€‚æ¯ä¸ªå‡½æ•°éƒ½æ˜¯ Function ç±»å‹çš„å®ä¾‹ï¼Œè€Œä¸”éƒ½ä¸å…¶ä»–å¼•ç”¨ç±»å‹ä¸€æ ·å…·æœ‰å±æ€§å’Œæ–¹æ³•ã€‚ç”±äºå‡½
æ•°æ˜¯å¯¹è±¡ï¼Œå› æ­¤å‡½æ•°åå®é™…ä¸Šä¹Ÿæ˜¯ä¸€ä¸ªæŒ‡å‘å‡½æ•°å¯¹è±¡çš„æŒ‡é’ˆï¼Œä¸ä¼šä¸æŸä¸ªå‡½æ•°ç»‘å®šï¼š</p>
<div class="language-javascript highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kd">function</span> <span class="nx">sum</span> <span class="p">(</span><span class="nx">num1</span><span class="p">,</span> <span class="nx">num2</span><span class="p">)</span> <span class="p">{</span>
  <span class="k">return</span> <span class="nx">num1</span> <span class="o">+</span> <span class="nx">num2</span><span class="p">;</span>
<span class="p">}</span>
</code></pre></div></div>

<p>è¿™ä¸ä¸‹é¢ä½¿ç”¨å‡½æ•°è¡¨è¾¾å¼å®šä¹‰å‡½æ•°çš„æ–¹å¼å‡ ä¹ç›¸å·®æ— å‡ ï¼ˆæ³¨æ„å‡½æ•°æœ«å°¾æœ‰ä¸€ä¸ªåˆ†å·ï¼‰</p>
<div class="language-javascript highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c1">// åœ¨ä½¿ç”¨å‡½æ•°è¡¨è¾¾å¼å®šä¹‰å‡½æ•°æ—¶ï¼Œæ²¡æœ‰å¿…è¦ä½¿ç”¨å‡½æ•°å</span>
<span class="kd">var</span> <span class="nx">sum</span> <span class="o">=</span> <span class="kd">function</span><span class="p">(</span><span class="nx">num1</span><span class="p">,</span> <span class="nx">num2</span><span class="p">){</span>
  <span class="k">return</span> <span class="nx">num1</span> <span class="o">+</span> <span class="nx">num2</span><span class="p">;</span>
<span class="p">};</span>
</code></pre></div></div>

<p>ä¹Ÿå¯ä»¥ä½¿ç”¨ Function æ„é€ å‡½æ•°æ¥å®šä¹‰å‡½æ•°ï¼š</p>
<div class="language-javascript highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kd">var</span> <span class="nx">sum</span> <span class="o">=</span> <span class="k">new</span> <span class="nb">Function</span><span class="p">(</span><span class="dl">"</span><span class="s2">num1</span><span class="dl">"</span><span class="p">,</span> <span class="dl">"</span><span class="s2">num2</span><span class="dl">"</span><span class="p">,</span> <span class="dl">"</span><span class="s2">return num1 + num2</span><span class="dl">"</span><span class="p">);</span> <span class="c1">// ä¸æ¨è</span>
</code></pre></div></div>
<p>ä¸æ¨èä½¿ç”¨è¿™ç§æ–¹æ³•å®šä¹‰å‡½æ•°ï¼Œå› ä¸ºè¿™ç§è¯­æ³•ä¼šå¯¼è‡´è§£æä¸¤æ¬¡ä»£ç ï¼ˆç¬¬ä¸€æ¬¡æ˜¯è§£æå¸¸è§„ ECMAScriptä»£ç ï¼Œç¬¬äºŒæ¬¡æ˜¯è§£æä¼ å…¥æ„é€ å‡½æ•°ä¸­çš„å­—ç¬¦ä¸²ï¼‰ï¼Œä»è€Œå½±å“æ€§èƒ½ã€‚</p>

<p>è§£æå™¨åœ¨å‘æ‰§è¡Œç¯å¢ƒä¸­åŠ è½½æ•°æ®æ—¶ï¼Œå¯¹å‡½æ•°å£°æ˜å’Œå‡½æ•°è¡¨è¾¾å¼å¹¶éä¸€è§†åŒä»ã€‚è§£æå™¨ä¼šç‡å…ˆè¯»å–å‡½æ•°å£°æ˜ï¼Œå¹¶ä½¿å…¶åœ¨æ‰§è¡Œä»»ä½•ä»£ç ä¹‹å‰å¯ç”¨ï¼ˆå¯ä»¥è®¿é—®ï¼‰ï¼›è‡³äºå‡½æ•°è¡¨è¾¾å¼ï¼Œåˆ™å¿…é¡»ç­‰åˆ°è§£æå™¨æ‰§è¡Œåˆ°å®ƒæ‰€åœ¨çš„ä»£ç è¡Œï¼Œæ‰ä¼šçœŸ
æ­£è¢«è§£é‡Šæ‰§è¡Œ</p>
<div class="language-javascript highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nx">alert</span><span class="p">(</span><span class="nx">sum</span><span class="p">(</span><span class="mi">10</span><span class="p">,</span><span class="mi">10</span><span class="p">));</span>  <span class="c1">// OK</span>
<span class="kd">function</span> <span class="nx">sum</span><span class="p">(</span><span class="nx">num1</span><span class="p">,</span> <span class="nx">num2</span><span class="p">){</span>
  <span class="k">return</span> <span class="nx">num1</span> <span class="o">+</span> <span class="nx">num2</span><span class="p">;</span>
<span class="p">}</span>
</code></pre></div></div>

<p>åœ¨ä»£ç å¼€å§‹æ‰§è¡Œä¹‹å‰ï¼Œè§£æå™¨å°±å·²ç»é€šè¿‡ä¸€ä¸ªåä¸ºå‡½æ•°å£°æ˜æå‡ï¼ˆfunction declaration hoistingï¼‰çš„è¿‡ç¨‹ï¼Œè¯»å–å¹¶å°†å‡½æ•°å£°æ˜æ·»åŠ åˆ°æ‰§è¡Œç¯å¢ƒä¸­ã€‚</p>
<div class="language-javascript highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nx">alert</span><span class="p">(</span><span class="nx">sum</span><span class="p">(</span><span class="mi">10</span><span class="p">,</span><span class="mi">10</span><span class="p">));</span> <span class="c1">// FAILED</span>
  <span class="kd">var</span> <span class="nx">sum</span> <span class="o">=</span> <span class="kd">function</span><span class="p">(</span><span class="nx">num1</span><span class="p">,</span> <span class="nx">num2</span><span class="p">){</span>
  <span class="k">return</span> <span class="nx">num1</span> <span class="o">+</span> <span class="nx">num2</span><span class="p">;</span>
<span class="p">};</span>
</code></pre></div></div>

<h2 id="javascriptå‡½æ•°æ‹¥æœ‰çš„å±æ€§å’Œæ–¹æ³•">JavaScriptå‡½æ•°æ‹¥æœ‰çš„å±æ€§å’Œæ–¹æ³•</h2>
<div class="language-javascript highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nx">arguments</span>   <span class="c1">//åŒ…å«ç€ä¼ å…¥å‡½æ•°ä¸­çš„æ‰€æœ‰å‚æ•°ã€‚</span>
            <span class="c1">// è¿™ä¸ªå¯¹è±¡è¿˜æœ‰ä¸€ä¸ªåå« callee çš„å±æ€§ï¼Œè¯¥å±æ€§æ˜¯ä¸€ä¸ªæŒ‡é’ˆï¼ŒæŒ‡å‘æ‹¥æœ‰è¿™ä¸ª arguments å¯¹è±¡çš„å‡½æ•°</span>
<span class="k">this</span>      <span class="c1">// æŒ‡å‘å‡½æ•°æ®ä»¥æ‰§è¡Œçš„`ç¯å¢ƒå¯¹è±¡`</span>
<span class="nx">caller</span>      <span class="c1">// ä¿å­˜ç€è°ƒç”¨å½“å‰å‡½æ•°çš„å‡½æ•°çš„å¼•ç”¨</span>
<span class="nx">length</span>      <span class="c1">// è¡¨ç¤ºå‡½æ•°å¸Œæœ›æ¥æ”¶çš„å‘½åå‚æ•°çš„ä¸ªæ•°</span>
<span class="nx">prototype</span>   <span class="c1">// ï¼ˆæ‰€æœ‰å¼•ç”¨ç±»å‹ï¼‰ä¿å­˜æ‰€æœ‰å®ä¾‹æ–¹æ³•çš„çœŸæ­£æ‰€åœ¨, prototype å±æ€§æ˜¯ä¸å¯æšä¸¾çš„ï¼Œå› æ­¤ä½¿ç”¨ for-in æ— æ³•å‘ç°</span>

<span class="nx">apply</span><span class="p">()</span>     <span class="c1">// åœ¨ç‰¹å®šçš„ä½œç”¨åŸŸä¸­è°ƒç”¨å‡½æ•°ï¼Œæ¥æ”¶ä¸¤ä¸ªå‚æ•°ï¼šä¸€ä¸ªæ˜¯åœ¨å…¶ä¸­è¿è¡Œå‡½æ•°çš„ä½œç”¨åŸŸï¼Œå¦ä¸€ä¸ªæ˜¯å‚æ•°æ•°ç»„</span>
<span class="nx">call</span><span class="p">()</span>      <span class="c1">// ä¼ é€’ç»™å‡½æ•°çš„å‚æ•°å¿…é¡»é€ä¸ªåˆ—ä¸¾å‡º</span>
<span class="nx">bind</span><span class="p">()</span>      <span class="c1">// åˆ›å»ºä¸€ä¸ªå‡½æ•°çš„å®ä¾‹ï¼Œå…¶ this å€¼ä¼šè¢«ç»‘å®šåˆ°ä¼ ç»™ bind() å‡½æ•°çš„å€¼</span>
</code></pre></div></div>
<p>å‡½æ•°ç»§æ‰¿çš„ toLocaleString() å’Œ toString() ï¼ŒvalueOf()æ–¹æ³•å§‹ç»ˆéƒ½è¿”å›å‡½æ•°çš„ä»£ç </p>

<h2 id="åŸºæœ¬åŒ…è£…ç±»å‹">åŸºæœ¬åŒ…è£…ç±»å‹</h2>
<p>ä¸ºäº†ä¾¿äºæ“ä½œåŸºæœ¬ç±»å‹å€¼ï¼ŒECMAScript è¿˜æä¾›äº† 3 ä¸ªç‰¹æ®Šçš„å¼•ç”¨ç±»å‹ï¼š Boolean ã€ Number å’Œ
String ã€‚å®é™…ä¸Šï¼Œ<code class="language-plaintext highlighter-rouge">æ¯å½“è¯»å–ä¸€ä¸ªåŸºæœ¬ç±»å‹å€¼çš„æ—¶å€™ï¼Œåå°å°±ä¼šåˆ›å»ºä¸€ä¸ªå¯¹åº”çš„åŸºæœ¬åŒ…è£…ç±»å‹çš„å¯¹è±¡</code>ï¼Œä»è€Œè®©æˆ‘ä»¬
èƒ½å¤Ÿè°ƒç”¨ä¸€äº›æ–¹æ³•æ¥æ“ä½œè¿™äº›æ•°æ®ã€‚æ¥çœ‹ä¸‹é¢çš„ä¾‹å­ã€‚</p>
<div class="language-javascript highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kd">var</span> <span class="nx">s1</span> <span class="o">=</span> <span class="dl">"</span><span class="s2">some text</span><span class="dl">"</span><span class="p">;</span>
<span class="kd">var</span> <span class="nx">s2</span> <span class="o">=</span> <span class="nx">s1</span><span class="p">.</span><span class="nx">substring</span><span class="p">(</span><span class="mi">2</span><span class="p">);</span>
</code></pre></div></div>

<p>å¯ä»¥å°†ä»¥ä¸Šä¸‰ä¸ªæ­¥éª¤æƒ³è±¡æˆæ˜¯æ‰§è¡Œäº†ä¸‹åˆ— ECMAScript ä»£ç ã€‚</p>
<div class="language-javascript highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kd">var</span> <span class="nx">s1</span> <span class="o">=</span> <span class="k">new</span> <span class="nb">String</span><span class="p">(</span><span class="dl">"</span><span class="s2">some text</span><span class="dl">"</span><span class="p">);</span>
<span class="kd">var</span> <span class="nx">s2</span> <span class="o">=</span> <span class="nx">s1</span><span class="p">.</span><span class="nx">substring</span><span class="p">(</span><span class="mi">2</span><span class="p">);</span>
<span class="nx">s1</span> <span class="o">=</span> <span class="kc">null</span><span class="p">;</span>
</code></pre></div></div>

<p>å¼•ç”¨ç±»å‹ä¸åŸºæœ¬åŒ…è£…ç±»å‹çš„ä¸»è¦åŒºåˆ«å°±æ˜¯å¯¹è±¡çš„ç”Ÿå­˜æœŸã€‚ä½¿ç”¨ new æ“ä½œç¬¦åˆ›å»ºçš„å¼•ç”¨ç±»å‹çš„å®ä¾‹ï¼Œåœ¨æ‰§è¡Œæµç¦»å¼€å½“å‰ä½œç”¨åŸŸä¹‹å‰éƒ½ä¸€ç›´ä¿å­˜åœ¨å†…å­˜ä¸­ã€‚è€Œ<code class="language-plaintext highlighter-rouge">è‡ªåŠ¨åˆ›å»ºçš„åŸºæœ¬åŒ…è£…ç±»å‹çš„å¯¹è±¡ï¼Œåˆ™åªå­˜åœ¨äºä¸€è¡Œä»£ç çš„æ‰§è¡Œç¬é—´ï¼Œç„¶åç«‹å³è¢«é”€æ¯</code>ã€‚è¿™æ„å‘³ç€æˆ‘ä»¬ä¸èƒ½åœ¨è¿è¡Œæ—¶ä¸ºåŸºæœ¬ç±»å‹å€¼æ·»åŠ å±æ€§å’Œæ–¹æ³•ã€‚</p>
<div class="language-javascript highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kd">var</span> <span class="nx">s1</span> <span class="o">=</span> <span class="dl">"</span><span class="s2">some text</span><span class="dl">"</span><span class="p">;</span>
<span class="nx">s1</span><span class="p">.</span><span class="nx">color</span> <span class="o">=</span> <span class="dl">"</span><span class="s2">red</span><span class="dl">"</span><span class="p">;</span>
<span class="nx">alert</span><span class="p">(</span><span class="nx">s1</span><span class="p">.</span><span class="nx">color</span><span class="p">);</span> <span class="c1">//undefined</span>
</code></pre></div></div>
<p>ç¬¬äºŒè¡Œåˆ›å»ºçš„ String å¯¹è±¡åœ¨æ‰§è¡Œç¬¬ä¸‰è¡Œä»£ç æ—¶å·²ç»è¢«é”€æ¯äº†ã€‚ç¬¬ä¸‰è¡Œä»£ç åˆåˆ›å»ºè‡ªå·±çš„ String å¯¹è±¡ï¼Œè€Œè¯¥å¯¹è±¡æ²¡æœ‰ color å±æ€§ã€‚</p>

<p>Object æ„é€ å‡½æ•°ä¹Ÿä¼šåƒå·¥å‚æ–¹æ³•ä¸€æ ·ï¼Œæ ¹æ®ä¼ å…¥å€¼çš„ç±»å‹è¿”å›ç›¸åº”åŸºæœ¬åŒ…è£…ç±»å‹çš„å®ä¾‹ã€‚ä¾‹å¦‚ï¼š</p>
<div class="language-javascript highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kd">var</span> <span class="nx">obj</span> <span class="o">=</span> <span class="k">new</span> <span class="nb">Object</span><span class="p">(</span><span class="dl">"</span><span class="s2">some text</span><span class="dl">"</span><span class="p">);</span>
<span class="nx">alert</span><span class="p">(</span><span class="nx">obj</span> <span class="k">instanceof</span> <span class="nb">String</span><span class="p">);</span> <span class="c1">//true</span>
</code></pre></div></div>

<p>ä½¿ç”¨ new è°ƒç”¨åŸºæœ¬åŒ…è£…ç±»å‹çš„æ„é€ å‡½æ•°ï¼Œä¸ç›´æ¥è°ƒç”¨åŒåçš„è½¬å‹å‡½æ•°æ˜¯ä¸ä¸€æ ·çš„ã€‚
ä¾‹å¦‚ï¼š</p>
<div class="language-javascript highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kd">var</span> <span class="nx">value</span> <span class="o">=</span> <span class="dl">"</span><span class="s2">25</span><span class="dl">"</span><span class="p">;</span>
<span class="kd">var</span> <span class="nx">number</span> <span class="o">=</span> <span class="nb">Number</span><span class="p">(</span><span class="nx">value</span><span class="p">);</span> <span class="c1">//è½¬å‹å‡½æ•°</span>
<span class="nx">alert</span><span class="p">(</span><span class="k">typeof</span> <span class="nx">number</span><span class="p">);</span> <span class="c1">//"number"</span>
<span class="kd">var</span> <span class="nx">obj</span> <span class="o">=</span> <span class="k">new</span> <span class="nb">Number</span><span class="p">(</span><span class="nx">value</span><span class="p">);</span> <span class="c1">//æ„é€ å‡½æ•°</span>
<span class="nx">alert</span><span class="p">(</span><span class="k">typeof</span> <span class="nx">obj</span><span class="p">);</span> <span class="c1">//"object"</span>
</code></pre></div></div>

<h2 id="ä¸ºä»€ä¹ˆè¯´boolean-å¯¹è±¡åœ¨-ecmascript-ä¸­çš„ç”¨å¤„ä¸å¤§">ä¸ºä»€ä¹ˆè¯´Boolean å¯¹è±¡åœ¨ ECMAScript ä¸­çš„ç”¨å¤„ä¸å¤§ï¼Ÿ</h2>
<div class="language-javascript highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kd">var</span> <span class="nx">falseObject</span> <span class="o">=</span> <span class="k">new</span> <span class="nb">Boolean</span><span class="p">(</span><span class="kc">false</span><span class="p">);</span>
<span class="kd">var</span> <span class="nx">result</span> <span class="o">=</span> <span class="nx">falseObject</span> <span class="o">&amp;&amp;</span> <span class="kc">true</span><span class="p">;</span>
<span class="nx">alert</span><span class="p">(</span><span class="nx">result</span><span class="p">);</span> <span class="c1">//true</span>
<span class="kd">var</span> <span class="nx">falseValue</span> <span class="o">=</span> <span class="kc">false</span><span class="p">;</span>
<span class="nx">result</span> <span class="o">=</span> <span class="nx">falseValue</span> <span class="o">&amp;&amp;</span> <span class="kc">true</span><span class="p">;</span>
<span class="nx">alert</span><span class="p">(</span><span class="nx">result</span><span class="p">);</span> <span class="c1">//false</span>
<span class="nx">alert</span><span class="p">(</span><span class="k">typeof</span> <span class="nx">falseObject</span><span class="p">);</span> <span class="c1">//object</span>
<span class="nx">alert</span><span class="p">(</span><span class="k">typeof</span> <span class="nx">falseValue</span><span class="p">);</span> <span class="c1">//boolean</span>
<span class="nx">alert</span><span class="p">(</span><span class="nx">falseObject</span> <span class="k">instanceof</span> <span class="nb">Boolean</span><span class="p">);</span> <span class="c1">//true</span>
<span class="nx">alert</span><span class="p">(</span><span class="nx">falseValue</span> <span class="k">instanceof</span> <span class="nb">Boolean</span><span class="p">);</span> <span class="c1">//false</span>
</code></pre></div></div>
<p><code class="language-plaintext highlighter-rouge">å¸ƒå°”è¡¨è¾¾å¼ä¸­çš„æ‰€æœ‰å¯¹è±¡éƒ½ä¼šè¢«è½¬æ¢ä¸º true</code> ï¼Œå› æ­¤ false Object å¯¹è±¡åœ¨å¸ƒå°”è¡¨è¾¾å¼ä¸­ä»£è¡¨çš„æ˜¯ true ã€‚
å»ºè®®æ˜¯æ°¸è¿œä¸è¦ä½¿ç”¨ Boolean å¯¹è±¡ã€‚</p>

<p>ä¸å»ºè®®ç›´æ¥å®ä¾‹åŒ– Number ç±»å‹ï¼Œè€ŒåŸå› ä¸æ˜¾å¼åˆ›å»º Boolean å¯¹è±¡ä¸€æ ·ï¼šåœ¨ä½¿ç”¨typeof å’Œ instanceof æ“ä½œç¬¦æµ‹è¯•åŸºæœ¬ç±»å‹æ•°å€¼ä¸å¼•ç”¨ç±»å‹æ•°å€¼æ—¶ï¼Œå¾—åˆ°çš„ç»“æœå®Œå…¨ä¸åŒã€‚</p>

<h2 id="stringç±»å‹çš„å®ä¾‹çš„å±æ€§å’Œæ–¹æ³•">Stringç±»å‹çš„å®ä¾‹çš„å±æ€§å’Œæ–¹æ³•</h2>
<div class="language-javascript highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nx">length</span> <span class="c1">// è¡¨ç¤ºå­—ç¬¦ä¸²ä¸­åŒ…å«å¤šä¸ªå­—ç¬¦, å³ä½¿å­—ç¬¦ä¸²ä¸­åŒ…å«åŒå­—èŠ‚å­—ç¬¦ï¼ˆä¸æ˜¯å ä¸€ä¸ªå­—èŠ‚çš„ ASCII å­—ç¬¦ï¼‰ï¼Œæ¯ä¸ªå­—ç¬¦ä¹Ÿä»ç„¶ç®—ä¸€ä¸ªå­—ç¬¦</span>

<span class="nx">charAt</span><span class="p">()</span> <span class="c1">// è¿”å›å­—ç¬¦ï¼ˆä¹Ÿå¯ä»¥ä½¿ç”¨æ–¹æ‹¬å·åŠ æ•°å­—ç´¢å¼•æ¥è®¿é—®å­—ç¬¦ä¸²ä¸­çš„ç‰¹å®šå­—ç¬¦ï¼‰</span>
<span class="nx">charCodeAt</span><span class="p">()</span> <span class="c1">// è¿”å›å­—ç¬¦çš„ç¼–ç </span>

<span class="nx">concat</span><span class="p">()</span> <span class="c1">// ç”¨äºå°†ä¸€æˆ–å¤šä¸ªå­—ç¬¦ä¸²æ‹¼æ¥èµ·æ¥ï¼ˆæ›´å¤šçš„æ˜¯ç›´æ¥ä½¿ç”¨+æ“ä½œç¬¦ï¼‰</span>
<span class="nx">slice</span><span class="p">()</span> <span class="c1">// ç¬¬äºŒä¸ªå‚æ•°æŒ‡å®šçš„æ˜¯å­å­—ç¬¦ä¸²æœ€åä¸€ä¸ªå­—ç¬¦åé¢çš„ä½ç½®</span>
<span class="nx">substr</span><span class="p">()</span> <span class="c1">// ç¬¬äºŒä¸ªå‚æ•°æŒ‡å®šçš„æ˜¯è¿”å›çš„å­—ç¬¦ä¸ªæ•°</span>
<span class="nx">substring</span><span class="p">()</span> <span class="c1">// ç¬¬äºŒä¸ªå‚æ•°æŒ‡å®šçš„æ˜¯å­å­—ç¬¦ä¸²æœ€åä¸€ä¸ªå­—ç¬¦åé¢çš„ä½ç½®</span>

<span class="nx">indexOf</span><span class="p">()</span> <span class="c1">// å¯ä»¥æ¥æ”¶å¯é€‰çš„ç¬¬äºŒä¸ªå‚æ•°ï¼Œè¡¨ç¤ºä»å­—ç¬¦ä¸²ä¸­çš„å“ªä¸ªä½ç½®å¼€å§‹æœç´¢</span>
<span class="nx">lastIndexOf</span><span class="p">()</span>

<span class="nx">trim</span><span class="p">()</span> <span class="c1">//åˆ é™¤å‰ç½®åŠåç¼€çš„æ‰€æœ‰ç©ºæ ¼ï¼Œç„¶åè¿”å›ç»“æœ</span>

<span class="nx">toLowerCase</span><span class="p">()</span>
<span class="nx">toLocaleLowerCase</span><span class="p">()</span> 
<span class="nx">toUpperCase</span><span class="p">()</span> 
<span class="nx">toLocaleUpperCase</span><span class="p">()</span>

<span class="nx">match</span><span class="p">()</span> <span class="c1">// åœ¨å­—ç¬¦ä¸²ä¸Šè°ƒç”¨è¿™ä¸ªæ–¹æ³•ï¼Œæœ¬è´¨ä¸Šä¸è°ƒç”¨ RegExp çš„ exec() æ–¹æ³•ç›¸åŒï¼Œåªæ¥å—ä¸€ä¸ªå‚æ•°ï¼Œè¦ä¹ˆæ˜¯ä¸€</span>
<span class="nx">ä¸ªæ­£åˆ™è¡¨è¾¾å¼</span><span class="err">ï¼Œ</span><span class="nx">è¦ä¹ˆæ˜¯ä¸€ä¸ª</span> <span class="nb">RegExp</span> <span class="nx">å¯¹è±¡</span>
<span class="nx">search</span><span class="p">()</span> <span class="c1">// å‚æ•°ä¸matchç›¸åŒï¼Œè¿”å›å­—ç¬¦ä¸²ä¸­ç¬¬ä¸€ä¸ªåŒ¹é…é¡¹çš„ç´¢å¼•</span>

<span class="nx">replace</span><span class="p">()</span> <span class="c1">//ç¬¬ä¸€ä¸ªå‚æ•°å¯ä»¥æ˜¯ä¸€ä¸ª RegExp å¯¹è±¡æˆ–è€…ä¸€ä¸ªå­—ç¬¦ä¸²ï¼ˆè¿™ä¸ªå­—ç¬¦ä¸²ä¸ä¼šè¢«è½¬æ¢æˆæ­£åˆ™è¡¨è¾¾å¼ï¼‰ï¼Œç¬¬äºŒä¸ªå‚</span>
<span class="nx">æ•°å¯ä»¥æ˜¯ä¸€ä¸ªå­—ç¬¦ä¸²æˆ–è€…ä¸€ä¸ªå‡½æ•°</span><span class="err">ã€‚</span><span class="nx">å¦‚æœç¬¬ä¸€ä¸ªå‚æ•°æ˜¯å­—ç¬¦ä¸²</span><span class="err">ï¼Œ</span><span class="nx">é‚£ä¹ˆåªä¼šæ›¿æ¢ç¬¬ä¸€ä¸ªå­å­—ç¬¦ä¸²</span><span class="err">ã€‚</span><span class="nx">è¦æƒ³æ›¿</span>
<span class="nx">æ¢æ‰€æœ‰å­å­—ç¬¦ä¸²</span><span class="err">ï¼Œ</span><span class="nx">å”¯ä¸€çš„åŠæ³•å°±æ˜¯æä¾›ä¸€ä¸ªæ­£åˆ™è¡¨è¾¾å¼</span><span class="err">ï¼Œ</span><span class="nx">è€Œä¸”è¦æŒ‡å®šå…¨å±€</span><span class="err">ï¼ˆ</span> <span class="nx">g</span> <span class="err">ï¼‰</span><span class="nx">æ ‡å¿—</span>

<span class="nx">split</span><span class="p">()</span> <span class="c1">//åˆ†éš”ç¬¦å¯ä»¥æ˜¯å­—ç¬¦ä¸²ï¼Œä¹Ÿå¯ä»¥æ˜¯ä¸€ä¸ª RegExp å¯¹è±¡ï¼Œå¯ä»¥æ¥å—å¯é€‰çš„ç¬¬äºŒä¸ªå‚æ•°ï¼Œç”¨äºæŒ‡å®šæ•°ç»„çš„å¤§å°</span>

<span class="nb">String</span><span class="p">.</span><span class="nx">fromCharCode</span> <span class="c1">// String æ„é€ å‡½æ•°æœ¬èº«è¿˜æœ‰ä¸€ä¸ªé™æ€æ–¹æ³•ï¼Œä¸å®ä¾‹æ–¹æ³• charCodeAt()æ‰§è¡Œçš„æ˜¯ç›¸åçš„æ“ä½œ</span>
<span class="nx">alert</span><span class="p">(</span><span class="nb">String</span><span class="p">.</span><span class="nx">fromCharCode</span><span class="p">(</span><span class="mi">104</span><span class="p">,</span> <span class="mi">101</span><span class="p">,</span> <span class="mi">108</span><span class="p">,</span> <span class="mi">108</span><span class="p">,</span> <span class="mi">111</span><span class="p">));</span> <span class="c1">//"hello"</span>
</code></pre></div></div>

<h2 id="globalå¯¹è±¡çš„å±æ€§å’Œæ–¹æ³•">Globalå¯¹è±¡çš„å±æ€§å’Œæ–¹æ³•</h2>
<p>ECMAScript ä¸­çš„ Global å¯¹è±¡åœ¨æŸç§æ„ä¹‰ä¸Šæ˜¯ä½œä¸ºä¸€ä¸ªç»ˆæçš„â€œå…œåº•å„¿å¯¹è±¡â€æ¥å®šä¹‰çš„ã€‚æ¢å¥è¯è¯´ï¼Œä¸å±äºä»»ä½•å…¶ä»–å¯¹è±¡çš„å±æ€§å’Œæ–¹æ³•ï¼Œæœ€ç»ˆéƒ½æ˜¯å®ƒçš„å±æ€§å’Œæ–¹æ³•ã€‚äº‹å®ä¸Šï¼Œæ²¡æœ‰å…¨å±€å˜é‡æˆ–å…¨å±€å‡½æ•°ï¼›æ‰€æœ‰åœ¨å…¨å±€ä½œç”¨åŸŸä¸­å®šä¹‰çš„å±æ€§å’Œå‡½æ•°ï¼Œéƒ½æ˜¯ Global å¯¹è±¡çš„å±æ€§ã€‚åœ¨æ‰€æœ‰ä»£ç æ‰§è¡Œä¹‹å‰ï¼Œä½œç”¨åŸŸä¸­å°±å·²ç»å­˜åœ¨ä¸¤ä¸ªå†…ç½®å¯¹è±¡ï¼š Global å’Œ Math</p>
<div class="language-javascript highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nb">encodeURI</span><span class="p">()</span>  <span class="c1">// å¯¹ URIè¿›è¡Œç¼–ç ï¼Œä»¥ä¾¿å‘é€ç»™æµè§ˆå™¨ï¼Œä¸ä¼šå¯¹æœ¬èº«å±äº URI çš„ç‰¹æ®Šå­—ç¬¦è¿›è¡Œç¼–ç ï¼Œä¾‹å¦‚å†’å·ã€æ­£æ–œæ ã€é—®å·å’Œäº•å­—å·</span>
<span class="nb">encodeURIComponent</span><span class="p">()</span> <span class="c1">// ä¼šå¯¹å®ƒå‘ç°çš„ä»»ä½•éæ ‡å‡†å­—ç¬¦è¿›è¡Œç¼–ç </span>
<span class="nb">decodeURI</span><span class="p">()</span>
<span class="nb">decodeURIComponent</span><span class="p">()</span>
</code></pre></div></div>

<p>escape() å’Œ unescape()å·²ç»è¢«åºŸå¼ƒï¼Œå› ä¸ºå®ƒä»¬åªèƒ½å¤„ç†ASCII</p>
<div class="language-javascript highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nb">eval</span><span class="p">()</span> <span class="c1">// å°±åƒæ˜¯ä¸€ä¸ªå®Œæ•´çš„ ECMAScript è§£æå™¨ï¼Œå®ƒåªæ¥å—ä¸€ä¸ªå‚æ•°ï¼Œå³è¦æ‰§è¡Œçš„ ECMAScriptå­—ç¬¦ä¸²ã€‚å½“è§£æå™¨å‘ç°ä»£ç ä¸­è°ƒç”¨ eval() æ–¹æ³•æ—¶ï¼Œå®ƒä¼šå°†ä¼ å…¥çš„å‚æ•°å½“ä½œå®é™…çš„ ECMAScript è¯­å¥æ¥è§£æï¼Œç„¶åæŠŠæ‰§è¡Œç»“æœæ’å…¥åˆ°åŸä½ç½®ã€‚é€šè¿‡ eval() æ‰§è¡Œçš„ä»£ç è¢«è®¤ä¸ºæ˜¯åŒ…å«è¯¥æ¬¡è°ƒç”¨çš„æ‰§è¡Œç¯å¢ƒçš„ä¸€éƒ¨åˆ†ï¼Œå› æ­¤è¢«æ‰§è¡Œçš„ä»£ç å…·æœ‰ä¸è¯¥æ‰§è¡Œç¯å¢ƒç›¸åŒçš„ä½œç”¨åŸŸé“¾ã€‚è¿™æ„å‘³ç€é€šè¿‡ eval() æ‰§è¡Œçš„ä»£ç å¯ä»¥å¼•ç”¨åœ¨åŒ…å«ç¯å¢ƒä¸­å®šä¹‰çš„å˜é‡ï¼š</span>
<span class="kd">var</span> <span class="nx">msg</span> <span class="o">=</span> <span class="dl">"</span><span class="s2">hello world</span><span class="dl">"</span><span class="p">;</span>
<span class="nb">eval</span><span class="p">(</span><span class="dl">"</span><span class="s2">alert(msg)</span><span class="dl">"</span><span class="p">);</span> <span class="c1">//"hello world"</span>

<span class="nb">eval</span><span class="p">(</span><span class="dl">"</span><span class="s2">function sayHi() { alert('hi'); }</span><span class="dl">"</span><span class="p">);</span>
<span class="nx">sayHi</span><span class="p">();</span>
</code></pre></div></div>
<p>åœ¨ eval() ä¸­åˆ›å»ºçš„ä»»ä½•å˜é‡æˆ–å‡½æ•°éƒ½ä¸ä¼šè¢«æå‡ï¼Œå› ä¸ºåœ¨è§£æä»£ç çš„æ—¶å€™ï¼Œå®ƒä»¬è¢«åŒ…å«åœ¨ä¸€ä¸ªå­—ç¬¦ä¸²ä¸­ï¼›å®ƒä»¬åªåœ¨ eval() æ‰§è¡Œçš„æ—¶å€™åˆ›å»ºã€‚</p>

<p>undefined
NaN
Infinity
æ‰€æœ‰åŸç”Ÿå¼•ç”¨ç±»å‹çš„æ„é€ å‡½æ•°ï¼ŒåƒObject ã€Functionã€å„ç§Error ï¼Œä¹Ÿéƒ½æ˜¯ Global å¯¹è±¡çš„å±æ€§</p>

<h2 id="globalå¯¹è±¡ä¸windowså¯¹è±¡æœ‰ä»€ä¹ˆåŒºåˆ«">Globalå¯¹è±¡ä¸Windowså¯¹è±¡æœ‰ä»€ä¹ˆåŒºåˆ«ï¼Ÿ</h2>
<p>åœ¨å¤§å¤šæ•° ECMAScriptå®ç°ä¸­éƒ½ä¸èƒ½ç›´æ¥è®¿é—® Global å¯¹è±¡ï¼›ä¸è¿‡ï¼ŒWeb æµè§ˆå™¨å®ç°äº†æ‰¿æ‹…è¯¥è§’è‰²çš„ window å¯¹è±¡ã€‚å…¨å±€å˜é‡å’Œå‡½æ•°éƒ½æ˜¯ Global å¯¹è±¡çš„å±æ€§ã€‚Web æµè§ˆå™¨éƒ½æ˜¯å°†Globalå…¨å±€å¯¹è±¡ä½œä¸ºwindow å¯¹è±¡çš„ä¸€éƒ¨åˆ†åŠ ä»¥å®ç°çš„ã€‚å› æ­¤ï¼Œåœ¨å…¨å±€ä½œç”¨åŸŸä¸­å£°æ˜çš„æ‰€æœ‰å˜é‡å’Œå‡½æ•°ï¼Œå°±éƒ½æˆä¸ºäº† windowå¯¹è±¡çš„å±æ€§ï¼š</p>
<div class="language-javascript highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kd">var</span> <span class="nx">color</span> <span class="o">=</span> <span class="dl">"</span><span class="s2">red</span><span class="dl">"</span><span class="p">;</span>
<span class="kd">function</span> <span class="nx">sayColor</span><span class="p">(){</span>
  <span class="nx">alert</span><span class="p">(</span><span class="nb">window</span><span class="p">.</span><span class="nx">color</span><span class="p">);</span>
<span class="p">}</span>
<span class="nb">window</span><span class="p">.</span><span class="nx">sayColor</span><span class="p">();</span> <span class="c1">//"red"</span>
</code></pre></div></div>
<p>JavaScriptä¸­çš„ window å¯¹è±¡é™¤äº†æ‰®æ¼”ECMAScriptè§„å®šçš„ Global å¯¹è±¡çš„è§’è‰²å¤–ï¼Œè¿˜æ‰¿æ‹…äº†å¾ˆå¤šåˆ«çš„ä»»åŠ¡ã€‚</p>

<p>å¦ä¸€ç§å–å¾— Global å¯¹è±¡çš„æ–¹æ³•æ˜¯ä½¿ç”¨ä»¥ä¸‹ä»£ç ï¼š</p>
<div class="language-javascript highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c1">// ç«‹å³è°ƒç”¨çš„å‡½æ•°è¡¨è¾¾å¼</span>
<span class="kd">var</span> <span class="nb">global</span> <span class="o">=</span> <span class="kd">function</span><span class="p">(){</span>
<span class="k">return</span> <span class="k">this</span><span class="p">;</span>
<span class="p">}();</span>
</code></pre></div></div>

<h2 id="ä»€ä¹ˆæ˜¯attributeä¸propertyæœ‰ä»€ä¹ˆå…³ç³»æœ‰å“ªäº›attributeæœ‰å“ªäº›property">ä»€ä¹ˆæ˜¯attributeï¼Ÿä¸propertyæœ‰ä»€ä¹ˆå…³ç³»ï¼Ÿæœ‰å“ªäº›attributeï¼Ÿæœ‰å“ªäº›propertyï¼Ÿ</h2>
<p>ç‰¹æ€§ï¼ˆattributeï¼‰ç”¨æ¥<code class="language-plaintext highlighter-rouge">æè¿°å±æ€§ï¼ˆpropertyï¼‰çš„å„ç§ç‰¹å¾</code>ï¼Œç‰¹æ€§æ˜¯ä¸ºäº†å®ç° JavaScript å¼•æ“ç”¨çš„ï¼Œå› æ­¤åœ¨ JavaScript ä¸­ä¸èƒ½ç›´æ¥è®¿é—®å®ƒä»¬ã€‚ä¸ºäº†è¡¨ç¤ºç‰¹æ€§æ˜¯å†…éƒ¨å€¼ï¼ŒECMA-262è§„èŒƒæŠŠå®ƒä»¬æ”¾åœ¨äº†ä¸¤å¯¹æ–¹æ‹¬å·ä¸­ï¼Œä¾‹å¦‚ [[Enumerable]]</p>

<p>ECMAScript ä¸­æœ‰ä¸¤ç§å±æ€§ï¼šæ•°æ®å±æ€§å’Œè®¿é—®å™¨å±æ€§ã€‚
æ•°æ®å±æ€§åŒ…å«ä¸€ä¸ªæ•°æ®å€¼çš„ä½ç½®ã€‚åœ¨è¿™ä¸ªä½ç½®å¯ä»¥è¯»å–å’Œå†™å…¥å€¼ã€‚æ•°æ®å±æ€§æœ‰ 4 ä¸ªæè¿°å…¶è¡Œä¸ºçš„
ç‰¹æ€§ã€‚</p>
<div class="language-javascript highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="p">[[</span><span class="nx">Configurable</span><span class="p">]]</span> 
<span class="p">[[</span><span class="nx">Enumerable</span><span class="p">]]</span> 
<span class="p">[[</span><span class="nx">Writable</span><span class="p">]]</span> 
<span class="p">[[</span><span class="nx">Value</span><span class="p">]]</span> 
</code></pre></div></div>

<p>è¦ä¿®æ”¹å±æ€§é»˜è®¤çš„ç‰¹æ€§ï¼Œå¿…é¡»ä½¿ç”¨ ECMAScript 5 çš„ <code class="language-plaintext highlighter-rouge">Object.defineProperty()</code> æ–¹æ³•ï¼š</p>
<div class="language-javascript highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kd">var</span> <span class="nx">person</span> <span class="o">=</span> <span class="p">{};</span>
<span class="nb">Object</span><span class="p">.</span><span class="nx">defineProperty</span><span class="p">(</span><span class="nx">person</span><span class="p">,</span> <span class="dl">"</span><span class="s2">name</span><span class="dl">"</span><span class="p">,</span> <span class="p">{</span>
  <span class="na">writable</span><span class="p">:</span> <span class="kc">false</span><span class="p">,</span>
  <span class="na">value</span><span class="p">:</span> <span class="dl">"</span><span class="s2">Nicholas</span><span class="dl">"</span>
<span class="p">});</span>
<span class="nx">alert</span><span class="p">(</span><span class="nx">person</span><span class="p">.</span><span class="nx">name</span><span class="p">);</span> <span class="c1">//"Nicholas"</span>
<span class="nx">person</span><span class="p">.</span><span class="nx">name</span> <span class="o">=</span> <span class="dl">"</span><span class="s2">Greg</span><span class="dl">"</span><span class="p">;</span>
<span class="nx">alert</span><span class="p">(</span><span class="nx">person</span><span class="p">.</span><span class="nx">name</span><span class="p">);</span> <span class="c1">//"Nicholas"</span>
</code></pre></div></div>

<p>è®¿é—®å™¨å±æ€§ä¸åŒ…å«æ•°æ®å€¼ï¼›å®ƒä»¬åŒ…å«ä¸€å¯¹getterå’Œsetterå‡½æ•°ï¼ˆä¸è¿‡ï¼Œè¿™ä¸¤ä¸ªå‡½æ•°éƒ½ä¸æ˜¯å¿…éœ€çš„ï¼‰ã€‚è®¿é—®å™¨å±æ€§æœ‰å¦‚ä¸‹ 4 ä¸ªç‰¹æ€§ã€‚</p>
<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>[[Configurable]]
[[Enumerable]] 
[[Get]] 
[[Set]]
</code></pre></div></div>

<p>è®¿é—®å™¨å±æ€§ä¸èƒ½ç›´æ¥å®šä¹‰ï¼Œå¿…é¡»ä½¿ç”¨ Object.defineProperty() æ¥å®šä¹‰ã€‚</p>
<div class="language-javascript highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kd">var</span> <span class="nx">book</span> <span class="o">=</span> <span class="p">{</span>
  <span class="na">_year</span><span class="p">:</span> <span class="mi">2004</span><span class="p">,</span>
  <span class="na">edition</span><span class="p">:</span> <span class="mi">1</span>
<span class="p">};</span>

<span class="nb">Object</span><span class="p">.</span><span class="nx">defineProperty</span><span class="p">(</span><span class="nx">book</span><span class="p">,</span> <span class="dl">"</span><span class="s2">year</span><span class="dl">"</span><span class="p">,</span> <span class="p">{</span>
  <span class="na">get</span><span class="p">:</span> <span class="kd">function</span><span class="p">(){</span>
    <span class="k">return</span> <span class="k">this</span><span class="p">.</span><span class="nx">_year</span><span class="p">;</span>
  <span class="p">},</span>

  <span class="na">set</span><span class="p">:</span> <span class="kd">function</span><span class="p">(</span><span class="nx">newValue</span><span class="p">){</span>
    <span class="k">if</span> <span class="p">(</span><span class="nx">newValue</span> <span class="o">&gt;</span> <span class="mi">2004</span><span class="p">)</span> <span class="p">{</span>
      <span class="k">this</span><span class="p">.</span><span class="nx">_year</span> <span class="o">=</span> <span class="nx">newValue</span><span class="p">;</span>
      <span class="k">this</span><span class="p">.</span><span class="nx">edition</span> <span class="o">+=</span> <span class="nx">newValue</span> <span class="o">-</span> <span class="mi">2004</span><span class="p">;</span>
    <span class="p">}</span>
  <span class="p">}</span>
<span class="p">});</span>
<span class="nx">book</span><span class="p">.</span><span class="nx">year</span> <span class="o">=</span> <span class="mi">2005</span><span class="p">;</span>
<span class="nx">alert</span><span class="p">(</span><span class="nx">book</span><span class="p">.</span><span class="nx">edition</span><span class="p">);</span> <span class="c1">//2</span>
</code></pre></div></div>
<p>ECMAScript 5 å®šä¹‰äº†ä¸€ä¸ª Object.defineProperties() æ–¹æ³•ã€‚åˆ©ç”¨è¿™ä¸ªæ–¹æ³•å¯ä»¥é€šè¿‡æè¿°ç¬¦ä¸€æ¬¡å®šä¹‰å¤šä¸ªå±æ€§ã€‚
ä½¿ç”¨ ECMAScript 5 çš„ Object.getOwnPropertyDescriptor() æ–¹æ³•ï¼Œå¯ä»¥å–å¾—ç»™å®šå±æ€§çš„æè¿°ç¬¦ã€‚</p>

<h2 id="æœ‰å“ªäº›åˆ›å»ºjavascriptå¯¹è±¡çš„æ¨¡å¼å„æœ‰ä»€ä¹ˆåˆ©å¼Š">æœ‰å“ªäº›åˆ›å»ºJavaScriptå¯¹è±¡çš„æ¨¡å¼ï¼Ÿå„æœ‰ä»€ä¹ˆåˆ©å¼Šï¼Ÿ</h2>
<p>å·¥å‚æ¨¡å¼</p>
<div class="language-javascript highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kd">function</span> <span class="nx">createPerson</span><span class="p">(</span><span class="nx">name</span><span class="p">,</span> <span class="nx">age</span><span class="p">,</span> <span class="nx">job</span><span class="p">){</span>
  <span class="kd">var</span> <span class="nx">o</span> <span class="o">=</span> <span class="k">new</span> <span class="nb">Object</span><span class="p">();</span>
  <span class="nx">o</span><span class="p">.</span><span class="nx">name</span> <span class="o">=</span> <span class="nx">name</span><span class="p">;</span>
  <span class="nx">o</span><span class="p">.</span><span class="nx">age</span> <span class="o">=</span> <span class="nx">age</span><span class="p">;</span>
  <span class="nx">o</span><span class="p">.</span><span class="nx">job</span> <span class="o">=</span> <span class="nx">job</span><span class="p">;</span>
  <span class="nx">o</span><span class="p">.</span><span class="nx">sayName</span> <span class="o">=</span> <span class="kd">function</span><span class="p">(){</span>
    <span class="nx">alert</span><span class="p">(</span><span class="k">this</span><span class="p">.</span><span class="nx">name</span><span class="p">);</span>
  <span class="p">};</span>
  <span class="k">return</span> <span class="nx">o</span><span class="p">;</span>
<span class="p">}</span>
<span class="kd">var</span> <span class="nx">person</span> <span class="o">=</span> <span class="nx">createPerson</span><span class="p">(</span><span class="dl">"</span><span class="s2">Nicholas</span><span class="dl">"</span><span class="p">,</span> <span class="mi">29</span><span class="p">,</span> <span class="dl">"</span><span class="s2">Software Engineer</span><span class="dl">"</span><span class="p">);</span>
<span class="kd">var</span> <span class="nx">person2</span> <span class="o">=</span> <span class="nx">createPerson</span><span class="p">(</span><span class="dl">"</span><span class="s2">Greg</span><span class="dl">"</span><span class="p">,</span> <span class="mi">27</span><span class="p">,</span> <span class="dl">"</span><span class="s2">Doctor</span><span class="dl">"</span><span class="p">);</span>
</code></pre></div></div>
<p>å·¥å‚æ¨¡å¼è™½ç„¶è§£å†³äº†åˆ›å»ºå¤šä¸ªç›¸ä¼¼å¯¹è±¡çš„é—®é¢˜ï¼Œä½†å´æ²¡æœ‰è§£å†³å¯¹è±¡è¯†åˆ«çš„é—®é¢˜ï¼ˆå³æ€æ ·çŸ¥é“ä¸€ä¸ªå¯¹è±¡çš„ç±»å‹ï¼‰ã€‚</p>

<p>æ„é€ å‡½æ•°æ¨¡å¼</p>
<div class="language-javascript highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kd">function</span> <span class="nx">Person</span><span class="p">(</span><span class="nx">name</span><span class="p">,</span> <span class="nx">age</span><span class="p">,</span> <span class="nx">job</span><span class="p">){</span>  <span class="c1">// æ²¡æœ‰ return è¯­å¥</span>
  <span class="k">this</span><span class="p">.</span><span class="nx">name</span> <span class="o">=</span> <span class="nx">name</span><span class="p">;</span>
  <span class="k">this</span><span class="p">.</span><span class="nx">age</span> <span class="o">=</span> <span class="nx">age</span><span class="p">;</span>
  <span class="k">this</span><span class="p">.</span><span class="nx">job</span> <span class="o">=</span> <span class="nx">job</span><span class="p">;</span>
  <span class="k">this</span><span class="p">.</span><span class="nx">sayName</span> <span class="o">=</span> <span class="kd">function</span><span class="p">(){</span>
    <span class="nx">alert</span><span class="p">(</span><span class="k">this</span><span class="p">.</span><span class="nx">name</span><span class="p">);</span>
  <span class="p">};</span>
<span class="p">}</span>
<span class="kd">var</span> <span class="nx">person1</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">Person</span><span class="p">(</span><span class="dl">"</span><span class="s2">Nicholas</span><span class="dl">"</span><span class="p">,</span> <span class="mi">29</span><span class="p">,</span> <span class="dl">"</span><span class="s2">Software Engineer</span><span class="dl">"</span><span class="p">);</span>
<span class="kd">var</span> <span class="nx">person2</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">Person</span><span class="p">(</span><span class="dl">"</span><span class="s2">Greg</span><span class="dl">"</span><span class="p">,</span> <span class="mi">27</span><span class="p">,</span> <span class="dl">"</span><span class="s2">Doctor</span><span class="dl">"</span><span class="p">);</span>
<span class="nx">alert</span><span class="p">(</span><span class="nx">person1</span><span class="p">.</span><span class="kd">constructor</span> <span class="o">==</span> <span class="nx">Person</span><span class="p">);</span> <span class="c1">//true</span>
<span class="nx">alert</span><span class="p">(</span><span class="nx">person2</span><span class="p">.</span><span class="kd">constructor</span> <span class="o">==</span> <span class="nx">Person</span><span class="p">);</span> <span class="c1">//true</span>
</code></pre></div></div>
<p>ä»¥new æ“ä½œç¬¦è°ƒç”¨æ„é€ å‡½æ•°å®é™…ä¸Šä¼šç»å†ä»¥ä¸‹ 4ä¸ªæ­¥éª¤ï¼š
(1) åˆ›å»ºä¸€ä¸ªæ–°å¯¹è±¡ï¼›
(2) å°†æ„é€ å‡½æ•°çš„ä½œç”¨åŸŸèµ‹ç»™æ–°å¯¹è±¡ï¼ˆå› æ­¤ this å°±æŒ‡å‘äº†è¿™ä¸ªæ–°å¯¹è±¡ï¼‰ï¼›
(3) æ‰§è¡Œæ„é€ å‡½æ•°ä¸­çš„ä»£ç ï¼ˆä¸ºè¿™ä¸ªæ–°å¯¹è±¡æ·»åŠ å±æ€§ï¼‰ï¼›
(4) è¿”å›æ–°å¯¹è±¡ã€‚</p>

<p>ä»»ä½•å‡½æ•°ï¼Œåªè¦é€šè¿‡ new æ“ä½œç¬¦æ¥è°ƒç”¨ï¼Œé‚£å®ƒå°±å¯ä»¥ä½œä¸ºæ„é€ å‡½æ•°ï¼›å¦‚æœä¸é€šè¿‡ new æ“ä½œç¬¦æ¥è°ƒç”¨ï¼Œé‚£å®ƒè·Ÿæ™®é€šå‡½æ•°ä¹Ÿä¸ä¼šæœ‰ä»€ä¹ˆä¸¤æ ·ã€‚
ä½¿ç”¨æ„é€ å‡½æ•°çš„ä¸»è¦é—®é¢˜ï¼Œå°±æ˜¯æ¯ä¸ªæ–¹æ³•éƒ½è¦åœ¨æ¯ä¸ªå®ä¾‹ä¸Šé‡æ–°åˆ›å»ºä¸€éã€‚</p>

<p>åŸå‹æ¨¡å¼
æ¯ä¸ªå‡½æ•°éƒ½æœ‰ä¸€ä¸ª prototype ï¼ˆåŸå‹ï¼‰å±æ€§ï¼Œè¿™ä¸ªå±æ€§æ˜¯ä¸€ä¸ªæŒ‡é’ˆï¼ŒæŒ‡å‘ä¸€ä¸ªå¯¹è±¡ï¼Œè€Œè¿™ä¸ªå¯¹è±¡çš„ç”¨é€”æ˜¯åŒ…å«å¯ä»¥ç”±ç‰¹å®šç±»å‹çš„æ‰€æœ‰å®ä¾‹å…±äº«çš„å±æ€§å’Œæ–¹æ³•ã€‚</p>
<div class="language-javascript highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kd">function</span> <span class="nx">Person</span><span class="p">(){</span>
<span class="p">}</span>
<span class="nx">Person</span><span class="p">.</span><span class="nx">prototype</span><span class="p">.</span><span class="nx">name</span> <span class="o">=</span> <span class="dl">"</span><span class="s2">Nicholas</span><span class="dl">"</span><span class="p">;</span>
<span class="nx">Person</span><span class="p">.</span><span class="nx">prototype</span><span class="p">.</span><span class="nx">age</span> <span class="o">=</span> <span class="mi">29</span><span class="p">;</span>
<span class="nx">Person</span><span class="p">.</span><span class="nx">prototype</span><span class="p">.</span><span class="nx">job</span> <span class="o">=</span> <span class="dl">"</span><span class="s2">Software Engineer</span><span class="dl">"</span><span class="p">;</span>
<span class="nx">Person</span><span class="p">.</span><span class="nx">prototype</span><span class="p">.</span><span class="nx">sayName</span> <span class="o">=</span> <span class="kd">function</span><span class="p">(){</span>
  <span class="nx">alert</span><span class="p">(</span><span class="k">this</span><span class="p">.</span><span class="nx">name</span><span class="p">);</span>
<span class="p">};</span>

<span class="kd">var</span> <span class="nx">person1</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">Person</span><span class="p">();</span>
<span class="nx">person1</span><span class="p">.</span><span class="nx">sayName</span><span class="p">();</span> <span class="c1">//"Nicholas"</span>
<span class="kd">var</span> <span class="nx">person2</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">Person</span><span class="p">();</span>
<span class="nx">person2</span><span class="p">.</span><span class="nx">sayName</span><span class="p">();</span> <span class="c1">//"Nicholas"</span>
<span class="nx">alert</span><span class="p">(</span><span class="nx">person1</span><span class="p">.</span><span class="nx">sayName</span> <span class="o">==</span> <span class="nx">person2</span><span class="p">.</span><span class="nx">sayName</span><span class="p">);</span> <span class="c1">//true</span>
</code></pre></div></div>

<p>å¯„ç”Ÿæ„é€ å‡½æ•°æ¨¡å¼
åŸºæœ¬æ€æƒ³æ˜¯åˆ›å»ºä¸€ä¸ªå‡½æ•°ï¼Œè¯¥å‡½æ•°çš„ä½œç”¨ä»…ä»…æ˜¯å°è£…åˆ›å»ºå¯¹è±¡çš„ä»£ç ï¼Œç„¶åå†è¿”å›æ–°åˆ›å»ºçš„å¯¹è±¡ï¼›ä½†ä»è¡¨é¢ä¸Šçœ‹ï¼Œè¿™ä¸ªå‡½æ•°åˆå¾ˆåƒæ˜¯å…¸å‹çš„æ„é€ å‡½æ•°ã€‚è¿”å›çš„å¯¹è±¡ä¸æ„é€ å‡½æ•°æˆ–è€…ä¸æ„é€ å‡½æ•°çš„åŸå‹å±æ€§ä¹‹é—´æ²¡æœ‰å…³ç³»ï¼›ä¹Ÿå°±æ˜¯è¯´ï¼Œæ„é€ å‡½æ•°è¿”å›çš„å¯¹è±¡ä¸åœ¨æ„é€ å‡½æ•°å¤–éƒ¨åˆ›å»ºçš„å¯¹è±¡æ²¡æœ‰ä»€ä¹ˆä¸åŒã€‚ä¸ºæ­¤ï¼Œä¸èƒ½ä¾èµ– instanceof æ“ä½œç¬¦æ¥ç¡®å®šå¯¹è±¡ç±»å‹ã€‚ç”±äºå­˜åœ¨ä¸Šè¿°é—®é¢˜ï¼Œå»ºè®®åœ¨å¯ä»¥ä½¿ç”¨å…¶ä»–æ¨¡å¼çš„æƒ…å†µä¸‹ï¼Œä¸è¦ä½¿ç”¨è¿™ç§æ¨¡å¼ã€‚</p>
<div class="language-javascript highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kd">function</span> <span class="nx">Person</span><span class="p">(</span><span class="nx">name</span><span class="p">,</span> <span class="nx">age</span><span class="p">,</span> <span class="nx">job</span><span class="p">){</span>
  <span class="kd">var</span> <span class="nx">o</span> <span class="o">=</span> <span class="k">new</span> <span class="nb">Object</span><span class="p">();</span>
  <span class="nx">o</span><span class="p">.</span><span class="nx">name</span> <span class="o">=</span> <span class="nx">name</span><span class="p">;</span>
  <span class="nx">o</span><span class="p">.</span><span class="nx">age</span> <span class="o">=</span> <span class="nx">age</span><span class="p">;</span>
  <span class="nx">o</span><span class="p">.</span><span class="nx">job</span> <span class="o">=</span> <span class="nx">job</span><span class="p">;</span>
  <span class="nx">o</span><span class="p">.</span><span class="nx">sayName</span> <span class="o">=</span> <span class="kd">function</span><span class="p">(){</span>
    <span class="nx">alert</span><span class="p">(</span><span class="k">this</span><span class="p">.</span><span class="nx">name</span><span class="p">);</span>
  <span class="p">};</span>
  <span class="k">return</span> <span class="nx">o</span><span class="p">;</span>
<span class="p">}</span>
<span class="kd">var</span> <span class="nx">friend</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">Person</span><span class="p">(</span><span class="dl">"</span><span class="s2">Nicholas</span><span class="dl">"</span><span class="p">,</span> <span class="mi">29</span><span class="p">,</span> <span class="dl">"</span><span class="s2">Software Engineer</span><span class="dl">"</span><span class="p">);</span>
<span class="nx">friend</span><span class="p">.</span><span class="nx">sayName</span><span class="p">();</span> <span class="c1">//"Nicholas"</span>
</code></pre></div></div>

<p>ç¨³å¦¥æ„é€ å‡½æ•°æ¨¡å¼
æ‰€è°“ç¨³å¦¥å¯¹è±¡ï¼ŒæŒ‡çš„æ˜¯æ²¡æœ‰å…¬å…±å±æ€§ï¼Œè€Œä¸”å…¶æ–¹æ³•ä¹Ÿä¸å¼•ç”¨ this çš„å¯¹è±¡ã€‚
ç¨³å¦¥æ„é€ å‡½æ•°éµå¾ªä¸å¯„ç”Ÿæ„é€ å‡½æ•°ç±»ä¼¼çš„æ¨¡å¼ï¼Œä½†æœ‰ä¸¤ç‚¹ä¸åŒï¼šä¸€æ˜¯æ–°åˆ›å»ºå¯¹è±¡çš„å®ä¾‹æ–¹æ³•ä¸å¼•ç”¨ this ï¼›äºŒæ˜¯ä¸ä½¿ç”¨ new æ“ä½œç¬¦è°ƒç”¨æ„é€ å‡½æ•°ã€‚</p>
<div class="language-javascript highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kd">function</span> <span class="nx">Person</span><span class="p">(</span><span class="nx">name</span><span class="p">,</span> <span class="nx">age</span><span class="p">,</span> <span class="nx">job</span><span class="p">){</span>
  <span class="c1">//åˆ›å»ºè¦è¿”å›çš„å¯¹è±¡</span>
  <span class="kd">var</span> <span class="nx">o</span> <span class="o">=</span> <span class="k">new</span> <span class="nb">Object</span><span class="p">();</span>

  <span class="c1">//å¯ä»¥åœ¨è¿™é‡Œå®šä¹‰ç§æœ‰å˜é‡å’Œå‡½æ•°</span>
  <span class="c1">//æ·»åŠ æ–¹æ³•</span>
  <span class="nx">o</span><span class="p">.</span><span class="nx">sayName</span> <span class="o">=</span> <span class="kd">function</span><span class="p">(){</span>
    <span class="nx">alert</span><span class="p">(</span><span class="nx">name</span><span class="p">);</span>
  <span class="p">};</span>

  <span class="c1">//è¿”å›å¯¹è±¡</span>
  <span class="k">return</span> <span class="nx">o</span><span class="p">;</span>
<span class="p">}</span>
<span class="kd">var</span> <span class="nx">friend</span> <span class="o">=</span> <span class="nx">Person</span><span class="p">(</span><span class="dl">"</span><span class="s2">Nicholas</span><span class="dl">"</span><span class="p">,</span> <span class="mi">29</span><span class="p">,</span> <span class="dl">"</span><span class="s2">Software Engineer</span><span class="dl">"</span><span class="p">);</span>
<span class="nx">friend</span><span class="p">.</span><span class="nx">sayName</span><span class="p">();</span> <span class="c1">//"Nicholas" é™¤äº†ä½¿ç”¨ sayName() æ–¹æ³•ä¹‹å¤–ï¼Œæ²¡æœ‰å…¶ä»–åŠæ³•è®¿é—® name çš„å€¼</span>
</code></pre></div></div>
<p>ä½¿ç”¨ç¨³å¦¥æ„é€ å‡½æ•°æ¨¡å¼åˆ›å»ºçš„å¯¹è±¡ä¸æ„é€ å‡½æ•°ä¹‹é—´ä¹Ÿæ²¡æœ‰ä»€ä¹ˆå…³ç³»ï¼Œå› æ­¤ instanceof æ“ä½œç¬¦å¯¹è¿™ç§å¯¹è±¡ä¹Ÿæ²¡æœ‰æ„ä¹‰</p>

<h2 id="æ„é€ å‡½æ•°æ„é€ å‡½æ•°çš„åŸå‹å¯¹è±¡ä»¥åŠæ„é€ å‡½æ•°çš„å®ä¾‹ç›¸äº’ä¹‹é—´æ˜¯ä»€ä¹ˆå…³ç³»">æ„é€ å‡½æ•°ã€æ„é€ å‡½æ•°çš„åŸå‹å¯¹è±¡ä»¥åŠæ„é€ å‡½æ•°çš„å®ä¾‹ï¼Œç›¸äº’ä¹‹é—´æ˜¯ä»€ä¹ˆå…³ç³»ï¼Ÿ</h2>
<p><img src="/images/tech/js_1.png" alt="image" />
æ— è®ºä»€ä¹ˆæ—¶å€™ï¼Œåªè¦åˆ›å»ºäº†ä¸€ä¸ªæ–°å‡½æ•°ï¼Œå°±ä¼šæ ¹æ®ä¸€ç»„ç‰¹å®šçš„è§„åˆ™ä¸ºè¯¥å‡½æ•°åˆ›å»ºä¸€ä¸ª prototypeå±æ€§ï¼Œè¿™ä¸ªå±æ€§æŒ‡å‘å‡½æ•°çš„åŸå‹å¯¹è±¡ã€‚
åœ¨é»˜è®¤æƒ…å†µä¸‹ï¼Œæ‰€æœ‰åŸå‹å¯¹è±¡éƒ½ä¼šè‡ªåŠ¨è·å¾—ä¸€ä¸ª constructorå±æ€§ï¼Œè¿™ä¸ªå±æ€§åŒ…å«ä¸€ä¸ªæŒ‡å‘ prototype å±æ€§æ‰€åœ¨å‡½æ•°çš„æŒ‡é’ˆã€‚
å½“è°ƒç”¨æ„é€ å‡½æ•°åˆ›å»ºä¸€ä¸ªæ–°å®ä¾‹åï¼Œè¯¥å®ä¾‹çš„å†…éƒ¨å°†åŒ…å«ä¸€ä¸ªæŒ‡é’ˆï¼ŒæŒ‡å‘æ„é€ å‡½æ•°çš„åŸå‹å¯¹è±¡ã€‚ECMA-262 ç¬¬ 5 ç‰ˆä¸­ç®¡è¿™ä¸ªæŒ‡é’ˆå« [[Prototype]] ï¼ŒFirefoxã€Safari å’Œ Chrome åœ¨æ¯ä¸ªå¯¹è±¡ä¸Šéƒ½æ”¯æŒä¸€ä¸ªå±æ€§__proto__ç”¨æ¥è®¿é—®è¿™ä¸ªæŒ‡é’ˆã€‚å¯ä»¥é€šè¿‡ isPrototypeOf() æ–¹æ³•æ¥ç¡®å®šå¯¹è±¡ä¹‹é—´æ˜¯å¦å­˜åœ¨è¿™ç§å…³ç³»ï¼š</p>
<div class="language-javascript highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nx">alert</span><span class="p">(</span><span class="nx">Person</span><span class="p">.</span><span class="nx">prototype</span><span class="p">.</span><span class="nx">isPrototypeOf</span><span class="p">(</span><span class="nx">person1</span><span class="p">));</span> <span class="c1">//true</span>
<span class="nx">alert</span><span class="p">(</span><span class="nx">Person</span><span class="p">.</span><span class="nx">prototype</span><span class="p">.</span><span class="nx">isPrototypeOf</span><span class="p">(</span><span class="nx">person2</span><span class="p">));</span> <span class="c1">//true</span>
</code></pre></div></div>

<p>ECMAScript 5 å¢åŠ äº†ä¸€ä¸ªæ–°æ–¹æ³•ï¼Œå« Object.getPrototypeOf() ï¼Œåœ¨æ‰€æœ‰æ”¯æŒçš„å®ç°ä¸­ï¼Œè¿™ä¸ªæ–¹æ³•è¿”å› [[Prototype]] çš„å€¼ã€‚ä¾‹å¦‚ï¼š</p>
<div class="language-javascript highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nx">alert</span><span class="p">(</span><span class="nb">Object</span><span class="p">.</span><span class="nx">getPrototypeOf</span><span class="p">(</span><span class="nx">person1</span><span class="p">)</span> <span class="o">==</span> <span class="nx">Person</span><span class="p">.</span><span class="nx">prototype</span><span class="p">);</span> <span class="c1">//true</span>
<span class="nx">alert</span><span class="p">(</span><span class="nb">Object</span><span class="p">.</span><span class="nx">getPrototypeOf</span><span class="p">(</span><span class="nx">person1</span><span class="p">).</span><span class="nx">name</span><span class="p">);</span> <span class="c1">//"Nicholas"</span>
</code></pre></div></div>

<h2 id="å¦‚ä½•åˆ¤æ–­å¯¹è±¡å±æ€§çš„å®šä¹‰ä½ç½®">å¦‚ä½•åˆ¤æ–­å¯¹è±¡å±æ€§çš„å®šä¹‰ä½ç½®ï¼Ÿ</h2>
<p>æ¯å½“ä»£ç è¯»å–æŸä¸ªå¯¹è±¡çš„æŸä¸ªå±æ€§æ—¶ï¼Œéƒ½ä¼šæ‰§è¡Œä¸€æ¬¡æœç´¢ï¼Œç›®æ ‡æ˜¯å…·æœ‰ç»™å®šåå­—çš„å±æ€§ã€‚æœç´¢é¦–å…ˆä»å¯¹è±¡å®ä¾‹æœ¬èº«å¼€å§‹ã€‚å¦‚æœåœ¨å®ä¾‹ä¸­æ‰¾åˆ°äº†å…·æœ‰ç»™å®šåå­—çš„å±æ€§ï¼Œåˆ™è¿”å›è¯¥å±æ€§çš„å€¼ï¼›å¦‚æœæ²¡æœ‰æ‰¾åˆ°ï¼Œåˆ™ç»§ç»­æœç´¢æŒ‡é’ˆæŒ‡å‘çš„åŸå‹å¯¹è±¡ï¼Œåœ¨åŸå‹å¯¹è±¡ä¸­æŸ¥æ‰¾å…·æœ‰ç»™å®šåå­—çš„å±æ€§ã€‚å¦‚æœåœ¨åŸå‹å¯¹è±¡ä¸­æ‰¾åˆ°äº†è¿™ä¸ªå±æ€§ï¼Œåˆ™è¿”å›è¯¥å±æ€§çš„å€¼ã€‚</p>

<p>è™½ç„¶å¯ä»¥é€šè¿‡å¯¹è±¡å®ä¾‹è®¿é—®ä¿å­˜åœ¨åŸå‹ä¸­çš„å€¼ï¼Œä½†å´ä¸èƒ½é€šè¿‡å¯¹è±¡å®ä¾‹é‡å†™åŸå‹ä¸­çš„å€¼ã€‚</p>

<p>å½“ä¸ºå¯¹è±¡å®ä¾‹æ·»åŠ ä¸€ä¸ªå±æ€§æ—¶ï¼Œè¿™ä¸ªå±æ€§å°±ä¼šå±è”½åŸå‹å¯¹è±¡ä¸­ä¿å­˜çš„åŒåå±æ€§ã€‚ä½¿ç”¨ delete æ“ä½œç¬¦åˆ™å¯ä»¥å®Œå…¨åˆ 
é™¤å®ä¾‹å±æ€§ï¼Œä»è€Œè®©æˆ‘ä»¬èƒ½å¤Ÿé‡æ–°è®¿é—®åŸå‹ä¸­çš„å±æ€§ã€‚</p>

<p>ä½¿ç”¨ <code class="language-plaintext highlighter-rouge">hasOwnProperty()</code> æ–¹æ³•å¯ä»¥æ£€æµ‹ä¸€ä¸ªå±æ€§æ˜¯å­˜åœ¨äºå®ä¾‹ä¸­ï¼Œè¿˜æ˜¯å­˜åœ¨äºåŸå‹ä¸­ã€‚è¿™ä¸ªæ–¹æ³•ï¼ˆä» Object ç»§æ‰¿æ¥çš„ï¼‰åªåœ¨ç»™å®šå±æ€§å­˜åœ¨äºå¯¹è±¡å®ä¾‹ä¸­æ—¶ï¼Œæ‰ä¼šè¿”å› true ã€‚</p>

<p>Object.getOwnPropertyDescriptor() æ–¹æ³•åªèƒ½ç”¨äºå®ä¾‹å±æ€§ï¼Œè¦å–å¾—åŸå‹å±æ€§çš„æè¿°ç¬¦ï¼Œå¿…é¡»ç›´æ¥åœ¨åŸå‹å¯¹è±¡ä¸Šè°ƒç”¨ Object.getOwnPropertyDescriptor() æ–¹æ³•ã€‚</p>

<p>in æ“ä½œç¬¦ä¼šåœ¨é€šè¿‡å¯¹è±¡èƒ½å¤Ÿè®¿é—®ç»™å®šå±æ€§æ—¶è¿”å› true ï¼Œæ— è®ºè¯¥å±æ€§å­˜åœ¨äºå®ä¾‹ä¸­è¿˜æ˜¯åŸå‹ä¸­ã€‚<code class="language-plaintext highlighter-rouge">å› æ­¤åªè¦ in æ“ä½œç¬¦è¿”å› true è€Œ hasOwnProperty() è¿”å› false ï¼Œå°±å¯ä»¥ç¡®å®šå±æ€§æ˜¯åŸå‹ä¸­çš„å±æ€§</code>ã€‚</p>

<p>åœ¨ä½¿ç”¨ for-in å¾ªç¯æ—¶ï¼Œè¿”å›çš„æ˜¯æ‰€æœ‰èƒ½å¤Ÿé€šè¿‡å¯¹è±¡è®¿é—®çš„ã€å¯æšä¸¾çš„ï¼ˆenumeratedï¼‰å±æ€§ï¼Œå…¶ä¸­æ—¢åŒ…æ‹¬å­˜åœ¨äºå®ä¾‹ä¸­çš„å±æ€§ï¼Œä¹ŸåŒ…æ‹¬å­˜åœ¨äºåŸå‹ä¸­çš„å±æ€§ã€‚å±è”½äº†åŸå‹ä¸­ä¸å¯æšä¸¾å±æ€§ï¼ˆå³å°†[[Enumerable]] æ ‡è®°ä¸º false çš„å±æ€§ï¼‰çš„å®ä¾‹å±æ€§ä¹Ÿä¼šåœ¨ for-in å¾ªç¯ä¸­è¿”å›ï¼Œå› ä¸ºæ ¹æ®è§„å®šï¼Œæ‰€æœ‰å¼€å‘äººå‘˜å®šä¹‰çš„å±æ€§éƒ½æ˜¯å¯æšä¸¾çš„ã€‚</p>

<p>è¦å–å¾—å¯¹è±¡ä¸Šæ‰€æœ‰å¯æšä¸¾çš„å®ä¾‹å±æ€§ï¼Œå¯ä»¥ä½¿ç”¨ ECMAScript 5 çš„ Object.keys() æ–¹æ³•ã€‚</p>

<h2 id="åŸºäºåŸå‹é“¾å®ç°ç»§æ‰¿çš„åŸç†æ˜¯ä»€ä¹ˆå­˜åœ¨ä»€ä¹ˆé—®é¢˜">åŸºäºåŸå‹é“¾å®ç°ç»§æ‰¿çš„åŸç†æ˜¯ä»€ä¹ˆï¼Ÿå­˜åœ¨ä»€ä¹ˆé—®é¢˜ï¼Ÿ</h2>
<p>è®¸å¤š OO è¯­è¨€éƒ½æ”¯æŒä¸¤ç§ç»§æ‰¿æ–¹å¼ï¼šæ¥å£ç»§æ‰¿å’Œå®ç°ç»§æ‰¿ã€‚æ¥å£ç»§æ‰¿åªç»§æ‰¿æ–¹æ³•ç­¾åï¼Œè€Œå®ç°ç»§æ‰¿åˆ™ç»§æ‰¿å®é™…çš„æ–¹æ³•ã€‚ç”±äºå‡½æ•°æ²¡æœ‰ç­¾åï¼Œåœ¨ ECMAScript ä¸­æ— æ³•å®ç°æ¥å£ç»§æ‰¿ã€‚ECMAScript åªæ”¯æŒå®ç°ç»§æ‰¿ï¼Œè€Œä¸”å…¶å®ç°ç»§æ‰¿ä¸»è¦æ˜¯ä¾é åŸå‹é“¾æ¥å®ç°çš„ã€‚
å…¶åŸºæœ¬æ€æƒ³æ˜¯åˆ©ç”¨åŸå‹è®©ä¸€ä¸ªå¼•ç”¨ç±»å‹ç»§æ‰¿å¦ä¸€ä¸ªå¼•ç”¨ç±»å‹çš„å±æ€§å’Œæ–¹æ³•ã€‚åŸºæœ¬å¦‚ä¸‹ï¼š</p>
<div class="language-javascript highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kd">function</span> <span class="nx">SuperType</span><span class="p">(){</span>
  <span class="k">this</span><span class="p">.</span><span class="nx">property</span> <span class="o">=</span> <span class="kc">true</span><span class="p">;</span>
<span class="p">}</span>

<span class="nx">SuperType</span><span class="p">.</span><span class="nx">prototype</span><span class="p">.</span><span class="nx">getSuperValue</span> <span class="o">=</span> <span class="kd">function</span><span class="p">(){</span>
  <span class="k">return</span> <span class="k">this</span><span class="p">.</span><span class="nx">property</span><span class="p">;</span>
<span class="p">};</span>

<span class="kd">function</span> <span class="nx">SubType</span><span class="p">(){</span>
  <span class="k">this</span><span class="p">.</span><span class="nx">subproperty</span> <span class="o">=</span> <span class="kc">false</span><span class="p">;</span>
<span class="p">}</span>

<span class="c1">//ç»§æ‰¿äº† SuperType</span>
<span class="nx">SubType</span><span class="p">.</span><span class="nx">prototype</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">SuperType</span><span class="p">();</span>
<span class="nx">SubType</span><span class="p">.</span><span class="nx">prototype</span><span class="p">.</span><span class="nx">getSubValue</span> <span class="o">=</span> <span class="kd">function</span> <span class="p">(){</span>
  <span class="k">return</span> <span class="k">this</span><span class="p">.</span><span class="nx">subproperty</span><span class="p">;</span>
<span class="p">};</span>
<span class="kd">var</span> <span class="nx">instance</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">SubType</span><span class="p">();</span>
<span class="nx">alert</span><span class="p">(</span><span class="nx">instance</span><span class="p">.</span><span class="nx">getSuperValue</span><span class="p">());</span> <span class="c1">//true</span>
</code></pre></div></div>
<p>SubType ç»§æ‰¿äº† SuperType ï¼Œè€Œç»§æ‰¿æ˜¯é€šè¿‡åˆ›å»º SuperType çš„å®ä¾‹ï¼Œå¹¶å°†è¯¥å®ä¾‹èµ‹ç»™SubType.prototype å®ç°çš„ã€‚å®ç°çš„æœ¬è´¨æ˜¯é‡å†™åŸå‹å¯¹è±¡ï¼Œä»£ä¹‹ä»¥ä¸€ä¸ªæ–°ç±»å‹çš„å®ä¾‹ã€‚åŸæ¥å­˜åœ¨äº SuperType çš„å®ä¾‹ä¸­çš„æ‰€æœ‰å±æ€§å’Œæ–¹æ³•ï¼Œç°åœ¨ä¹Ÿå­˜åœ¨äº SubType.prototype ä¸­äº†ã€‚</p>

<p>è¦æ³¨æ„ instance.constructor ç°åœ¨æŒ‡å‘çš„æ˜¯ SuperType ï¼Œè¿™æ˜¯å› ä¸ºåŸæ¥ SubType.prototype ä¸­çš„ constructor è¢«é‡å†™äº†çš„ç¼˜æ•…. å®é™…ä¸Šï¼Œä¸æ˜¯ SubType çš„åŸå‹çš„ constructor å±æ€§è¢«é‡å†™äº†ï¼Œè€Œæ˜¯ SubType çš„åŸå‹æŒ‡å‘äº†å¦ä¸€ä¸ªå¯¹è±¡SuperType çš„åŸå‹ï¼Œè€Œè¿™ä¸ªåŸå‹å¯¹è±¡çš„ constructor å±æ€§æŒ‡å‘çš„æ˜¯ SuperType ã€‚</p>

<p>æ‰€æœ‰å‡½æ•°çš„é»˜è®¤åŸå‹éƒ½æ˜¯ Object çš„å®ä¾‹ï¼Œå› æ­¤é»˜è®¤åŸå‹éƒ½ä¼šåŒ…å«ä¸€ä¸ªå†…éƒ¨æŒ‡é’ˆï¼ŒæŒ‡å‘ Object.prototype ã€‚è¿™ä¹Ÿæ­£æ˜¯æ‰€æœ‰è‡ªå®šä¹‰ç±»å‹éƒ½ä¼šç»§æ‰¿ toString() ã€valueOf() ç­‰é»˜è®¤æ–¹æ³•çš„æ ¹æœ¬åŸå› ã€‚</p>

<p>ç»§æ‰¿å…³ç³»åˆ¤æ–­
ä½¿ç”¨ instanceof æ“ä½œç¬¦ï¼Œåªè¦ç”¨è¿™ä¸ªæ“ä½œç¬¦æ¥æµ‹è¯•å®ä¾‹ä¸åŸå‹é“¾ä¸­å‡ºç°è¿‡çš„æ„é€ å‡½æ•°ï¼Œç»“æœå°±ä¼šè¿”å› true ï¼š</p>
<div class="language-javascript highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nx">alert</span><span class="p">(</span><span class="nx">instance</span> <span class="k">instanceof</span> <span class="nb">Object</span><span class="p">);</span> <span class="c1">//true</span>
<span class="nx">alert</span><span class="p">(</span><span class="nx">instance</span> <span class="k">instanceof</span> <span class="nx">SuperType</span><span class="p">);</span> <span class="c1">//true</span>
<span class="nx">alert</span><span class="p">(</span><span class="nx">instance</span> <span class="k">instanceof</span> <span class="nx">SubType</span><span class="p">);</span> <span class="c1">//true</span>
</code></pre></div></div>

<p>ä½¿ç”¨ isPrototypeOf() æ–¹æ³•ã€‚åŒæ ·ï¼Œåªè¦æ˜¯åŸå‹é“¾ä¸­å‡ºç°è¿‡çš„åŸå‹ï¼Œéƒ½å¯ä»¥è¯´æ˜¯è¯¥åŸå‹é“¾æ‰€æ´¾ç”Ÿçš„å®ä¾‹çš„åŸå‹ï¼Œå› æ­¤ isPrototypeOf() æ–¹æ³•ä¹Ÿä¼šè¿”å› trueï¼š</p>
<div class="language-javascript highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nx">alert</span><span class="p">(</span><span class="nb">Object</span><span class="p">.</span><span class="nx">prototype</span><span class="p">.</span><span class="nx">isPrototypeOf</span><span class="p">(</span><span class="nx">instance</span><span class="p">));</span> <span class="c1">//true</span>
<span class="nx">alert</span><span class="p">(</span><span class="nx">SuperType</span><span class="p">.</span><span class="nx">prototype</span><span class="p">.</span><span class="nx">isPrototypeOf</span><span class="p">(</span><span class="nx">instance</span><span class="p">));</span> <span class="c1">//true</span>
<span class="nx">alert</span><span class="p">(</span><span class="nx">SubType</span><span class="p">.</span><span class="nx">prototype</span><span class="p">.</span><span class="nx">isPrototypeOf</span><span class="p">(</span><span class="nx">instance</span><span class="p">));</span> <span class="c1">//true</span>
</code></pre></div></div>
<p>åŸå‹é“¾æœ€ä¸»è¦çš„é—®é¢˜æ¥è‡ªåŒ…å«å¼•ç”¨ç±»å‹å€¼çš„åŸå‹ã€‚ç¬¬äºŒä¸ªé—®é¢˜æ˜¯ï¼šåœ¨åˆ›å»ºå­ç±»å‹çš„å®ä¾‹æ—¶ï¼Œä¸èƒ½å‘è¶…ç±»å‹çš„æ„é€ å‡½æ•°ä¸­ä¼ é€’å‚æ•°ã€‚</p>

<h2 id="javascriptä¸­æœ‰å“ªäº›å®ç°ç»§æ‰¿çš„æ–¹å¼">JavaScriptä¸­æœ‰å“ªäº›å®ç°ç»§æ‰¿çš„æ–¹å¼ï¼Ÿ</h2>
<p>å€Ÿç”¨æ„é€ å‡½æ•°
åœ¨å­ç±»å‹æ„é€ å‡½æ•°çš„å†…éƒ¨è°ƒç”¨è¶…ç±»å‹æ„é€ å‡½æ•°ï¼š</p>
<div class="language-javascript highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kd">function</span> <span class="nx">SuperType</span><span class="p">(){</span>
  <span class="k">this</span><span class="p">.</span><span class="nx">colors</span> <span class="o">=</span> <span class="p">[</span><span class="dl">"</span><span class="s2">red</span><span class="dl">"</span><span class="p">,</span> <span class="dl">"</span><span class="s2">blue</span><span class="dl">"</span><span class="p">,</span> <span class="dl">"</span><span class="s2">green</span><span class="dl">"</span><span class="p">];</span>
<span class="p">}</span>
<span class="kd">function</span> <span class="nx">SubType</span><span class="p">(){</span>
  <span class="nx">SuperType</span><span class="p">.</span><span class="nx">call</span><span class="p">(</span><span class="k">this</span><span class="p">);</span>
<span class="p">}</span>
<span class="kd">var</span> <span class="nx">instance1</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">SubType</span><span class="p">();</span>
<span class="nx">instance1</span><span class="p">.</span><span class="nx">colors</span><span class="p">.</span><span class="nx">push</span><span class="p">(</span><span class="dl">"</span><span class="s2">black</span><span class="dl">"</span><span class="p">);</span>
<span class="nx">alert</span><span class="p">(</span><span class="nx">instance1</span><span class="p">.</span><span class="nx">colors</span><span class="p">);</span> <span class="c1">//"red,blue,green,black"</span>
<span class="kd">var</span> <span class="nx">instance2</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">SubType</span><span class="p">();</span>
<span class="nx">alert</span><span class="p">(</span><span class="nx">instance2</span><span class="p">.</span><span class="nx">colors</span><span class="p">);</span> <span class="c1">//"red,blue,green"</span>
</code></pre></div></div>

<p>å€Ÿç”¨æ„é€ å‡½æ•°æœ‰ä¸€ä¸ªå¾ˆå¤§çš„ä¼˜åŠ¿ï¼Œå³å¯ä»¥åœ¨å­ç±»å‹æ„é€ å‡½æ•°ä¸­å‘è¶…ç±»å‹æ„é€ å‡½æ•°ä¼ é€’å‚æ•°ï¼š</p>
<div class="language-javascript highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kd">function</span> <span class="nx">SuperType</span><span class="p">(</span><span class="nx">name</span><span class="p">){</span>
  <span class="k">this</span><span class="p">.</span><span class="nx">name</span> <span class="o">=</span> <span class="nx">name</span><span class="p">;</span>
<span class="p">}</span>
<span class="kd">function</span> <span class="nx">SubType</span><span class="p">(){</span>
<span class="nx">SuperType</span><span class="p">.</span><span class="nx">call</span><span class="p">(</span><span class="k">this</span><span class="p">,</span> <span class="dl">"</span><span class="s2">Nicholas</span><span class="dl">"</span><span class="p">);</span>
  <span class="k">this</span><span class="p">.</span><span class="nx">age</span> <span class="o">=</span> <span class="mi">29</span><span class="p">;</span> <span class="c1">// å®ä¾‹å±æ€§</span>
<span class="p">}</span>
<span class="kd">var</span> <span class="nx">instance</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">SubType</span><span class="p">();</span>
<span class="nx">alert</span><span class="p">(</span><span class="nx">instance</span><span class="p">.</span><span class="nx">name</span><span class="p">);</span> <span class="c1">//"Nicholas";</span>
<span class="nx">alert</span><span class="p">(</span><span class="nx">instance</span><span class="p">.</span><span class="nx">age</span><span class="p">);</span> <span class="c1">//29</span>
</code></pre></div></div>
<p>å¦‚æœä»…ä»…æ˜¯å€Ÿç”¨æ„é€ å‡½æ•°ï¼Œé‚£ä¹ˆä¹Ÿå°†æ— æ³•é¿å…æ„é€ å‡½æ•°æ¨¡å¼å­˜åœ¨çš„é—®é¢˜â€”â€”æ–¹æ³•éƒ½åœ¨æ„é€ å‡½æ•°ä¸­å®šä¹‰ï¼Œå› æ­¤å‡½æ•°å¤ç”¨å°±æ— ä»è°ˆèµ·äº†ã€‚</p>

<p>ç»„åˆç»§æ‰¿
ä¹Ÿå«åšä¼ªç»å…¸ç»§æ‰¿ï¼ŒæŒ‡çš„æ˜¯å°†åŸå‹é“¾å’Œå€Ÿç”¨æ„é€ å‡½æ•°çš„æŠ€æœ¯ç»„åˆåˆ°ä¸€å—ï¼Œä»è€Œå‘æŒ¥äºŒè€…ä¹‹é•¿çš„ä¸€ç§ç»§æ‰¿æ¨¡å¼ã€‚æ€è·¯æ˜¯ä½¿ç”¨åŸå‹é“¾å®ç°å¯¹åŸå‹å±æ€§å’Œæ–¹æ³•çš„ç»§æ‰¿ï¼Œè€Œé€šè¿‡å€Ÿç”¨æ„é€ å‡½æ•°æ¥å®ç°å¯¹å®ä¾‹å±æ€§çš„ç»§æ‰¿ã€‚
ç»„åˆç»§æ‰¿æœ€å¤§çš„é—®é¢˜å°±æ˜¯æ— è®ºä»€ä¹ˆæƒ…å†µä¸‹ï¼Œéƒ½ä¼šè°ƒç”¨ä¸¤æ¬¡è¶…ç±»å‹æ„é€ å‡½æ•°ï¼šä¸€æ¬¡æ˜¯åœ¨åˆ›å»ºå­ç±»å‹åŸå‹çš„æ—¶å€™ï¼Œå¦ä¸€æ¬¡æ˜¯åœ¨å­ç±»å‹æ„é€ å‡½æ•°å†…éƒ¨ï¼š</p>
<div class="language-javascript highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kd">function</span> <span class="nx">SuperType</span><span class="p">(</span><span class="nx">name</span><span class="p">){</span>
  <span class="k">this</span><span class="p">.</span><span class="nx">name</span> <span class="o">=</span> <span class="nx">name</span><span class="p">;</span>
  <span class="k">this</span><span class="p">.</span><span class="nx">colors</span> <span class="o">=</span> <span class="p">[</span><span class="dl">"</span><span class="s2">red</span><span class="dl">"</span><span class="p">,</span> <span class="dl">"</span><span class="s2">blue</span><span class="dl">"</span><span class="p">,</span> <span class="dl">"</span><span class="s2">green</span><span class="dl">"</span><span class="p">];</span>
<span class="p">}</span>

<span class="nx">SuperType</span><span class="p">.</span><span class="nx">prototype</span><span class="p">.</span><span class="nx">sayName</span> <span class="o">=</span> <span class="kd">function</span><span class="p">(){</span>
  <span class="nx">alert</span><span class="p">(</span><span class="k">this</span><span class="p">.</span><span class="nx">name</span><span class="p">);</span>
<span class="p">};</span>

<span class="kd">function</span> <span class="nx">SubType</span><span class="p">(</span><span class="nx">name</span><span class="p">,</span> <span class="nx">age</span><span class="p">){</span>
  <span class="nx">SuperType</span><span class="p">.</span><span class="nx">call</span><span class="p">(</span><span class="k">this</span><span class="p">,</span> <span class="nx">name</span><span class="p">);</span> <span class="c1">// ç¬¬äºŒæ¬¡è°ƒç”¨ SuperType()</span>
  <span class="k">this</span><span class="p">.</span><span class="nx">age</span> <span class="o">=</span> <span class="nx">age</span><span class="p">;</span>
<span class="p">}</span>

<span class="nx">SubType</span><span class="p">.</span><span class="nx">prototype</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">SuperType</span><span class="p">();</span> <span class="c1">// ç¬¬ä¸€æ¬¡è°ƒç”¨ SuperType()</span>
<span class="nx">SubType</span><span class="p">.</span><span class="nx">prototype</span><span class="p">.</span><span class="kd">constructor</span> <span class="o">=</span> <span class="nx">SubType</span><span class="p">;</span>
<span class="nx">SubType</span><span class="p">.</span><span class="nx">prototype</span><span class="p">.</span><span class="nx">sayAge</span> <span class="o">=</span> <span class="kd">function</span><span class="p">(){</span>
  <span class="nx">alert</span><span class="p">(</span><span class="k">this</span><span class="p">.</span><span class="nx">age</span><span class="p">);</span>
<span class="p">};</span>
</code></pre></div></div>
<p>å½“è°ƒç”¨ SubType æ„é€ å‡½æ•°æ—¶ï¼Œåˆä¼šè°ƒç”¨ä¸€æ¬¡ SuperType æ„é€ å‡½æ•°ï¼Œè¿™ä¸€æ¬¡åˆåœ¨æ–°å¯¹è±¡ä¸Šåˆ›å»ºäº†å®ä¾‹å±æ€§ name å’Œ colors ã€‚äºæ˜¯ï¼Œè¿™ä¸¤ä¸ªå±æ€§å°±å±è”½äº†åŸå‹ä¸­çš„ä¸¤ä¸ªåŒåå±æ€§ã€‚</p>

<p>åŸå‹å¼ç»§æ‰¿</p>
<div class="language-javascript highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kd">function</span> <span class="nx">object</span><span class="p">(</span><span class="nx">o</span><span class="p">){</span>
  <span class="kd">function</span> <span class="nx">F</span><span class="p">(){</span>
<span class="p">}</span>
<span class="nx">F</span><span class="p">.</span><span class="nx">prototype</span> <span class="o">=</span> <span class="nx">o</span><span class="p">;</span>
  <span class="k">return</span> <span class="k">new</span> <span class="nx">F</span><span class="p">();</span>
<span class="p">}</span>
</code></pre></div></div>

<p>ECMAScript 5 é€šè¿‡æ–°å¢ Object.create() æ–¹æ³•è§„èŒƒåŒ–äº†åŸå‹å¼ç»§æ‰¿ã€‚è¿™ä¸ªæ–¹æ³•æ¥æ”¶ä¸¤ä¸ªå‚æ•°ï¼šä¸€ä¸ªç”¨ä½œæ–°å¯¹è±¡åŸå‹çš„å¯¹è±¡å’Œï¼ˆå¯é€‰çš„ï¼‰ä¸€ä¸ªä¸ºæ–°å¯¹è±¡å®šä¹‰é¢å¤–å±æ€§çš„å¯¹è±¡ã€‚åœ¨ä¼ å…¥ä¸€ä¸ªå‚æ•°çš„æƒ…å†µä¸‹ï¼ŒObject.create() ä¸ object() æ–¹æ³•çš„è¡Œä¸ºç›¸åŒã€‚</p>
<div class="language-javascript highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kd">var</span> <span class="nx">person</span> <span class="o">=</span> <span class="p">{</span>
  <span class="na">name</span><span class="p">:</span> <span class="dl">"</span><span class="s2">Nicholas</span><span class="dl">"</span><span class="p">,</span>
  <span class="na">friends</span><span class="p">:</span> <span class="p">[</span><span class="dl">"</span><span class="s2">Shelby</span><span class="dl">"</span><span class="p">,</span> <span class="dl">"</span><span class="s2">Court</span><span class="dl">"</span><span class="p">,</span> <span class="dl">"</span><span class="s2">Van</span><span class="dl">"</span><span class="p">]</span>
<span class="p">};</span>

<span class="kd">var</span> <span class="nx">anotherPerson</span> <span class="o">=</span> <span class="nb">Object</span><span class="p">.</span><span class="nx">create</span><span class="p">(</span><span class="nx">person</span><span class="p">,</span> <span class="p">{</span>
  <span class="na">name</span><span class="p">:</span> <span class="p">{</span>
    <span class="na">value</span><span class="p">:</span> <span class="dl">"</span><span class="s2">Greg</span><span class="dl">"</span>
  <span class="p">}</span>
<span class="p">});</span>
<span class="nx">alert</span><span class="p">(</span><span class="nx">anotherPerson</span><span class="p">.</span><span class="nx">name</span><span class="p">);</span> <span class="c1">//"Greg"</span>
</code></pre></div></div>

<p>å¯„ç”Ÿå¼ç»§æ‰¿
åˆ›å»ºä¸€ä¸ªä»…ç”¨äºå°è£…ç»§æ‰¿è¿‡ç¨‹çš„å‡½æ•°ï¼Œè¯¥å‡½æ•°åœ¨å†…éƒ¨ä»¥æŸç§æ–¹å¼æ¥å¢å¼ºå¯¹è±¡ï¼Œæœ€åå†åƒçœŸåœ°æ˜¯å®ƒåšäº†æ‰€æœ‰å·¥ä½œä¸€æ ·è¿”å›å¯¹è±¡ã€‚</p>
<div class="language-javascript highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kd">function</span> <span class="nx">createAnother</span><span class="p">(</span><span class="nx">original</span><span class="p">){</span>
  <span class="kd">var</span> <span class="nx">clone</span> <span class="o">=</span> <span class="nx">object</span><span class="p">(</span><span class="nx">original</span><span class="p">);</span> <span class="c1">//é€šè¿‡è°ƒç”¨å‡½æ•°åˆ›å»ºä¸€ä¸ªæ–°å¯¹è±¡</span>
  <span class="nx">clone</span><span class="p">.</span><span class="nx">sayHi</span> <span class="o">=</span> <span class="kd">function</span><span class="p">(){</span> <span class="c1">//ä»¥æŸç§æ–¹å¼æ¥å¢å¼ºè¿™ä¸ªå¯¹è±¡</span>
    <span class="nx">alert</span><span class="p">(</span><span class="dl">"</span><span class="s2">hi</span><span class="dl">"</span><span class="p">);</span>
  <span class="p">};</span>
  <span class="k">return</span> <span class="nx">clone</span><span class="p">;</span> <span class="c1">//è¿”å›è¿™ä¸ªå¯¹è±¡</span>
<span class="p">}</span>
</code></pre></div></div>
<p>ä½¿ç”¨å¯„ç”Ÿå¼ç»§æ‰¿æ¥ä¸ºå¯¹è±¡æ·»åŠ å‡½æ•°ï¼Œä¼šç”±äºä¸èƒ½åšåˆ°å‡½æ•°å¤ç”¨è€Œé™ä½æ•ˆç‡ï¼›è¿™ä¸€ç‚¹ä¸æ„é€ å‡½æ•°æ¨¡å¼ç±»ä¼¼ã€‚</p>

<p>å¯„ç”Ÿç»„åˆå¼ç»§æ‰¿
æ‰€è°“å¯„ç”Ÿç»„åˆå¼ç»§æ‰¿ï¼Œå³é€šè¿‡å€Ÿç”¨æ„é€ å‡½æ•°æ¥ç»§æ‰¿å±æ€§ï¼Œé€šè¿‡åŸå‹é“¾çš„æ··æˆå½¢å¼æ¥ç»§æ‰¿æ–¹æ³•ã€‚å…¶èƒŒåçš„åŸºæœ¬æ€è·¯æ˜¯ï¼šä¸å¿…ä¸ºäº†æŒ‡å®šå­ç±»å‹çš„åŸå‹è€Œè°ƒç”¨è¶…ç±»å‹çš„æ„é€ å‡½æ•°ï¼Œæˆ‘ä»¬æ‰€éœ€è¦çš„æ— éå°±æ˜¯è¶…ç±»å‹åŸå‹çš„ä¸€ä¸ªå‰¯æœ¬è€Œå·²ã€‚æœ¬è´¨ä¸Šï¼Œå°±æ˜¯ä½¿ç”¨å¯„ç”Ÿå¼ç»§æ‰¿æ¥ç»§æ‰¿è¶…ç±»å‹çš„åŸå‹ï¼Œç„¶åå†å°†ç»“æœæŒ‡å®šç»™å­ç±»å‹çš„åŸå‹ã€‚å¯„ç”Ÿç»„åˆå¼ç»§æ‰¿çš„åŸºæœ¬æ¨¡å¼å¦‚ä¸‹æ‰€ç¤ºã€‚</p>
<div class="language-javascript highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kd">function</span> <span class="nx">inheritPrototype</span><span class="p">(</span><span class="nx">subType</span><span class="p">,</span> <span class="nx">superType</span><span class="p">){</span>
  <span class="kd">var</span> <span class="nx">prototype</span> <span class="o">=</span> <span class="nx">object</span><span class="p">(</span><span class="nx">superType</span><span class="p">.</span><span class="nx">prototype</span><span class="p">);</span> <span class="c1">//åˆ›å»ºå¯¹è±¡</span>
  <span class="nx">prototype</span><span class="p">.</span><span class="kd">constructor</span> <span class="o">=</span> <span class="nx">subType</span><span class="p">;</span> <span class="c1">//å¢å¼ºå¯¹è±¡</span>
  <span class="nx">subType</span><span class="p">.</span><span class="nx">prototype</span> <span class="o">=</span> <span class="nx">prototype</span><span class="p">;</span> <span class="c1">//æŒ‡å®šå¯¹è±¡</span>
<span class="p">}</span>

<span class="kd">function</span> <span class="nx">SuperType</span><span class="p">(</span><span class="nx">name</span><span class="p">){</span>
  <span class="k">this</span><span class="p">.</span><span class="nx">name</span> <span class="o">=</span> <span class="nx">name</span><span class="p">;</span>
  <span class="k">this</span><span class="p">.</span><span class="nx">colors</span> <span class="o">=</span> <span class="p">[</span><span class="dl">"</span><span class="s2">red</span><span class="dl">"</span><span class="p">,</span> <span class="dl">"</span><span class="s2">blue</span><span class="dl">"</span><span class="p">,</span> <span class="dl">"</span><span class="s2">green</span><span class="dl">"</span><span class="p">];</span>
<span class="p">}</span>

<span class="nx">SuperType</span><span class="p">.</span><span class="nx">prototype</span><span class="p">.</span><span class="nx">sayName</span> <span class="o">=</span> <span class="kd">function</span><span class="p">(){</span>
  <span class="nx">alert</span><span class="p">(</span><span class="k">this</span><span class="p">.</span><span class="nx">name</span><span class="p">);</span>
<span class="p">};</span>

<span class="kd">function</span> <span class="nx">SubType</span><span class="p">(</span><span class="nx">name</span><span class="p">,</span> <span class="nx">age</span><span class="p">){</span>
  <span class="nx">SuperType</span><span class="p">.</span><span class="nx">call</span><span class="p">(</span><span class="k">this</span><span class="p">,</span> <span class="nx">name</span><span class="p">);</span>
  <span class="k">this</span><span class="p">.</span><span class="nx">age</span> <span class="o">=</span> <span class="nx">age</span><span class="p">;</span>
<span class="p">}</span>

<span class="nx">inheritPrototype</span><span class="p">(</span><span class="nx">SubType</span><span class="p">,</span> <span class="nx">SuperType</span><span class="p">);</span>
<span class="nx">SubType</span><span class="p">.</span><span class="nx">prototype</span><span class="p">.</span><span class="nx">sayAge</span> <span class="o">=</span> <span class="kd">function</span><span class="p">(){</span>
  <span class="nx">alert</span><span class="p">(</span><span class="k">this</span><span class="p">.</span><span class="nx">age</span><span class="p">);</span>
<span class="p">};</span>
</code></pre></div></div>
<p>è¿™ä¸ªä¾‹å­çš„é«˜æ•ˆç‡ä½“ç°åœ¨å®ƒåªè°ƒç”¨äº†ä¸€æ¬¡ SuperType æ„é€ å‡½æ•°ï¼Œå¹¶ä¸”å› æ­¤é¿å…äº†åœ¨ SubType.prototype ä¸Šé¢åˆ›å»ºä¸å¿…è¦çš„ã€å¤šä½™çš„å±æ€§ã€‚ä¸æ­¤åŒæ—¶ï¼ŒåŸå‹é“¾è¿˜èƒ½ä¿æŒä¸å˜ï¼›å› æ­¤ï¼Œè¿˜èƒ½å¤Ÿæ­£å¸¸ä½¿ç”¨instanceof å’Œ isPrototypeOf() ã€‚å¼€å‘äººå‘˜æ™®éè®¤ä¸ºå¯„ç”Ÿç»„åˆå¼ç»§æ‰¿æ˜¯å¼•ç”¨ç±»å‹æœ€ç†æƒ³çš„ç»§æ‰¿èŒƒå¼ã€‚
YUI çš„ YAHOO.lang.extend() æ–¹æ³•é‡‡ç”¨äº†å¯„ç”Ÿç»„åˆç»§æ‰¿ï¼Œä»è€Œè®©è¿™ç§æ¨¡å¼é¦–æ¬¡å‡ºç°åœ¨äº†ä¸€ä¸ªåº”ç”¨éå¸¸å¹¿æ³›çš„ JavaScript åº“ä¸­ã€‚</p>

<h2 id="ä»€ä¹ˆæ˜¯é—­åŒ…é—­åŒ…çš„å®ç°åŸç†æ˜¯ä»€ä¹ˆå­˜åœ¨ä»€ä¹ˆé—®é¢˜">ä»€ä¹ˆæ˜¯é—­åŒ…ï¼Ÿé—­åŒ…çš„å®ç°åŸç†æ˜¯ä»€ä¹ˆï¼Ÿå­˜åœ¨ä»€ä¹ˆé—®é¢˜ï¼Ÿ</h2>
<p><code class="language-plaintext highlighter-rouge">é—­åŒ…æ˜¯æŒ‡æœ‰æƒè®¿é—®å¦ä¸€ä¸ªå‡½æ•°ä½œç”¨åŸŸä¸­çš„å˜é‡çš„å‡½æ•°</code>ï¼Œåˆ›å»ºé—­åŒ…çš„å¸¸è§æ–¹å¼ï¼Œå°±æ˜¯åœ¨ä¸€ä¸ªå‡½æ•°å†…éƒ¨åˆ›å»ºå¦ä¸€ä¸ªå‡½æ•°ã€‚
å½“æŸä¸ªå‡½æ•°è¢«è°ƒç”¨æ—¶ï¼Œä¼šåˆ›å»ºä¸€ä¸ªæ‰§è¡Œç¯å¢ƒï¼ˆexecution contextï¼‰åŠç›¸åº”çš„ä½œç”¨åŸŸé“¾ã€‚ç„¶åï¼Œä½¿ç”¨ arguments å’Œå…¶ä»–å‘½åå‚æ•°çš„å€¼æ¥åˆå§‹åŒ–å‡½æ•°çš„æ´»åŠ¨å¯¹è±¡ï¼ˆactivation objectï¼‰ã€‚ä½†åœ¨ä½œç”¨åŸŸé“¾ä¸­ï¼Œå¤–éƒ¨å‡½æ•°çš„æ´»åŠ¨å¯¹è±¡å§‹ç»ˆå¤„äºç¬¬äºŒä½ï¼Œå¤–éƒ¨å‡½æ•°çš„å¤–éƒ¨å‡½æ•°çš„æ´»åŠ¨å¯¹è±¡å¤„äºç¬¬ä¸‰ä½ï¼Œâ€¦â€¦ç›´è‡³ä½œä¸ºä½œç”¨åŸŸé“¾ç»ˆç‚¹çš„å…¨å±€æ‰§è¡Œç¯å¢ƒã€‚åœ¨å‡½æ•°æ‰§è¡Œè¿‡ç¨‹ä¸­ï¼Œä¸ºè¯»å–å’Œå†™å…¥å˜é‡çš„å€¼ï¼Œå°±éœ€è¦åœ¨ä½œç”¨åŸŸé“¾ä¸­æŸ¥æ‰¾å˜é‡ã€‚</p>

<p>åå°çš„æ¯ä¸ªæ‰§è¡Œç¯å¢ƒéƒ½æœ‰ä¸€ä¸ªè¡¨ç¤ºå˜é‡çš„å¯¹è±¡â€”â€”å˜é‡å¯¹è±¡ã€‚å…¨å±€ç¯å¢ƒçš„å˜é‡å¯¹è±¡å§‹ç»ˆå­˜åœ¨ï¼Œè€Œè‡ªå®šä¹‰å‡½æ•°çš„å±€éƒ¨ç¯å¢ƒçš„å˜é‡å¯¹è±¡ï¼Œåˆ™åªåœ¨å‡½æ•°æ‰§è¡Œçš„è¿‡ç¨‹ä¸­å­˜åœ¨ã€‚åœ¨åˆ›å»ºå‡½æ•°æ—¶ï¼Œä¼šåˆ›å»ºä¸€ä¸ªé¢„å…ˆåŒ…å«å…¨å±€å˜é‡å¯¹è±¡çš„ä½œç”¨åŸŸé“¾ï¼Œè¿™ä¸ªä½œç”¨åŸŸé“¾è¢«ä¿å­˜åœ¨å†…éƒ¨çš„ [[Scope]] å±æ€§ä¸­ã€‚å½“è°ƒç”¨å‡½æ•°æ—¶ï¼Œä¼šä¸ºå‡½æ•°åˆ›å»ºä¸€ä¸ªæ‰§è¡Œç¯å¢ƒï¼Œç„¶åé€šè¿‡å¤åˆ¶å‡½æ•°çš„ [[Scope]] å±æ€§ä¸­çš„å¯¹è±¡æ„å»ºèµ·æ‰§è¡Œç¯å¢ƒçš„ä½œç”¨åŸŸé“¾ã€‚æ­¤åï¼Œåˆæœ‰ä¸€ä¸ªæ´»åŠ¨å¯¹è±¡ï¼ˆåœ¨æ­¤ä½œä¸ºå˜é‡å¯¹è±¡ä½¿ç”¨ï¼‰è¢«åˆ›å»ºå¹¶è¢«æ¨å…¥æ‰§è¡Œç¯å¢ƒä½œç”¨åŸŸé“¾çš„å‰ç«¯ã€‚</p>

<p>ä½œç”¨åŸŸé“¾æœ¬è´¨ä¸Šæ˜¯ä¸€ä¸ªæŒ‡å‘å˜é‡å¯¹è±¡çš„æŒ‡é’ˆåˆ—è¡¨ï¼Œå®ƒåªå¼•ç”¨ä½†ä¸å®é™…åŒ…å«å˜é‡å¯¹è±¡ã€‚æ— è®ºä»€ä¹ˆæ—¶å€™åœ¨å‡½æ•°ä¸­è®¿é—®ä¸€ä¸ªå˜é‡æ—¶ï¼Œå°±ä¼šä»ä½œç”¨åŸŸé“¾ä¸­æœç´¢å…·æœ‰ç›¸åº”åå­—çš„å˜é‡ã€‚ä¸€èˆ¬æ¥è®²ï¼Œå½“å‡½æ•°æ‰§è¡Œå®Œæ¯•åï¼Œå±€éƒ¨æ´»åŠ¨å¯¹è±¡å°±ä¼šè¢«é”€æ¯ï¼Œå†…å­˜ä¸­ä»…ä¿å­˜å…¨å±€ä½œç”¨åŸŸï¼ˆå…¨å±€æ‰§è¡Œç¯å¢ƒçš„å˜é‡å¯¹è±¡ï¼‰ã€‚ä½†æ˜¯ï¼Œé—­åŒ…çš„æƒ…å†µåˆæœ‰æ‰€ä¸åŒã€‚<code class="language-plaintext highlighter-rouge">åœ¨å¦ä¸€ä¸ªå‡½æ•°å†…éƒ¨å®šä¹‰çš„å‡½æ•°ï¼ˆåŒ…æ‹¬åŒ¿åå‡½æ•°ï¼‰ä¼šå°†åŒ…å«å‡½æ•°ï¼ˆå³å¤–éƒ¨å‡½æ•°ï¼‰çš„æ´»åŠ¨å¯¹è±¡æ·»åŠ åˆ°å®ƒçš„ä½œç”¨åŸŸé“¾ä¸­ã€‚</code>åœ¨åŒ¿åå‡½æ•°ä»åŒ…å«å‡½æ•°ä¸­è¢«è¿”å›åï¼Œå®ƒçš„ä½œç”¨åŸŸé“¾è¢«åˆå§‹åŒ–ä¸ºåŒ…å«å‡½æ•°çš„æ´»åŠ¨å¯¹è±¡å’Œå…¨å±€å˜é‡å¯¹è±¡ã€‚è¿™æ ·ï¼ŒåŒ¿åå‡½æ•°å°±å¯ä»¥è®¿é—®åœ¨åŒ…å«å‡½æ•°ä¸­å®šä¹‰çš„æ‰€æœ‰å˜é‡ã€‚æ›´ä¸ºé‡è¦çš„æ˜¯ï¼ŒåŒ…å«å‡½æ•°åœ¨æ‰§è¡Œå®Œæ¯•åï¼Œå…¶æ´»åŠ¨å¯¹è±¡ä¹Ÿä¸ä¼šè¢«é”€æ¯ï¼Œå› ä¸ºåŒ¿åå‡½æ•°çš„ä½œç”¨åŸŸé“¾ä»ç„¶åœ¨å¼•ç”¨è¿™ä¸ªæ´»åŠ¨å¯¹è±¡ã€‚æ¢å¥è¯è¯´ï¼Œå½“åŒ…å«å‡½æ•°è¿”å›åï¼Œå…¶æ‰§è¡Œç¯å¢ƒçš„ä½œç”¨åŸŸé“¾ä¼šè¢«é”€æ¯ï¼Œä½†å®ƒçš„æ´»åŠ¨å¯¹è±¡ä»ç„¶ä¼šç•™åœ¨å†…å­˜ä¸­ï¼›ç›´åˆ°åŒ¿åå‡½æ•°è¢«é”€æ¯åï¼ŒåŒ…å«å‡½æ•°çš„æ´»åŠ¨å¯¹è±¡æ‰ä¼šè¢«é”€æ¯ã€‚</p>

<p>ä½œç”¨åŸŸé“¾çš„è¿™ç§é…ç½®æœºåˆ¶å¼•å‡ºäº†ä¸€ä¸ªå€¼å¾—æ³¨æ„çš„å‰¯ä½œç”¨ï¼Œå³é—­åŒ…åªèƒ½å–å¾—åŒ…å«å‡½æ•°ä¸­ä»»ä½•å˜é‡çš„æœ€åä¸€ä¸ªå€¼ã€‚</p>
<div class="language-javascript highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kd">function</span> <span class="nx">createFunctions</span><span class="p">(){</span>
  <span class="kd">var</span> <span class="nx">result</span> <span class="o">=</span> <span class="k">new</span> <span class="nb">Array</span><span class="p">();</span>
  <span class="k">for</span> <span class="p">(</span><span class="kd">var</span> <span class="nx">i</span><span class="o">=</span><span class="mi">0</span><span class="p">;</span> <span class="nx">i</span> <span class="o">&lt;</span> <span class="mi">10</span><span class="p">;</span> <span class="nx">i</span><span class="o">++</span><span class="p">){</span>
    <span class="nx">result</span><span class="p">[</span><span class="nx">i</span><span class="p">]</span> <span class="o">=</span> <span class="kd">function</span><span class="p">(){</span>
      <span class="k">return</span> <span class="nx">i</span><span class="p">;</span>
    <span class="p">};</span>
<span class="p">}</span>
<span class="k">return</span> <span class="nx">result</span><span class="p">;</span>
<span class="p">}</span>
</code></pre></div></div>
<p>æ¯ä¸ªå‡½æ•°éƒ½è¿”å› 10ã€‚å› ä¸ºæ¯ä¸ªå‡½æ•°çš„ä½œç”¨åŸŸé“¾ä¸­éƒ½ä¿å­˜ç€ createFunctions() å‡½æ•°çš„æ´»åŠ¨å¯¹è±¡ï¼Œæ‰€ä»¥å®ƒä»¬å¼•ç”¨çš„éƒ½æ˜¯åŒä¸€ä¸ªå˜é‡ i ã€‚å½“createFunctions() å‡½æ•°è¿”å›åï¼Œå˜é‡ i çš„å€¼æ˜¯ 10ï¼Œæ­¤æ—¶æ¯ä¸ªå‡½æ•°éƒ½å¼•ç”¨ç€ä¿å­˜å˜é‡ i çš„åŒä¸€ä¸ªå˜é‡å¯¹è±¡ï¼Œæ‰€ä»¥åœ¨æ¯ä¸ªå‡½æ•°å†…éƒ¨ i çš„å€¼éƒ½æ˜¯ 10ã€‚
å¯ä»¥é€šè¿‡åˆ›å»ºå¦ä¸€ä¸ªåŒ¿åå‡½æ•°å¼ºåˆ¶è®©é—­åŒ…çš„è¡Œä¸º
ç¬¦åˆé¢„æœŸï¼š</p>
<div class="language-javascript highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kd">function</span> <span class="nx">createFunctions</span><span class="p">(){</span>
  <span class="kd">var</span> <span class="nx">result</span> <span class="o">=</span> <span class="k">new</span> <span class="nb">Array</span><span class="p">();</span>
  <span class="k">for</span> <span class="p">(</span><span class="kd">var</span> <span class="nx">i</span><span class="o">=</span><span class="mi">0</span><span class="p">;</span> <span class="nx">i</span> <span class="o">&lt;</span> <span class="mi">10</span><span class="p">;</span> <span class="nx">i</span><span class="o">++</span><span class="p">){</span>
    <span class="nx">result</span><span class="p">[</span><span class="nx">i</span><span class="p">]</span> <span class="o">=</span> <span class="kd">function</span><span class="p">(</span><span class="nx">num</span><span class="p">){</span>
      <span class="k">return</span> <span class="kd">function</span><span class="p">(){</span>
        <span class="k">return</span> <span class="nx">num</span><span class="p">;</span>
      <span class="p">};</span>
    <span class="p">}(</span><span class="nx">i</span><span class="p">);</span>
  <span class="p">}</span>
  <span class="k">return</span> <span class="nx">result</span><span class="p">;</span>
<span class="p">}</span>
</code></pre></div></div>

<h2 id="åŒ¿åå‡½æ•°çš„ä¸­çš„thisæŒ‡å‘å“ªé‡Œ">åŒ¿åå‡½æ•°çš„ä¸­çš„thisæŒ‡å‘å“ªé‡Œï¼Ÿ</h2>
<p>this å¯¹è±¡æ˜¯<code class="language-plaintext highlighter-rouge">åœ¨è¿è¡Œæ—¶åŸºäºå‡½æ•°çš„æ‰§è¡Œç¯å¢ƒç»‘å®šçš„</code>ï¼šåœ¨å…¨å±€å‡½æ•°ä¸­ï¼Œ this ç­‰äº window ï¼Œè€Œå½“å‡½æ•°è¢«ä½œä¸ºæŸä¸ªå¯¹è±¡çš„æ–¹æ³•è°ƒç”¨æ—¶ï¼Œ this ç­‰äºé‚£ä¸ªå¯¹è±¡ã€‚ä¸è¿‡ï¼Œ<code class="language-plaintext highlighter-rouge">åŒ¿åå‡½æ•°çš„æ‰§è¡Œç¯å¢ƒå…·æœ‰å…¨å±€æ€§</code>ï¼Œå› æ­¤å…¶ this å¯¹è±¡é€šå¸¸æŒ‡å‘ windowã€‚</p>
<div class="language-javascript highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kd">var</span> <span class="nx">name</span> <span class="o">=</span> <span class="dl">"</span><span class="s2">The Window</span><span class="dl">"</span><span class="p">;</span>
<span class="kd">var</span> <span class="nx">object</span> <span class="o">=</span> <span class="p">{</span>
  <span class="na">name</span> <span class="p">:</span> <span class="dl">"</span><span class="s2">My Object</span><span class="dl">"</span><span class="p">,</span>
  <span class="na">getNameFunc</span> <span class="p">:</span> <span class="kd">function</span><span class="p">(){</span>
    <span class="k">return</span> <span class="kd">function</span><span class="p">(){</span>
      <span class="k">return</span> <span class="k">this</span><span class="p">.</span><span class="nx">name</span><span class="p">;</span>
    <span class="p">};</span>
  <span class="p">}</span>
<span class="p">};</span>
<span class="nx">alert</span><span class="p">(</span><span class="nx">object</span><span class="p">.</span><span class="nx">getNameFunc</span><span class="p">()());</span> <span class="c1">//"The Window"ï¼ˆåœ¨éä¸¥æ ¼æ¨¡å¼ä¸‹ï¼‰</span>
</code></pre></div></div>

<p>æŠŠå¤–éƒ¨ä½œç”¨åŸŸä¸­çš„ this å¯¹è±¡ä¿å­˜åœ¨ä¸€ä¸ªé—­åŒ…èƒ½å¤Ÿè®¿é—®åˆ°çš„å˜é‡é‡Œï¼Œå°±å¯ä»¥è®©é—­åŒ…è®¿é—®è¯¥å¯¹è±¡äº†</p>
<div class="language-javascript highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kd">var</span> <span class="nx">name</span> <span class="o">=</span> <span class="dl">"</span><span class="s2">The Window</span><span class="dl">"</span><span class="p">;</span>
<span class="kd">var</span> <span class="nx">object</span> <span class="o">=</span> <span class="p">{</span>
  <span class="na">name</span> <span class="p">:</span> <span class="dl">"</span><span class="s2">My Object</span><span class="dl">"</span><span class="p">,</span>
  <span class="na">getNameFunc</span> <span class="p">:</span> <span class="kd">function</span><span class="p">(){</span>
    <span class="kd">var</span> <span class="nx">that</span> <span class="o">=</span> <span class="k">this</span><span class="p">;</span>
    <span class="k">return</span> <span class="kd">function</span><span class="p">(){</span>
      <span class="k">return</span> <span class="nx">that</span><span class="p">.</span><span class="nx">name</span><span class="p">;</span>
    <span class="p">};</span>
  <span class="p">}</span>
<span class="p">};</span>
<span class="nx">alert</span><span class="p">(</span><span class="nx">object</span><span class="p">.</span><span class="nx">getNameFunc</span><span class="p">()());</span> <span class="c1">//"My Object"</span>
</code></pre></div></div>

<h2 id="å¦‚ä½•ä½¿ç”¨åŒ¿åå‡½æ•°æ¥æ¨¡ä»¿å—çº§ä½œç”¨åŸŸ">å¦‚ä½•ä½¿ç”¨åŒ¿åå‡½æ•°æ¥æ¨¡ä»¿å—çº§ä½œç”¨åŸŸï¼Ÿ</h2>
<div class="language-javascript highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="p">(</span><span class="kd">function</span><span class="p">(){</span>
  <span class="c1">//è¿™é‡Œæ˜¯å—çº§ä½œç”¨åŸŸ</span>
<span class="p">})();</span>
</code></pre></div></div>

<p>å°†å‡½æ•°å£°æ˜åŒ…å«åœ¨ä¸€å¯¹åœ†æ‹¬å·ä¸­ï¼Œè¡¨ç¤ºå®ƒå®é™…ä¸Šæ˜¯ä¸€ä¸ªå‡½æ•°è¡¨è¾¾å¼ã€‚</p>
<div class="language-javascript highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kd">function</span> <span class="nx">outputNumbers</span><span class="p">(</span><span class="nx">count</span><span class="p">){</span>
  <span class="p">(</span><span class="kd">function</span> <span class="p">()</span> <span class="p">{</span>
    <span class="k">for</span> <span class="p">(</span><span class="kd">var</span> <span class="nx">i</span><span class="o">=</span><span class="mi">0</span><span class="p">;</span> <span class="nx">i</span> <span class="o">&lt;</span> <span class="nx">count</span><span class="p">;</span> <span class="nx">i</span><span class="o">++</span><span class="p">){</span>
      <span class="nx">alert</span><span class="p">(</span><span class="nx">i</span><span class="p">);</span>
    <span class="p">}</span>
  <span class="p">})();</span>
  <span class="nx">alert</span><span class="p">(</span><span class="nx">i</span><span class="p">);</span> <span class="c1">//å¯¼è‡´ä¸€ä¸ªé”™è¯¯ï¼</span>
<span class="p">}</span>
</code></pre></div></div>
<p>åœ¨åŒ¿åå‡½æ•°ä¸­å®šä¹‰çš„ä»»ä½•å˜é‡ï¼Œéƒ½ä¼šåœ¨æ‰§è¡Œç»“æŸæ—¶è¢«é”€æ¯ã€‚å› æ­¤ï¼Œå˜é‡ i åªèƒ½åœ¨å¾ªç¯ä¸­ä½¿ç”¨ï¼Œä½¿ç”¨åå³è¢«é”€æ¯ã€‚è€Œåœ¨ç§æœ‰ä½œç”¨åŸŸä¸­èƒ½å¤Ÿè®¿é—®å˜é‡ count ï¼Œæ˜¯å› ä¸ºè¿™ä¸ªåŒ¿åå‡½æ•°æ˜¯ä¸€ä¸ªé—­åŒ…ï¼Œå®ƒèƒ½å¤Ÿè®¿é—®åŒ…å«ä½œç”¨åŸŸä¸­çš„æ‰€æœ‰å˜é‡ã€‚
è¿™ç§æŠ€æœ¯ç»å¸¸åœ¨å…¨å±€ä½œç”¨åŸŸä¸­è¢«ç”¨åœ¨å‡½æ•°å¤–éƒ¨ï¼Œä»è€Œé™åˆ¶å‘å…¨å±€ä½œç”¨åŸŸä¸­æ·»åŠ è¿‡å¤šçš„å˜é‡å’Œå‡½æ•°ã€‚</p>

<h2 id="javascriptä¸­çš„domèŠ‚ç‚¹æœ‰å“ªäº›ç±»å‹domèŠ‚ç‚¹æœ‰å“ªäº›å±æ€§å’Œæ–¹æ³•">JavaScriptä¸­çš„DOMèŠ‚ç‚¹æœ‰å“ªäº›ç±»å‹ï¼ŸDOMèŠ‚ç‚¹æœ‰å“ªäº›å±æ€§å’Œæ–¹æ³•ï¼Ÿ</h2>
<p>JavaScript ä¸­çš„æ‰€æœ‰èŠ‚ç‚¹ç±»å‹éƒ½ç»§æ‰¿è‡ªNode ç±»å‹ï¼Œå› æ­¤æ‰€æœ‰èŠ‚ç‚¹ç±»å‹éƒ½å…±äº«ç€ç›¸åŒçš„åŸºæœ¬å±æ€§å’Œæ–¹æ³•ã€‚æ¯ä¸ªèŠ‚ç‚¹éƒ½æœ‰ä¸€ä¸ª nodeType å±æ€§ï¼Œç”¨äºè¡¨æ˜èŠ‚ç‚¹çš„ç±»å‹ã€‚èŠ‚ç‚¹ç±»å‹ç”±åœ¨ Node ç±»å‹ä¸­å®šä¹‰çš„ä¸‹åˆ—12 ä¸ªæ•°å€¼å¸¸é‡æ¥è¡¨ç¤ºï¼ˆå³ä¸€å…±æœ‰12ç§èŠ‚ç‚¹ç±»å‹ï¼‰ï¼š</p>
<div class="language-javascript highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nx">Node</span><span class="p">.</span><span class="nx">ELEMENT_NODE</span> <span class="p">(</span><span class="mi">1</span><span class="p">)</span><span class="err">ï¼›</span>
<span class="nx">Node</span><span class="p">.</span><span class="nx">ATTRIBUTE_NODE</span> <span class="p">(</span><span class="mi">2</span><span class="p">)</span><span class="err">ï¼›</span>
<span class="nx">Node</span><span class="p">.</span><span class="nx">TEXT_NODE</span> <span class="p">(</span><span class="mi">3</span><span class="p">)</span><span class="err">ï¼›</span>
<span class="nx">Node</span><span class="p">.</span><span class="nx">CDATA_SECTION_NODE</span> <span class="p">(</span><span class="mi">4</span><span class="p">)</span><span class="err">ï¼›</span>
<span class="nx">Node</span><span class="p">.</span><span class="nx">ENTITY_REFERENCE_NODE</span> <span class="p">(</span><span class="mi">5</span><span class="p">)</span><span class="err">ï¼›</span>
<span class="nx">Node</span><span class="p">.</span><span class="nx">ENTITY_NODE</span> <span class="p">(</span><span class="mi">6</span><span class="p">)</span><span class="err">ï¼›</span>
<span class="nx">Node</span><span class="p">.</span><span class="nx">PROCESSING_INSTRUCTION_NODE</span> <span class="p">(</span><span class="mi">7</span><span class="p">)</span><span class="err">ï¼›</span>
<span class="nx">Node</span><span class="p">.</span><span class="nx">COMMENT_NODE</span> <span class="p">(</span><span class="mi">8</span><span class="p">)</span><span class="err">ï¼›</span>
<span class="nx">Node</span><span class="p">.</span><span class="nx">DOCUMENT_NODE</span> <span class="p">(</span><span class="mi">9</span><span class="p">)</span><span class="err">ï¼›</span>
<span class="nx">Node</span><span class="p">.</span><span class="nx">DOCUMENT_TYPE_NODE</span> <span class="p">(</span><span class="mi">10</span><span class="p">)</span><span class="err">ï¼›</span>
<span class="nx">Node</span><span class="p">.</span><span class="nx">DOCUMENT_FRAGMENT_NODE</span> <span class="p">(</span><span class="mi">11</span><span class="p">)</span><span class="err">ï¼›</span>
<span class="nx">Node</span><span class="p">.</span><span class="nx">NOTATION_NODE</span> <span class="p">(</span><span class="mi">12</span><span class="p">)</span><span class="err">ï¼›</span>
</code></pre></div></div>

<p>å¹¶ä¸æ˜¯æ‰€æœ‰èŠ‚ç‚¹ç±»å‹éƒ½å—åˆ° Web æµè§ˆå™¨çš„æ”¯æŒã€‚</p>
<div class="language-javascript highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nx">nodeType</span> <span class="c1">// èŠ‚ç‚¹ç±»å‹</span>
<span class="nx">nodeName</span> <span class="c1">// å…ƒç´ çš„æ ‡ç­¾å</span>
<span class="nx">nodeValue</span> <span class="c1">//</span>
<span class="nx">childNodes</span> <span class="c1">// ä¿å­˜ç€ä¸€ä¸ªNodeListå¯¹è±¡ï¼ˆç±»æ•°ç»„å¯¹è±¡ï¼Œæœ‰lengthå±æ€§ï¼Œå¯ä»¥ç”¨[]è®¿é—®ï¼Œä½†æ˜¯ä¸æ˜¯æ•°ç»„ï¼‰ã€‚NodeList å¯¹è±¡çš„ç‹¬ç‰¹ä¹‹å¤„åœ¨äºï¼Œå®ƒå®é™…ä¸Šæ˜¯åŸºäº DOM ç»“æ„åŠ¨æ€æ‰§è¡ŒæŸ¥è¯¢çš„ç»“æœï¼Œå› æ­¤ DOM ç»“æ„çš„å˜åŒ–èƒ½å¤Ÿè‡ªåŠ¨åæ˜ åœ¨ NodeList å¯¹è±¡ä¸­ã€‚çˆ¶èŠ‚ç‚¹çš„ firstChild å’Œ lastChildå±æ€§åˆ†åˆ«æŒ‡å‘å…¶ childNodes åˆ—è¡¨ä¸­çš„ç¬¬ä¸€ä¸ªå’Œæœ€åä¸€ä¸ªèŠ‚ç‚¹ã€‚</span>
<span class="nx">ä¸€èˆ¬æ¥è¯´</span><span class="err">ï¼Œ</span><span class="nx">åº”è¯¥å°½é‡å‡å°‘è®¿é—®</span> <span class="nx">NodeList</span> <span class="nx">çš„æ¬¡æ•°</span><span class="err">ã€‚</span><span class="nx">å› ä¸ºæ¯æ¬¡è®¿é—®</span> <span class="nx">NodeList</span> <span class="err">ï¼Œ</span><span class="nx">éƒ½ä¼šè¿è¡Œä¸€æ¬¡åŸºäºæ–‡æ¡£çš„æŸ¥è¯¢</span><span class="err">ã€‚</span><span class="nx">æ‰€ä»¥</span><span class="err">ï¼Œ</span><span class="nx">å¯ä»¥è€ƒè™‘å°†ä»</span> <span class="nx">NodeList</span> <span class="nx">ä¸­å–å¾—çš„å€¼ç¼“å­˜èµ·æ¥</span><span class="err">ã€‚</span>

<span class="nx">parentNode</span> <span class="c1">//</span>
<span class="nx">ownerDocument</span> <span class="c1">// æŒ‡å‘è¡¨ç¤ºæ•´ä¸ªæ–‡æ¡£çš„æ–‡æ¡£èŠ‚ç‚¹</span>

<span class="nx">hasChildNodes</span><span class="p">()</span>
<span class="nx">appendChild</span><span class="p">()</span> <span class="c1">// å‘ childNodes åˆ—è¡¨çš„æœ«å°¾æ·»åŠ ä¸€ä¸ªèŠ‚ç‚¹ã€‚å¦‚æœä¼ å…¥åˆ° appendChild() ä¸­çš„èŠ‚ç‚¹å·²ç»æ˜¯æ–‡æ¡£çš„ä¸€éƒ¨åˆ†äº†ï¼Œé‚£ç»“æœå°±æ˜¯å°†è¯¥èŠ‚ç‚¹ä»åŸæ¥çš„ä½ç½®è½¬ç§»åˆ°æ–°ä½ç½®ã€‚ä»»ä½• DOM èŠ‚ç‚¹ä¸èƒ½åŒæ—¶å‡ºç°åœ¨æ–‡æ¡£ä¸­çš„å¤šä¸ªä½ç½®ä¸Šã€‚å› æ­¤ï¼Œå¦‚æœåœ¨è°ƒç”¨ appendChild() æ—¶ä¼ å…¥äº†çˆ¶èŠ‚ç‚¹çš„ç¬¬ä¸€ä¸ªå­èŠ‚ç‚¹ï¼Œé‚£ä¹ˆè¯¥èŠ‚ç‚¹å°±ä¼šæˆä¸ºçˆ¶èŠ‚ç‚¹çš„æœ€åä¸€ä¸ªå­èŠ‚ç‚¹ã€‚</span>
<span class="nx">insertBefore</span><span class="p">()</span>
<span class="nx">replaceChild</span><span class="p">()</span>
<span class="nx">removeChild</span><span class="p">()</span>
<span class="nx">cloneNode</span><span class="p">()</span> <span class="c1">//æ¥å—ä¸€ä¸ªå¸ƒå°”å€¼å‚æ•°ï¼Œè¡¨ç¤ºæ˜¯å¦æ‰§è¡Œæ·±å¤åˆ¶ã€‚ä¸ä¼šå¤åˆ¶æ·»åŠ åˆ° DOM èŠ‚ç‚¹ä¸­çš„ JavaScript å±æ€§ï¼Œä¾‹å¦‚äº‹ä»¶å¤„ç†ç¨‹åºç­‰ã€‚è¿™ä¸ªæ–¹æ³•åªå¤åˆ¶ç‰¹æ€§ã€ï¼ˆåœ¨æ˜ç¡®æŒ‡å®šçš„æƒ…å†µä¸‹ä¹Ÿå¤åˆ¶ï¼‰å­èŠ‚ç‚¹ï¼Œå…¶ä»–ä¸€åˆ‡éƒ½ä¸ä¼šå¤åˆ¶ã€‚</span>
<span class="nx">normalize</span><span class="p">()</span> <span class="c1">// å¤„ç†æ–‡æ¡£æ ‘ä¸­çš„æ–‡æœ¬èŠ‚ç‚¹ï¼Œç”±äºè§£æå™¨çš„å®ç°æˆ– DOM æ“ä½œç­‰åŸå› ï¼Œå¯èƒ½ä¼šå‡ºç°æ–‡æœ¬èŠ‚ç‚¹ä¸åŒ…å«æ–‡æœ¬ï¼Œæˆ–è€…æ¥è¿å‡ºç°ä¸¤ä¸ªæ–‡æœ¬èŠ‚ç‚¹çš„æƒ…å†µã€‚å½“åœ¨æŸä¸ªèŠ‚ç‚¹ä¸Šè°ƒç”¨è¿™ä¸ªæ–¹æ³•æ—¶ï¼Œå°±ä¼šåœ¨è¯¥èŠ‚ç‚¹çš„åä»£èŠ‚ç‚¹ä¸­æŸ¥æ‰¾ä¸Šè¿°ä¸¤ç§æƒ…å†µã€‚å¦‚æœæ‰¾åˆ°äº†ç©ºæ–‡æœ¬èŠ‚ç‚¹ï¼Œåˆ™åˆ é™¤å®ƒï¼›å¦‚æœæ‰¾åˆ°ç›¸é‚»çš„æ–‡æœ¬èŠ‚ç‚¹ï¼Œåˆ™å°†å®ƒä»¬åˆå¹¶ä¸ºä¸€ä¸ªæ–‡æœ¬èŠ‚ç‚¹ã€‚</span>
</code></pre></div></div>

<h2 id="documentå¯¹è±¡çš„ç±»å‹æ˜¯ä»€ä¹ˆæœ‰å“ªäº›å±æ€§å’Œæ–¹æ³•">documentå¯¹è±¡çš„ç±»å‹æ˜¯ä»€ä¹ˆï¼Ÿæœ‰å“ªäº›å±æ€§å’Œæ–¹æ³•ï¼Ÿ</h2>
<div class="language-javascript highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nb">document</span> <span class="nx">å¯¹è±¡æ˜¯</span> <span class="nx">HTMLDocument</span> <span class="err">ï¼ˆ</span><span class="nx">ç»§æ‰¿è‡ªDocumentç±»å‹</span><span class="err">ï¼‰</span><span class="nx">çš„ä¸€ä¸ªå®ä¾‹</span><span class="err">ï¼Œ</span><span class="nx">è¡¨ç¤ºæ•´ä¸ª</span> <span class="nx">HTML</span> <span class="nx">é¡µé¢</span><span class="err">ã€‚</span><span class="nx">è€Œä¸”</span><span class="err">ï¼Œ</span> <span class="nb">document</span> <span class="nx">å¯¹è±¡æ˜¯</span> <span class="nb">window</span> <span class="nx">å¯¹è±¡çš„ä¸€ä¸ªå±æ€§</span><span class="err">ï¼Œ</span><span class="nx">å› æ­¤å¯ä»¥å°†å…¶ä½œä¸ºå…¨å±€å¯¹è±¡æ¥è®¿é—®</span><span class="err">ã€‚</span>
<span class="nx">nodeType</span> <span class="nx">çš„å€¼ä¸º</span> <span class="mi">9</span>
<span class="nx">nodeName</span> <span class="nx">çš„å€¼ä¸º</span> <span class="dl">"</span><span class="s2">#document</span><span class="dl">"</span>
<span class="nx">nodeValue</span> <span class="nx">çš„å€¼ä¸º</span> <span class="kc">null</span>
<span class="nx">parentNode</span> <span class="nx">çš„å€¼ä¸º</span> <span class="kc">null</span>
<span class="nx">documentElement</span> <span class="c1">// è¯¥å±æ€§å§‹ç»ˆæŒ‡å‘ HTML é¡µé¢ä¸­çš„ &lt;html&gt; å…ƒç´ </span>
<span class="nx">body</span> <span class="c1">// ç›´æ¥æŒ‡å‘ &lt;body&gt; å…ƒç´ </span>
<span class="nx">doctype</span> <span class="c1">// å–å¾—å¯¹&lt;!DOCTYPE&gt;çš„å¼•ç”¨</span>
<span class="nx">title</span> <span class="c1">//åŒ…å«ç€&lt;title&gt; å…ƒç´ ä¸­çš„æ–‡æœ¬ï¼Œä¿®æ”¹ title å±æ€§çš„å€¼ä¸ä¼šæ”¹å˜ &lt;title&gt;å…ƒç´ </span>
<span class="nx">URL</span> <span class="c1">// é¡µé¢å®Œæ•´çš„ URL</span>
<span class="nx">domain</span> <span class="c1">// é¡µé¢çš„åŸŸå</span>
<span class="nx">å½“é¡µé¢ä¸­åŒ…å«æ¥è‡ªå…¶ä»–å­åŸŸçš„æ¡†æ¶æˆ–å†…åµŒæ¡†æ¶æ—¶</span><span class="err">ï¼Œ</span><span class="nx">èƒ½å¤Ÿè®¾ç½®</span> <span class="nb">document</span><span class="p">.</span><span class="nx">domain</span> <span class="nx">å°±éå¸¸æ–¹ä¾¿äº†</span><span class="err">ã€‚</span><span class="nx">ç”±</span>
<span class="nx">äº</span> <span class="nx">è·¨</span> <span class="nx">åŸŸ</span> <span class="nx">å®‰</span> <span class="nx">å…¨</span> <span class="nx">é™</span> <span class="nx">åˆ¶</span> <span class="err">ï¼Œ</span> <span class="nx">æ¥</span> <span class="nx">è‡ª</span> <span class="nx">ä¸</span> <span class="nx">åŒ</span> <span class="nx">å­</span> <span class="nx">åŸŸ</span> <span class="nx">çš„</span> <span class="nx">é¡µ</span> <span class="nx">é¢</span> <span class="nx">æ— </span> <span class="nx">æ³•</span> <span class="nx">é€š</span> <span class="nx">è¿‡</span> <span class="nx">JavaScript</span> <span class="nx">é€š</span> <span class="nx">ä¿¡</span> <span class="err">ã€‚</span> <span class="nx">è€Œ</span> <span class="nx">é€š</span> <span class="nx">è¿‡</span> <span class="nx">å°†</span> <span class="nx">æ¯</span> <span class="nx">ä¸ª</span> <span class="nx">é¡µ</span> <span class="nx">é¢</span> <span class="nx">çš„document</span><span class="p">.</span><span class="nx">domain</span> <span class="nx">è®¾ç½®ä¸ºç›¸åŒçš„å€¼</span><span class="err">ï¼Œ</span><span class="nx">è¿™äº›é¡µé¢å°±å¯ä»¥äº’ç›¸è®¿é—®å¯¹æ–¹åŒ…å«çš„</span> <span class="nx">JavaScript</span> <span class="nx">å¯¹è±¡äº†</span><span class="err">ã€‚</span><span class="nx">ä¾‹å¦‚</span><span class="err">ï¼Œ</span><span class="nx">å‡è®¾æœ‰ä¸€ä¸ªé¡µé¢åŠ è½½è‡ª</span> <span class="nx">www</span><span class="p">.</span><span class="nx">wrox</span><span class="p">.</span><span class="nx">com</span><span class="err">ï¼Œ</span><span class="nx">å…¶ä¸­åŒ…å«ä¸€ä¸ªå†…åµŒæ¡†æ¶</span><span class="err">ï¼Œ</span><span class="nx">æ¡†æ¶å†…çš„é¡µé¢åŠ è½½è‡ª</span> <span class="nx">p2p</span><span class="p">.</span><span class="nx">wrox</span><span class="p">.</span><span class="nx">com</span><span class="err">ã€‚</span><span class="nx">ç”±äº</span> <span class="nb">document</span><span class="p">.</span><span class="nx">domain</span> <span class="nx">å­—ç¬¦ä¸²ä¸ä¸€æ ·</span><span class="err">ï¼Œ</span><span class="nx">å†…å¤–ä¸¤ä¸ªé¡µé¢ä¹‹é—´æ— æ³•ç›¸äº’è®¿é—®å¯¹æ–¹çš„</span> <span class="nx">JavaScript</span> <span class="nx">å¯¹è±¡</span><span class="err">ã€‚</span><span class="nx">ä½†å¦‚æœå°†è¿™ä¸¤ä¸ªé¡µé¢çš„</span> <span class="nb">document</span><span class="p">.</span><span class="nx">domain</span> <span class="nx">å€¼éƒ½è®¾ç½®ä¸º</span> <span class="dl">"</span><span class="s2">wrox.com</span><span class="dl">"</span> <span class="err">ï¼Œ</span><span class="nx">å®ƒä»¬ä¹‹é—´å°±å¯ä»¥é€šä¿¡äº†</span><span class="err">ã€‚</span>
<span class="nx">referrer</span> <span class="c1">// é“¾æ¥åˆ°å½“å‰é¡µé¢çš„é‚£ä¸ªé¡µé¢çš„ URL</span>
<span class="nb">document</span><span class="p">.</span><span class="nx">anchors</span> <span class="c1">// æ–‡æ¡£ä¸­æ‰€æœ‰å¸¦ name ç‰¹æ€§çš„ &lt;a&gt; å…ƒç´ </span>
<span class="nb">document</span><span class="p">.</span><span class="nx">forms</span> <span class="c1">// æ–‡æ¡£ä¸­æ‰€æœ‰çš„ &lt;form&gt; å…ƒç´ ï¼Œä¸ document.getElementsByTagName("form")å¾—åˆ°çš„ç»“æœç›¸åŒ</span>
<span class="nx">getElementById</span><span class="p">()</span> <span class="c1">// å¦‚æœé¡µé¢ä¸­å¤šä¸ªå…ƒç´ çš„ ID å€¼ç›¸åŒï¼Œåªè¿”å›æ–‡æ¡£ä¸­ç¬¬ä¸€æ¬¡å‡ºç°çš„å…ƒç´ </span>
<span class="nb">document</span><span class="p">.</span><span class="nx">links</span> <span class="c1">// åŒ…å«æ–‡æ¡£ä¸­æ‰€æœ‰å¸¦ href ç‰¹æ€§çš„ &lt;a&gt; å…ƒç´ </span>
<span class="nx">implementation</span> <span class="c1">// æ£€æµ‹æµè§ˆå™¨å®ç°äº† DOM çš„å“ªäº›éƒ¨åˆ†</span>
<span class="nx">getElementsByTagName</span><span class="p">()</span> <span class="c1">// è¿”å›ä¸€ä¸ª HTMLCollection å¯¹è±¡ï¼Œä½œä¸ºä¸€ä¸ªâ€œåŠ¨æ€â€é›†åˆï¼Œè¯¥å¯¹è±¡ä¸ NodeList éå¸¸ç±»ä¼¼</span>
<span class="nx">getElementsByName</span><span class="p">()</span>
<span class="nx">createElement</span><span class="p">()</span>
</code></pre></div></div>

<p>æ‰€æœ‰ HTML å…ƒç´ éƒ½æ˜¯ç”± HTMLElement æˆ–è€…å…¶æ›´å…·ä½“çš„å­ç±»å‹æ¥è¡¨ç¤ºçš„ã€‚å¦‚ï¼š</p>
<div class="language-javascript highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nx">A</span> <span class="nx">HTMLAnchorElement</span>
<span class="nx">BODY</span> <span class="nx">HTMLBodyElement</span>
<span class="nx">BUTTON</span> <span class="nx">HTMLButtonElement</span>
<span class="nx">DIV</span> <span class="nx">HTMLDivElement</span>
</code></pre></div></div>

<h2 id="æœ‰å“ªäº›å¯¹domçš„æ‰©å±•">æœ‰å“ªäº›å¯¹DOMçš„æ‰©å±•ï¼Ÿ</h2>
<p>Selectors APIï¼šç”± W3C å‘èµ·åˆ¶å®šçš„ä¸€ä¸ªæ ‡å‡†ï¼Œè‡´åŠ›äºè®©æµè§ˆå™¨åŸç”Ÿæ”¯æŒ CSS æŸ¥è¯¢ã€‚
HTML5ï¼šå›´ç»•å¦‚ä½•ä½¿ç”¨æ–°å¢æ ‡è®°å®šä¹‰äº†å¤§é‡ JavaScript APIã€‚å…¶ä¸­ä¸€äº› API ä¸ DOM é‡å ï¼Œå®šä¹‰äº†æµè§ˆå™¨åº”è¯¥æ”¯æŒçš„ DOMæ‰©å±•ã€‚
æ­¤å¤–ä¸åŒæµè§ˆå™¨æœ‰è‡ªå·±çš„ä¸“æœ‰æ‰©å±•ã€‚</p>

<h2 id="æœ‰å“ªäº›ä¸ºå…ƒç´ å®šä¹‰äº‹ä»¶çš„æ–¹å¼">æœ‰å“ªäº›ä¸ºå…ƒç´ å®šä¹‰äº‹ä»¶çš„æ–¹å¼ï¼Ÿ</h2>
<p>HTMLäº‹ä»¶å¤„ç†ç¨‹åºï¼š</p>
<div class="language-javascript highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="o">&lt;</span><span class="nx">input</span> <span class="nx">type</span><span class="o">=</span><span class="dl">"</span><span class="s2">button</span><span class="dl">"</span> <span class="nx">value</span><span class="o">=</span><span class="dl">"</span><span class="s2">Click Me</span><span class="dl">"</span> <span class="nx">onclick</span><span class="o">=</span><span class="dl">"</span><span class="s2">alert('Clicked')</span><span class="dl">"</span> <span class="o">/&gt;</span>
</code></pre></div></div>

<p>DOM0 çº§äº‹ä»¶å¤„ç†ç¨‹åºï¼š</p>
<div class="language-javascript highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kd">var</span> <span class="nx">btn</span> <span class="o">=</span> <span class="nb">document</span><span class="p">.</span><span class="nx">getElementById</span><span class="p">(</span><span class="dl">"</span><span class="s2">myBtn</span><span class="dl">"</span><span class="p">);</span>
<span class="nx">btn</span><span class="p">.</span><span class="nx">onclick</span> <span class="o">=</span> <span class="kd">function</span><span class="p">(){</span>
  <span class="nx">alert</span><span class="p">(</span><span class="dl">"</span><span class="s2">Clicked</span><span class="dl">"</span><span class="p">);</span>
<span class="p">};</span>
<span class="nx">btn</span><span class="p">.</span><span class="nx">onclick</span> <span class="o">=</span> <span class="kc">null</span><span class="p">;</span> <span class="c1">//åˆ é™¤äº‹ä»¶å¤„ç†ç¨‹åº</span>

<span class="err">â€‹</span><span class="s2">```javascript 

ä»¥è¿™ç§æ–¹å¼æ·»åŠ çš„äº‹ä»¶å¤„ç†ç¨‹åºä¼šåœ¨äº‹ä»¶æµçš„å†’æ³¡é˜¶æ®µè¢«å¤„ç†ã€‚


DOM2 çº§äº‹ä»¶å¤„ç†ç¨‹åºï¼š 

â€‹```</span><span class="nx">javascript</span>
<span class="kd">var</span> <span class="nx">btn</span> <span class="o">=</span> <span class="nb">document</span><span class="p">.</span><span class="nx">getElementById</span><span class="p">(</span><span class="dl">"</span><span class="s2">myBtn</span><span class="dl">"</span><span class="p">);</span>
<span class="nx">btn</span><span class="p">.</span><span class="nx">addEventListener</span><span class="p">(</span><span class="dl">"</span><span class="s2">click</span><span class="dl">"</span><span class="p">,</span> <span class="kd">function</span><span class="p">(){</span>
  <span class="nx">alert</span><span class="p">(</span><span class="k">this</span><span class="p">.</span><span class="nx">id</span><span class="p">);</span>
<span class="p">},</span> <span class="kc">false</span><span class="p">);</span>

<span class="c1">// å¯ä»¥æ·»åŠ å¤šä¸ªäº‹ä»¶å¤„ç†ç¨‹åºï¼Œå®ƒä»¬å°†æŒ‰é¡ºåºè§¦å‘</span>
<span class="nx">btn</span><span class="p">.</span><span class="nx">addEventListener</span><span class="p">(</span><span class="dl">"</span><span class="s2">click</span><span class="dl">"</span><span class="p">,</span> <span class="kd">function</span><span class="p">(){</span>
  <span class="nx">alert</span><span class="p">(</span><span class="dl">"</span><span class="s2">Hello world!</span><span class="dl">"</span><span class="p">);</span>
<span class="p">},</span> <span class="kc">false</span><span class="p">);</span>
</code></pre></div></div>

<p>é€šè¿‡ addEventListener() æ·»åŠ çš„äº‹ä»¶å¤„ç†ç¨‹åºåªèƒ½ä½¿ç”¨ removeEventListener() æ¥ç§»é™¤ï¼›ç§»é™¤æ—¶ä¼ å…¥çš„å‚æ•°ä¸æ·»åŠ å¤„ç†ç¨‹åºæ—¶ä½¿ç”¨çš„å‚æ•°ç›¸åŒã€‚è¿™ä¹Ÿæ„å‘³ç€é€šè¿‡ addEventListener() æ·»åŠ çš„åŒ¿åå‡½æ•°å°†æ— æ³•ç§»é™¤ã€‚</p>

<p>å¤§å¤šæ•°æƒ…å†µä¸‹ï¼Œéƒ½æ˜¯å°†äº‹ä»¶å¤„ç†ç¨‹åºæ·»åŠ åˆ°äº‹ä»¶æµçš„å†’æ³¡é˜¶æ®µï¼Œè¿™æ ·å¯ä»¥æœ€å¤§é™åº¦åœ°å…¼å®¹å„ç§æµè§ˆå™¨ã€‚æœ€å¥½åªåœ¨éœ€è¦åœ¨äº‹ä»¶åˆ°è¾¾ç›®æ ‡ä¹‹å‰æˆªè·å®ƒçš„æ—¶å€™å°†äº‹ä»¶å¤„ç†ç¨‹åºæ·»åŠ åˆ°æ•è·é˜¶æ®µã€‚å¦‚æœä¸æ˜¯ç‰¹åˆ«éœ€è¦ï¼Œä¸å»ºè®®åœ¨äº‹ä»¶æ•è·é˜¶æ®µæ³¨å†Œäº‹ä»¶å¤„ç†ç¨‹åºã€‚</p>

<h2 id="eventå¯¹è±¡æœ‰å“ªäº›å±æ€§å’Œæ–¹æ³•currenttargetå’Œtargetæœ‰ä»€ä¹ˆåŒºåˆ«">eventå¯¹è±¡æœ‰å“ªäº›å±æ€§å’Œæ–¹æ³•ï¼ŸcurrentTargetå’Œtargetæœ‰ä»€ä¹ˆåŒºåˆ«ï¼Ÿ</h2>
<p>åœ¨è§¦å‘ DOM ä¸Šçš„æŸä¸ªäº‹ä»¶æ—¶ï¼Œä¼šäº§ç”Ÿä¸€ä¸ªäº‹ä»¶å¯¹è±¡ eventï¼ˆæ— è®ºæŒ‡å®šäº‹ä»¶å¤„ç†ç¨‹åºæ—¶ä½¿ç”¨ä»€
ä¹ˆæ–¹æ³•ï¼‰</p>
<div class="language-javascript highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nx">btn</span><span class="p">.</span><span class="nx">onclick</span> <span class="o">=</span> <span class="kd">function</span><span class="p">(</span><span class="nx">event</span><span class="p">){</span>
  <span class="nx">alert</span><span class="p">(</span><span class="nx">event</span><span class="p">.</span><span class="nx">type</span><span class="p">);</span> <span class="c1">//"click"</span>
<span class="p">};</span>

<span class="nx">btn</span><span class="p">.</span><span class="nx">addEventListener</span><span class="p">(</span><span class="dl">"</span><span class="s2">click</span><span class="dl">"</span><span class="p">,</span> <span class="kd">function</span><span class="p">(</span><span class="nx">event</span><span class="p">){</span>
  <span class="nx">alert</span><span class="p">(</span><span class="nx">event</span><span class="p">.</span><span class="nx">type</span><span class="p">);</span> <span class="c1">//"click"</span>
<span class="p">},</span> <span class="kc">false</span><span class="p">);</span>
</code></pre></div></div>

<p>event å¯¹è±¡åŒ…å«ä¸åˆ›å»ºå®ƒçš„ç‰¹å®šäº‹ä»¶æœ‰å…³çš„å±æ€§å’Œæ–¹æ³•ã€‚è§¦å‘çš„äº‹ä»¶ç±»å‹ä¸ä¸€æ ·ï¼Œå¯ç”¨çš„å±æ€§å’Œæ–¹
æ³•ä¹Ÿä¸ä¸€æ ·ã€‚ä¸è¿‡ï¼Œæœ‰ä¸€äº›å…¬å…±çš„æˆå‘˜:</p>
<div class="language-javascript highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nx">bubbles</span>  <span class="nx">è¡¨æ˜äº‹ä»¶æ˜¯å¦å†’æ³¡</span>
<span class="nx">cancelable</span>   <span class="nx">è¡¨æ˜æ˜¯å¦å¯ä»¥å–æ¶ˆäº‹ä»¶çš„é»˜è®¤è¡Œä¸º</span>
<span class="nx">currentTarget</span>   <span class="nx">å…¶äº‹ä»¶å¤„ç†ç¨‹åºå½“å‰æ­£åœ¨å¤„ç†äº‹ä»¶çš„é‚£ä¸ªå…ƒç´ </span>
<span class="nx">defaultPrevented</span>   <span class="nx">ä¸º</span> <span class="kc">true</span> <span class="nx">è¡¨</span> <span class="nx">ç¤º</span> <span class="nx">å·²</span> <span class="nx">ç»</span> <span class="nx">è°ƒ</span> <span class="nx">ç”¨</span> <span class="nx">äº†</span> <span class="nx">preventDefault</span><span class="p">()</span>
<span class="nx">preventDefault</span><span class="p">()</span>   <span class="nx">å–æ¶ˆäº‹ä»¶çš„é»˜è®¤è¡Œä¸º</span><span class="err">ã€‚</span><span class="nx">å¦‚æœ</span> <span class="nx">cancelable</span> <span class="nx">æ˜¯true</span> <span class="err">ï¼Œ</span><span class="nx">åˆ™å¯ä»¥ä½¿ç”¨è¿™ä¸ªæ–¹æ³•</span>
<span class="nx">stopImmediatePropagation</span><span class="p">()</span>  <span class="nx">å–æ¶ˆäº‹ä»¶çš„è¿›ä¸€æ­¥æ•è·æˆ–å†’æ³¡</span><span class="err">ï¼Œ</span><span class="nx">åŒæ—¶é˜»æ­¢ä»»ä½•äº‹ä»¶å¤„ç†ç¨‹åºè¢«è°ƒç”¨</span>
<span class="nx">stopPropagation</span><span class="p">()</span>   <span class="nx">å–æ¶ˆäº‹ä»¶çš„è¿›ä¸€æ­¥æ•è·æˆ–å†’æ³¡</span><span class="err">ã€‚</span><span class="nx">å¦‚æœ</span> <span class="nx">bubblesä¸º</span> <span class="kc">true</span> <span class="err">ï¼Œ</span><span class="nx">åˆ™å¯ä»¥ä½¿ç”¨è¿™ä¸ªæ–¹æ³•</span>
<span class="nx">target</span>   <span class="nx">äº‹ä»¶çš„ç›®æ ‡</span>
<span class="nx">trusted</span>   <span class="nx">ä¸º</span> <span class="kc">true</span> <span class="nx">è¡¨ç¤ºäº‹ä»¶æ˜¯æµè§ˆå™¨ç”Ÿæˆçš„</span><span class="err">ã€‚</span><span class="nx">ä¸º</span> <span class="kc">false</span> <span class="nx">è¡¨ç¤º</span> <span class="nx">äº‹</span> <span class="nx">ä»¶</span> <span class="nx">æ˜¯</span> <span class="nx">ç”±</span> <span class="nx">å¼€</span> <span class="nx">å‘</span> <span class="nx">äºº</span> <span class="nx">å‘˜</span> <span class="nx">é€š</span> <span class="nx">è¿‡</span> <span class="nx">JavaScript</span> <span class="nx">åˆ›</span> <span class="nx">å»º</span> <span class="nx">çš„</span>
<span class="nx">type</span>   <span class="nx">è¢«è§¦å‘çš„äº‹ä»¶çš„ç±»å‹</span>
<span class="nx">view</span>   <span class="nx">ä¸äº‹ä»¶å…³è”çš„æŠ½è±¡è§†å›¾</span><span class="err">ã€‚</span><span class="nx">ç­‰åŒäºå‘ç”Ÿäº‹ä»¶çš„window</span> <span class="nx">å¯¹è±¡</span>
<span class="nx">eventPhase</span> <span class="nx">äº‹ä»¶å½“å‰æ­£ä½äºäº‹ä»¶æµçš„å“ªä¸ªé˜¶æ®µ</span><span class="err">ã€‚</span><span class="nx">æ•è·é˜¶æ®µeventPhaseä¸º1</span> <span class="err">ï¼›</span><span class="nx">äº‹ä»¶å¤„ç†ç¨‹åºå¤„äºç›®æ ‡å¯¹è±¡ä¸Š</span><span class="err">ï¼Œ</span><span class="nx">ä¸º2</span> <span class="err">ï¼›</span><span class="nx">åœ¨å†’æ³¡é˜¶æ®µè°ƒç”¨çš„äº‹ä»¶å¤„ç†ç¨‹åº</span><span class="err">ï¼Œ</span><span class="nx">ä¸º3</span> <span class="err">ã€‚</span><span class="nx">è¦æ³¨æ„çš„æ˜¯</span><span class="err">ï¼Œ</span><span class="nx">å°½ç®¡</span><span class="err">â€œ</span><span class="nx">å¤„äºç›®æ ‡</span><span class="err">â€</span><span class="nx">å‘ç”Ÿåœ¨å†’æ³¡é˜¶æ®µ</span><span class="err">ï¼Œ</span><span class="nx">ä½†</span> <span class="nx">eventPhase</span> <span class="nx">ä»ç„¶ä¸€ç›´ç­‰äº</span> <span class="mi">2</span> <span class="err">ã€‚</span>
</code></pre></div></div>

<p>åœ¨äº‹ä»¶å¤„ç†ç¨‹åºå†…éƒ¨ï¼Œå¯¹è±¡ this å§‹ç»ˆç­‰äº currentTarget çš„å€¼ï¼Œè€Œ target åˆ™åªåŒ…å«äº‹ä»¶çš„å®é™…ç›®æ ‡ã€‚å¦‚æœç›´æ¥å°†äº‹ä»¶å¤„ç†ç¨‹åºæŒ‡å®šç»™äº†ç›®æ ‡å…ƒç´ ï¼Œåˆ™ this ã€ currentTarget å’Œ target åŒ…å«ç›¸åŒçš„å€¼ï¼š</p>
<div class="language-javascript highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kd">var</span> <span class="nx">btn</span> <span class="o">=</span> <span class="nb">document</span><span class="p">.</span><span class="nx">getElementById</span><span class="p">(</span><span class="dl">"</span><span class="s2">myBtn</span><span class="dl">"</span><span class="p">);</span>
<span class="nx">btn</span><span class="p">.</span><span class="nx">onclick</span> <span class="o">=</span> <span class="kd">function</span><span class="p">(</span><span class="nx">event</span><span class="p">){</span>
  <span class="nx">alert</span><span class="p">(</span><span class="nx">event</span><span class="p">.</span><span class="nx">currentTarget</span> <span class="o">===</span> <span class="k">this</span><span class="p">);</span> <span class="c1">//true</span>
  <span class="nx">alert</span><span class="p">(</span><span class="nx">event</span><span class="p">.</span><span class="nx">target</span> <span class="o">===</span> <span class="k">this</span><span class="p">);</span> <span class="c1">//true</span>
<span class="p">};</span>

<span class="nx">å¦‚æœäº‹ä»¶å¤„ç†ç¨‹åºå­˜åœ¨äºæŒ‰é’®çš„çˆ¶èŠ‚ç‚¹ä¸­</span><span class="err">ï¼ˆ</span><span class="nx">ä¾‹å¦‚</span> <span class="nb">document</span><span class="p">.</span><span class="nx">body</span> <span class="err">ï¼‰ï¼Œ</span><span class="nx">é‚£ä¹ˆè¿™äº›å€¼æ˜¯ä¸ç›¸åŒçš„</span><span class="err">ï¼š</span>
<span class="nb">document</span><span class="p">.</span><span class="nx">body</span><span class="p">.</span><span class="nx">onclick</span> <span class="o">=</span> <span class="kd">function</span><span class="p">(</span><span class="nx">event</span><span class="p">){</span>
  <span class="nx">alert</span><span class="p">(</span><span class="nx">event</span><span class="p">.</span><span class="nx">currentTarget</span> <span class="o">===</span> <span class="nb">document</span><span class="p">.</span><span class="nx">body</span><span class="p">);</span> <span class="c1">//true</span>
  <span class="nx">alert</span><span class="p">(</span><span class="k">this</span> <span class="o">===</span> <span class="nb">document</span><span class="p">.</span><span class="nx">body</span><span class="p">);</span> <span class="c1">//true</span>
  <span class="nx">alert</span><span class="p">(</span><span class="nx">event</span><span class="p">.</span><span class="nx">target</span> <span class="o">===</span> <span class="nb">document</span><span class="p">.</span><span class="nx">getElementById</span><span class="p">(</span><span class="dl">"</span><span class="s2">myBtn</span><span class="dl">"</span><span class="p">));</span> <span class="c1">//true</span>
<span class="p">};</span>
</code></pre></div></div>
<p>this å’Œ currentTarget éƒ½ç­‰äº document.body ï¼Œå› ä¸ºäº‹ä»¶å¤„ç†ç¨‹åºæ˜¯æ³¨å†Œåˆ°è¿™ä¸ªå…ƒç´ ä¸Šçš„ã€‚ç„¶è€Œï¼Œ target å…ƒç´ å´ç­‰äºæŒ‰é’®å…ƒç´ ï¼Œå› ä¸ºå®ƒæ˜¯ click äº‹ä»¶çœŸæ­£çš„ç›®æ ‡ã€‚ç”±äºæŒ‰é’®ä¸Šå¹¶æ²¡æœ‰æ³¨å†Œäº‹ä»¶å¤„ç†ç¨‹åºï¼Œç»“æœ click äº‹ä»¶å°±å†’æ³¡åˆ°äº† document.body ï¼Œåœ¨é‚£é‡Œäº‹ä»¶æ‰å¾—åˆ°äº†å¤„ç†ã€‚</p>

<h2 id="å¦‚ä½•ä¼˜åŒ–å› ä¸ºå®šä¹‰äº‹ä»¶è€Œå¸¦æ¥çš„æ€§èƒ½é—®é¢˜">å¦‚ä½•ä¼˜åŒ–å› ä¸ºå®šä¹‰äº‹ä»¶è€Œå¸¦æ¥çš„æ€§èƒ½é—®é¢˜ï¼Ÿ</h2>
<p>åœ¨ JavaScript ä¸­ï¼Œæ·»åŠ åˆ°é¡µé¢ä¸Šçš„äº‹ä»¶å¤„ç†ç¨‹åºæ•°é‡å°†ç›´æ¥å…³ç³»åˆ°é¡µé¢çš„æ•´ä½“è¿è¡Œæ€§èƒ½ã€‚å¯¼è‡´è¿™ä¸€é—®é¢˜çš„åŸå› æ˜¯å¤šæ–¹é¢çš„ï¼š
æ¯ä¸ªå‡½æ•°éƒ½æ˜¯å¯¹è±¡ï¼Œéƒ½ä¼šå ç”¨å†…å­˜ï¼›å†…å­˜ä¸­çš„å¯¹è±¡è¶Šå¤šï¼Œæ€§èƒ½å°±è¶Šå·®ã€‚
å¿…é¡»äº‹å…ˆæŒ‡å®šæ‰€æœ‰äº‹ä»¶å¤„ç†ç¨‹åºè€Œå¯¼è‡´çš„ DOMè®¿é—®æ¬¡æ•°ï¼Œä¼šå»¶è¿Ÿæ•´ä¸ªé¡µé¢çš„äº¤äº’å°±ç»ªæ—¶é—´ã€‚
æ¯å½“å°†äº‹ä»¶å¤„ç†ç¨‹åºæŒ‡å®šç»™å…ƒç´ æ—¶ï¼Œè¿è¡Œä¸­çš„æµè§ˆå™¨ä»£ç ä¸æ”¯æŒé¡µé¢äº¤äº’çš„ JavaScript ä»£ç ä¹‹é—´å°±ä¼šå»ºç«‹ä¸€ä¸ªè¿æ¥ã€‚è¿™ç§è¿æ¥è¶Šå¤šï¼Œé¡µé¢æ‰§è¡Œèµ·æ¥å°±è¶Šæ…¢ã€‚å†…å­˜ä¸­ç•™æœ‰é‚£äº›è¿‡æ—¶ä¸ç”¨çš„<code class="language-plaintext highlighter-rouge">â€œç©ºäº‹ä»¶å¤„ç†ç¨‹åºâ€</code>ï¼ˆdangling event handlerï¼‰ï¼Œä¹Ÿæ˜¯é€ æˆ Web åº”ç”¨ç¨‹åºå†…å­˜ä¸æ€§èƒ½é—®é¢˜çš„ä¸»è¦åŸå› ã€‚åœ¨ä¸¤ç§æƒ…å†µä¸‹ï¼Œå¯èƒ½ä¼šé€ æˆä¸Šè¿°é—®é¢˜ã€‚ç¬¬ä¸€ç§æƒ…å†µå°±æ˜¯ä»æ–‡æ¡£ä¸­ç§»é™¤å¸¦æœ‰äº‹ä»¶å¤„ç†ç¨‹åºçš„å…ƒç´ æ—¶ã€‚è¿™å¯èƒ½æ˜¯é€šè¿‡çº¯ç²¹çš„ DOM æ“ä½œï¼Œä¾‹å¦‚ä½¿ç”¨ removeChild() å’Œ replaceChild() æ–¹æ³•ï¼Œä½†æ›´å¤šåœ°æ˜¯å‘ç”Ÿåœ¨ä½¿ç”¨ innerHTML æ›¿æ¢é¡µé¢ä¸­æŸä¸€éƒ¨åˆ†çš„æ—¶å€™ã€‚å¦‚æœå¸¦æœ‰äº‹ä»¶å¤„ç†ç¨‹åºçš„å…ƒç´ è¢« innerHTML åˆ é™¤äº†ï¼Œé‚£ä¹ˆåŸæ¥æ·»åŠ åˆ°å…ƒç´ ä¸­çš„äº‹ä»¶å¤„ç†ç¨‹åºææœ‰å¯èƒ½æ— æ³•è¢«å½“ä½œåƒåœ¾å›æ”¶ã€‚</p>

<p>äº‹ä»¶å§”æ‰˜
åˆ©ç”¨äº‹ä»¶å†’æ³¡ï¼ŒåªæŒ‡å®šä¸€ä¸ªäº‹ä»¶å¤„ç†ç¨‹åºï¼Œå°±å¯ä»¥ç®¡ç†æŸä¸€ç±»å‹çš„æ‰€æœ‰äº‹ä»¶ã€‚ä¾‹å¦‚ï¼Œ click äº‹ä»¶ä¼šä¸€ç›´å†’æ³¡åˆ° document å±‚æ¬¡ã€‚ä¹Ÿå°±æ˜¯è¯´ï¼Œå¯ä»¥ä¸ºæ•´ä¸ªé¡µé¢æŒ‡å®šä¸€ä¸ª onclick äº‹ä»¶å¤„ç†ç¨‹åºï¼ˆç„¶åé€šè¿‡ç±»ä¼¼switch(target.id)çš„åˆ¤æ–­æ¥ç¡®å®šå…·ä½“è¦æ‰§è¡Œçš„æ“ä½œï¼Œè€Œä¸å¿…ç»™æ¯ä¸ªå¯å•å‡»çš„å…ƒç´ åˆ†åˆ«æ·»åŠ äº‹ä»¶å¤„ç†ç¨‹åºã€‚
å› ä¸ºåªå–å¾—äº†ä¸€ä¸ª DOM å…ƒç´ ï¼Œåªæ·»åŠ äº†ä¸€ä¸ªäº‹ä»¶å¤„ç†ç¨‹åºã€‚è™½ç„¶å¯¹ç”¨æˆ·æ¥è¯´æœ€ç»ˆçš„ç»“æœç›¸åŒï¼Œä½†è¿™ç§æŠ€æœ¯éœ€è¦å ç”¨çš„å†…å­˜æ›´å°‘ã€‚æ‰€æœ‰ç”¨åˆ°æŒ‰é’®çš„äº‹ä»¶ï¼ˆå¤šæ•°é¼ æ ‡äº‹ä»¶å’Œé”®ç›˜äº‹ä»¶ï¼‰éƒ½é€‚åˆé‡‡ç”¨äº‹ä»¶å§”æ‰˜æŠ€æœ¯ã€‚</p>

<h2 id="å¦‚ä½•è§¦å‘æ¨¡æ‹Ÿäº‹ä»¶å¦‚ä½•è‡ªå®šä¹‰äº‹ä»¶">å¦‚ä½•è§¦å‘æ¨¡æ‹Ÿäº‹ä»¶ï¼Ÿå¦‚ä½•è‡ªå®šä¹‰äº‹ä»¶ï¼Ÿ</h2>
<p>å¯ä»¥ä½¿ç”¨ JavaScript åœ¨ä»»æ„æ—¶åˆ»æ¥è§¦å‘ç‰¹å®šçš„äº‹ä»¶ï¼Œè€Œæ­¤æ—¶çš„äº‹ä»¶å°±å¦‚åŒæµè§ˆå™¨åˆ›å»ºçš„äº‹ä»¶ä¸€æ ·ï¼šè¯¥å†’æ³¡è¿˜ä¼šå†’æ³¡ï¼Œè€Œä¸”ç…§æ ·èƒ½å¤Ÿå¯¼è‡´æµè§ˆå™¨æ‰§è¡Œå·²ç»æŒ‡å®šçš„å¤„ç†å®ƒä»¬çš„äº‹ä»¶å¤„ç†ç¨‹åºã€‚
å¯ä»¥åœ¨ document å¯¹è±¡ä¸Šä½¿ç”¨<code class="language-plaintext highlighter-rouge">createEvent()</code>æ–¹æ³•åˆ›å»º event å¯¹è±¡ã€‚è¿™ä¸ªæ–¹æ³•æ¥æ”¶ä¸€ä¸ªå‚æ•°ï¼Œå³è¡¨ç¤ºè¦åˆ›å»ºçš„äº‹ä»¶ç±»å‹çš„å­—ç¬¦ä¸²ã€‚åœ¨ DOM2 çº§ä¸­ï¼Œæ‰€æœ‰è¿™äº›å­—ç¬¦ä¸²éƒ½ä½¿ç”¨è‹±æ–‡å¤æ•°å½¢å¼ï¼Œè€Œåœ¨ DOM3çº§ä¸­éƒ½å˜æˆäº†å•æ•°ã€‚è¿™ä¸ªå­—ç¬¦ä¸²å¯ä»¥æ˜¯ä¸‹åˆ—å‡ å­—ç¬¦ä¸²ä¹‹ä¸€ã€‚
UIEvents ï¼šä¸€èˆ¬åŒ–çš„ UI äº‹ä»¶ã€‚é¼ æ ‡äº‹ä»¶å’Œé”®ç›˜äº‹ä»¶éƒ½ç»§æ‰¿è‡ª UI äº‹ä»¶ã€‚DOM3 çº§ä¸­æ˜¯ UIEvent ã€‚
MouseEvents ï¼šä¸€èˆ¬åŒ–çš„é¼ æ ‡äº‹ä»¶ã€‚DOM3 çº§ä¸­æ˜¯ MouseEvent ã€‚
MutationEvents ï¼šä¸€èˆ¬åŒ–çš„ DOM å˜åŠ¨äº‹ä»¶ã€‚DOM3 çº§ä¸­æ˜¯ MutationEvent ã€‚
HTMLEvents ï¼šä¸€èˆ¬åŒ–çš„ HTML äº‹ä»¶ã€‚æ²¡æœ‰å¯¹åº”çš„ DOM3 çº§äº‹ä»¶ï¼ˆHTML äº‹ä»¶è¢«åˆ†æ•£åˆ°å…¶ä»–ç±»åˆ«ä¸­ï¼‰ã€‚
æ¨¡æ‹Ÿäº‹ä»¶çš„æœ€åä¸€æ­¥å°±æ˜¯è§¦å‘äº‹ä»¶ã€‚è¿™ä¸€æ­¥éœ€è¦ä½¿ç”¨dispatchEvent() æ–¹æ³•ï¼Œæ‰€æœ‰æ”¯æŒäº‹ä»¶çš„DOM èŠ‚ç‚¹éƒ½æ”¯æŒè¿™ä¸ªæ–¹æ³•ã€‚è°ƒç”¨ dispatchEvent() æ–¹æ³•æ—¶ï¼Œéœ€è¦ä¼ å…¥ä¸€ä¸ªå‚æ•°ï¼Œå³è¡¨ç¤ºè¦è§¦å‘äº‹ä»¶çš„ event å¯¹è±¡ã€‚</p>

<p>DOM3 çº§è¿˜å®šä¹‰äº†â€œè‡ªå®šä¹‰äº‹ä»¶â€ã€‚è‡ªå®šä¹‰äº‹ä»¶ä¸æ˜¯ç”± DOM åŸç”Ÿè§¦å‘çš„ï¼Œå®ƒçš„ç›®çš„æ˜¯è®©å¼€å‘äººå‘˜åˆ›å»ºè‡ªå·±çš„äº‹ä»¶ã€‚è¦åˆ›å»ºæ–°çš„è‡ªå®šä¹‰äº‹ä»¶ï¼Œå¯ä»¥è°ƒç”¨ createEvent(â€œCustomEventâ€) ã€‚è¿”å›çš„å¯¹è±¡æœ‰ä¸€ä¸ªåä¸º initCustomEvent() çš„æ–¹æ³•ï¼Œæ¥æ”¶å¦‚ä¸‹ 4 ä¸ªå‚æ•°ï¼š
type ï¼ˆå­—ç¬¦ä¸²ï¼‰ï¼šè§¦å‘çš„äº‹ä»¶ç±»å‹ï¼Œä¾‹å¦‚ â€œkeydownâ€ ã€‚
bubbles ï¼ˆå¸ƒå°”å€¼ï¼‰ï¼šè¡¨ç¤ºäº‹ä»¶æ˜¯å¦åº”è¯¥å†’æ³¡ã€‚
cancelable ï¼ˆå¸ƒå°”å€¼ï¼‰ï¼šè¡¨ç¤ºäº‹ä»¶æ˜¯å¦å¯ä»¥å–æ¶ˆã€‚
detail ï¼ˆå¯¹è±¡ï¼‰ï¼šä»»æ„å€¼ï¼Œä¿å­˜åœ¨ event å¯¹è±¡çš„ detail å±æ€§ä¸­ã€‚
å¯ä»¥åƒåˆ†æ´¾å…¶ä»–äº‹ä»¶ä¸€æ ·åœ¨ DOM ä¸­åˆ†æ´¾åˆ›å»ºçš„è‡ªå®šä¹‰äº‹ä»¶å¯¹è±¡ã€‚ä¾‹å¦‚ï¼š</p>
<div class="language-javascript highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kd">var</span> <span class="nx">div</span> <span class="o">=</span> <span class="nb">document</span><span class="p">.</span><span class="nx">getElementById</span><span class="p">(</span><span class="dl">"</span><span class="s2">myDiv</span><span class="dl">"</span><span class="p">);</span>
<span class="nx">EventUtil</span><span class="p">.</span><span class="nx">addHandler</span><span class="p">(</span><span class="nx">div</span><span class="p">,</span> <span class="dl">"</span><span class="s2">myevent</span><span class="dl">"</span><span class="p">,</span> <span class="kd">function</span><span class="p">(</span><span class="nx">event</span><span class="p">){</span>
  <span class="nx">alert</span><span class="p">(</span><span class="dl">"</span><span class="s2">DIV: </span><span class="dl">"</span> <span class="o">+</span> <span class="nx">event</span><span class="p">.</span><span class="nx">detail</span><span class="p">);</span>
<span class="p">});</span>
<span class="nx">EventUtil</span><span class="p">.</span><span class="nx">addHandler</span><span class="p">(</span><span class="nb">document</span><span class="p">,</span> <span class="dl">"</span><span class="s2">myevent</span><span class="dl">"</span><span class="p">,</span> <span class="kd">function</span><span class="p">(</span><span class="nx">event</span><span class="p">){</span>
  <span class="nx">alert</span><span class="p">(</span><span class="dl">"</span><span class="s2">DOCUMENT: </span><span class="dl">"</span> <span class="o">+</span> <span class="nx">event</span><span class="p">.</span><span class="nx">detail</span><span class="p">);</span>
<span class="p">});</span>
<span class="k">if</span> <span class="p">(</span><span class="nb">document</span><span class="p">.</span><span class="nx">implementation</span><span class="p">.</span><span class="nx">hasFeature</span><span class="p">(</span><span class="dl">"</span><span class="s2">CustomEvents</span><span class="dl">"</span><span class="p">,</span> <span class="dl">"</span><span class="s2">3.0</span><span class="dl">"</span><span class="p">)){</span>
  <span class="nx">event</span> <span class="o">=</span> <span class="nb">document</span><span class="p">.</span><span class="nx">createEvent</span><span class="p">(</span><span class="dl">"</span><span class="s2">CustomEvent</span><span class="dl">"</span><span class="p">);</span>
  <span class="nx">event</span><span class="p">.</span><span class="nx">initCustomEvent</span><span class="p">(</span><span class="dl">"</span><span class="s2">myevent</span><span class="dl">"</span><span class="p">,</span> <span class="kc">true</span><span class="p">,</span> <span class="kc">false</span><span class="p">,</span> <span class="dl">"</span><span class="s2">Hello world!</span><span class="dl">"</span><span class="p">);</span>
  <span class="nx">div</span><span class="p">.</span><span class="nx">dispatchEvent</span><span class="p">(</span><span class="nx">event</span><span class="p">);</span>
<span class="p">}</span>
</code></pre></div></div>

<h2 id="æœ‰å“ªäº›æäº¤è¡¨å•é‡ç½®è¡¨å•çš„æ–¹å¼">æœ‰å“ªäº›æäº¤è¡¨å•ã€é‡ç½®è¡¨å•çš„æ–¹å¼ï¼Ÿ</h2>
<p>ç”¨æˆ·å•å‡»æäº¤æŒ‰é’®æ—¶ï¼Œå°±ä¼šæäº¤è¡¨å•ã€‚ä½¿ç”¨ <code class="language-plaintext highlighter-rouge">&lt;input&gt; </code>æˆ– <code class="language-plaintext highlighter-rouge">&lt;button&gt;</code> éƒ½å¯ä»¥å®šä¹‰æäº¤æŒ‰é’®ï¼Œåªè¦å°†å…¶ type ç‰¹æ€§çš„å€¼è®¾ç½®ä¸º â€œsubmitâ€ å³å¯ã€‚ä»¥è¿™ç§æ–¹å¼æäº¤è¡¨å•æ—¶ï¼Œæµè§ˆå™¨ä¼šåœ¨å°†è¯·æ±‚å‘é€ç»™æœåŠ¡å™¨ä¹‹å‰è§¦å‘ submit äº‹ä»¶ã€‚è¿™æ ·å°±æœ‰æœºä¼šéªŒè¯è¡¨å•æ•°æ®ï¼Œå¹¶æ®ä»¥å†³å®šæ˜¯å¦å…è®¸è¡¨å•æäº¤ã€‚
åœ¨ JavaScript ä¸­ï¼Œä»¥ç¼–ç¨‹æ–¹å¼è°ƒç”¨ submit() æ–¹æ³•ä¹Ÿå¯ä»¥æäº¤è¡¨å•ã€‚è€Œä¸”ï¼Œè¿™ç§æ–¹å¼æ— éœ€è¡¨å•åŒ…å«</p>

<div class="language-javascript highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kd">var</span> <span class="nx">form</span> <span class="o">=</span> <span class="nb">document</span><span class="p">.</span><span class="nx">getElementById</span><span class="p">(</span><span class="dl">"</span><span class="s2">myForm</span><span class="dl">"</span><span class="p">);</span>
<span class="c1">// æäº¤è¡¨å•</span>
<span class="nx">form</span><span class="p">.</span><span class="nx">submit</span><span class="p">();</span>
</code></pre></div></div>
<p>åœ¨ä»¥è°ƒç”¨ submit() æ–¹æ³•çš„å½¢å¼æäº¤è¡¨å•æ—¶ï¼Œä¸ä¼šè§¦å‘ submit äº‹ä»¶ï¼Œå› æ­¤è¦è®°å¾—åœ¨è°ƒç”¨æ­¤æ–¹æ³•ä¹‹å‰å…ˆéªŒè¯è¡¨å•æ•°æ®ã€‚</p>

<p>é‡ç½®ä¸æäº¤ç±»ä¼¼ï¼š
ä½¿ç”¨ type ç‰¹æ€§å€¼ä¸º â€œresetâ€ çš„ <code class="language-plaintext highlighter-rouge">&lt;input&gt;</code> æˆ– <code class="language-plaintext highlighter-rouge">&lt;button&gt;</code> éƒ½å¯ä»¥åˆ›å»ºé‡ç½®æŒ‰é’®ã€‚
ä¹Ÿå¯ä»¥é€šè¿‡ JavaScript æ¥é‡ç½®è¡¨å•ï¼š</p>
<div class="language-javascript highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kd">var</span> <span class="nx">form</span> <span class="o">=</span> <span class="nb">document</span><span class="p">.</span><span class="nx">getElementById</span><span class="p">(</span><span class="dl">"</span><span class="s2">myForm</span><span class="dl">"</span><span class="p">);</span>
<span class="c1">// é‡ç½®è¡¨å•</span>
<span class="nx">form</span><span class="p">.</span><span class="nx">reset</span><span class="p">();</span>
</code></pre></div></div>
<p>ä¸è°ƒç”¨ submit() æ–¹æ³•ä¸åŒï¼Œè°ƒç”¨ reset() æ–¹æ³•ä¼šåƒå•å‡»é‡ç½®æŒ‰é’®ä¸€æ ·è§¦å‘ reset äº‹ä»¶ã€‚</p>

<h2 id="åœ¨è¡¨å•æäº¤æ—¶æµè§ˆå™¨æ˜¯æ€æ ·ç»„ç»‡æ•°æ®å¹¶å‘é€ç»™æœåŠ¡å™¨çš„">åœ¨è¡¨å•æäº¤æ—¶ï¼Œæµè§ˆå™¨æ˜¯æ€æ ·ç»„ç»‡æ•°æ®å¹¶å‘é€ç»™æœåŠ¡å™¨çš„ï¼Ÿ</h2>
<p>å¯¹è¡¨å•å­—æ®µçš„åç§°å’Œå€¼è¿›è¡Œ URL ç¼–ç ï¼Œä½¿ç”¨å’Œå·ï¼ˆ&amp;ï¼‰åˆ†éš”ã€‚
ä¸å‘é€ç¦ç”¨çš„è¡¨å•å­—æ®µã€‚
åªå‘é€å‹¾é€‰çš„å¤é€‰æ¡†å’Œå•é€‰æŒ‰é’®ã€‚
ä¸å‘é€ type ä¸º â€œresetâ€ å’Œ â€œbuttonâ€ çš„æŒ‰é’®ã€‚
å¤šé€‰é€‰æ‹©æ¡†ä¸­çš„æ¯ä¸ªé€‰ä¸­çš„å€¼å•ç‹¬ä¸€ä¸ªæ¡ç›®ã€‚
åœ¨å•å‡»æäº¤æŒ‰é’®æäº¤è¡¨å•çš„æƒ…å†µä¸‹ï¼Œä¹Ÿä¼šå‘é€æäº¤æŒ‰é’®ï¼›å¦åˆ™ï¼Œä¸å‘é€æäº¤æŒ‰é’®ã€‚ä¹ŸåŒ…æ‹¬ typeä¸º â€œimageâ€ çš„ <code class="language-plaintext highlighter-rouge">&lt;input&gt;</code> å…ƒç´ ã€‚
<code class="language-plaintext highlighter-rouge">&lt;select&gt;</code> å…ƒç´ çš„å€¼ï¼Œå°±æ˜¯é€‰ä¸­çš„ <code class="language-plaintext highlighter-rouge">&lt;option&gt;</code> å…ƒç´ çš„ value ç‰¹æ€§çš„å€¼ã€‚å¦‚æœ <code class="language-plaintext highlighter-rouge">&lt;option&gt;</code> å…ƒç´ æ²¡æœ‰value ç‰¹æ€§ï¼Œåˆ™æ˜¯ <code class="language-plaintext highlighter-rouge">&lt;option&gt;</code> å…ƒç´ çš„æ–‡æœ¬å€¼ã€‚</p>

<h2 id="å¯Œæ–‡æœ¬ç¼–è¾‘çš„åŸç†æ˜¯ä»€ä¹ˆ">å¯Œæ–‡æœ¬ç¼–è¾‘çš„åŸç†æ˜¯ä»€ä¹ˆï¼Ÿ</h2>
<p>åœ¨é¡µé¢ä¸­åµŒå…¥ä¸€ä¸ªåŒ…å«ç©º HTML é¡µé¢çš„ iframe ã€‚é€šè¿‡è®¾ç½®<code class="language-plaintext highlighter-rouge">designMode</code> å±æ€§ï¼Œè¿™ä¸ªç©ºç™½çš„ HTML é¡µé¢å¯ä»¥è¢«ç¼–è¾‘ï¼Œè€Œç¼–è¾‘å¯¹è±¡åˆ™æ˜¯è¯¥é¡µé¢ <code class="language-plaintext highlighter-rouge">&lt;body&gt;</code> å…ƒç´ çš„ HTML ä»£ç ã€‚ designMode å±æ€§æœ‰ä¸¤ä¸ªå¯èƒ½çš„å€¼ï¼š â€œoffâ€ ï¼ˆé»˜è®¤å€¼ï¼‰å’Œ â€œonâ€ ã€‚åœ¨è®¾ç½®ä¸º â€œonâ€ æ—¶ï¼Œæ•´ä¸ªæ–‡æ¡£éƒ½ä¼šå˜å¾—å¯ä»¥ç¼–è¾‘ï¼ˆæ˜¾ç¤ºæ’å…¥ç¬¦å·ï¼‰ï¼Œç„¶åå°±å¯ä»¥åƒä½¿ç”¨å­—å¤„ç†è½¯ä»¶ä¸€æ ·ï¼Œé€šè¿‡é”®ç›˜å°†æ–‡æœ¬å†…å®¹åŠ ç²—ã€å˜æˆæ–œä½“ï¼Œç­‰ç­‰ã€‚</p>

<p>å¦ä¸€ç§ç¼–è¾‘å¯Œæ–‡æœ¬å†…å®¹çš„æ–¹å¼æ˜¯ä½¿ç”¨åä¸º <code class="language-plaintext highlighter-rouge">contenteditable</code> çš„ç‰¹æ®Šå±æ€§ï¼Œè¿™ä¸ªå±æ€§ä¹Ÿæ˜¯ç”± IE æœ€æ—©å®ç°çš„ã€‚å¯ä»¥æŠŠ contenteditable å±æ€§åº”ç”¨ç»™é¡µé¢ä¸­çš„ä»»ä½•å…ƒç´ ï¼Œç„¶åç”¨æˆ·ç«‹å³å°±å¯ä»¥ç¼–è¾‘è¯¥å…ƒç´ ã€‚è¿™ç§æ–¹æ³•ä¹‹æ‰€ä»¥å—åˆ°æ¬¢è¿ï¼Œæ˜¯å› ä¸ºå®ƒä¸éœ€è¦ iframe ã€ç©ºç™½é¡µå’Œ JavaScriptï¼Œåªè¦ä¸ºå…ƒç´ è®¾ç½®contenteditable å±æ€§å³å¯ã€‚</p>

<div class="language-html highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nt">&lt;div</span> <span class="na">class=</span><span class="s">"editable"</span> <span class="na">id=</span><span class="s">"richedit"</span> <span class="na">contenteditable</span><span class="nt">&gt;&lt;/div&gt;</span>
</code></pre></div></div>
<p>è¿™æ ·ï¼Œå…ƒç´ ä¸­åŒ…å«çš„ä»»ä½•æ–‡æœ¬å†…å®¹å°±éƒ½å¯ä»¥ç¼–è¾‘äº†ï¼Œå°±å¥½åƒè¿™ä¸ªå…ƒç´ å˜æˆäº† <code class="language-plaintext highlighter-rouge">&lt;textarea&gt;</code> å…ƒç´ ä¸€æ ·ã€‚</p>

<p>ä¸å¯Œæ–‡æœ¬ç¼–è¾‘å™¨äº¤äº’çš„ä¸»è¦æ–¹å¼ï¼Œå°±æ˜¯ä½¿ç”¨ document.execCommand() ã€‚è¿™ä¸ªæ–¹æ³•å¯ä»¥å¯¹æ–‡æ¡£æ‰§è¡Œé¢„å®šä¹‰çš„å‘½ä»¤ï¼ˆåŠ ç²—ã€æ‹·è´ã€å‰ªåˆ‡ã€ç¼©è¿›ç­‰ç­‰ï¼‰ï¼Œè€Œä¸”å¯ä»¥åº”ç”¨å¤§å¤šæ•°æ ¼å¼ã€‚</p>

<h2 id="ajaxå’Œcometçš„åŒºåˆ«æ˜¯ä»€ä¹ˆcometæœ‰å“ªäº›å®ç°æ–¹å¼">Ajaxå’ŒCometçš„åŒºåˆ«æ˜¯ä»€ä¹ˆï¼ŸCometæœ‰å“ªäº›å®ç°æ–¹å¼ï¼Ÿ</h2>
<p>Ajax æ˜¯ä¸€ç§ä»é¡µé¢å‘æœåŠ¡å™¨è¯·æ±‚æ•°æ®çš„æŠ€æœ¯ï¼Œè€Œ Comet åˆ™æ˜¯ä¸€ç§æœåŠ¡å™¨å‘é¡µé¢æ¨é€æ•°æ®çš„æŠ€
æœ¯ã€‚Comet èƒ½å¤Ÿè®©ä¿¡æ¯è¿‘ä¹å®æ—¶åœ°è¢«æ¨é€åˆ°é¡µé¢ä¸Šã€‚</p>

<p>æœ‰ä¸¤ç§å®ç° Comet çš„æ–¹å¼ï¼šé•¿è½®è¯¢å’Œæµã€‚
é•¿è½®è¯¢æŠŠçŸ­è½®è¯¢é¢ å€’äº†ä¸€ä¸‹ã€‚é¡µé¢å‘èµ·ä¸€ä¸ªåˆ°æœåŠ¡å™¨çš„è¯·æ±‚ï¼Œç„¶åæœåŠ¡å™¨ä¸€ç›´ä¿æŒè¿æ¥æ‰“å¼€ï¼Œç›´åˆ°æœ‰æ•°æ®å¯å‘é€ã€‚å‘é€å®Œæ•°æ®ä¹‹åï¼Œæµè§ˆå™¨å…³é—­è¿æ¥ï¼Œéšå³åˆå‘èµ·ä¸€ä¸ªåˆ°æœåŠ¡å™¨çš„æ–°è¯·æ±‚ã€‚è¿™ä¸€è¿‡ç¨‹åœ¨é¡µé¢æ‰“å¼€æœŸé—´ä¸€ç›´æŒç»­ä¸æ–­ã€‚
æ— è®ºæ˜¯çŸ­è½®è¯¢è¿˜æ˜¯é•¿è½®è¯¢ï¼Œæµè§ˆå™¨éƒ½è¦åœ¨æ¥æ”¶æ•°æ®ä¹‹å‰ï¼Œå…ˆå‘èµ·å¯¹æœåŠ¡å™¨çš„è¿æ¥ã€‚ä¸¤è€…æœ€å¤§çš„åŒºåˆ«åœ¨äºæœåŠ¡å™¨å¦‚ä½•å‘é€æ•°æ®ã€‚çŸ­è½®è¯¢æ˜¯æœåŠ¡å™¨ç«‹å³å‘é€å“åº”ï¼Œæ— è®ºæ•°æ®æ˜¯å¦æœ‰æ•ˆï¼Œè€Œé•¿è½®è¯¢æ˜¯ç­‰å¾…å‘é€å“åº”ã€‚è½®è¯¢çš„ä¼˜åŠ¿æ˜¯æ‰€æœ‰æµè§ˆå™¨éƒ½æ”¯æŒï¼Œå› ä¸ºä½¿ç”¨ XHR å¯¹è±¡å’Œ setTimeout() å°±èƒ½å®ç°ã€‚</p>

<p>ç¬¬äºŒç§æµè¡Œçš„ Comet å®ç°æ˜¯ HTTP æµã€‚æµä¸åŒäºä¸Šè¿°ä¸¤ç§è½®è¯¢ï¼Œå› ä¸ºå®ƒåœ¨é¡µé¢çš„æ•´ä¸ªç”Ÿå‘½å‘¨æœŸå†…åªä½¿ç”¨ä¸€ä¸ª HTTP è¿æ¥ã€‚å…·ä½“æ¥è¯´ï¼Œå°±æ˜¯æµè§ˆå™¨å‘æœåŠ¡å™¨å‘é€ä¸€ä¸ªè¯·æ±‚ï¼Œè€ŒæœåŠ¡å™¨ä¿æŒè¿æ¥æ‰“å¼€ï¼Œç„¶åå‘¨æœŸæ€§åœ°å‘æµè§ˆå™¨å‘é€æ•°æ®ã€‚
æ¯”å¦‚ï¼Œä¸‹é¢è¿™æ®µ PHP è„šæœ¬å°±æ˜¯é‡‡ç”¨æµå®ç°çš„æœåŠ¡å™¨ä¸­å¸¸è§çš„å½¢å¼ã€‚</p>
<div class="language-php highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="cp">&lt;?php</span>
<span class="nv">$i</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span>
<span class="k">while</span><span class="p">(</span><span class="kc">true</span><span class="p">){</span>
  <span class="c1">//è¾“å‡ºä¸€äº›æ•°æ®ï¼Œç„¶åç«‹å³åˆ·æ–°è¾“å‡ºç¼“å­˜</span>
  <span class="k">echo</span> <span class="s2">"Number is </span><span class="nv">$i</span><span class="s2">"</span><span class="p">;</span>

  <span class="nb">flush</span><span class="p">();</span>
  
  <span class="c1">//ç­‰å‡ ç§’é’Ÿ</span>
  <span class="nb">sleep</span><span class="p">(</span><span class="mi">10</span><span class="p">);</span>
  <span class="nv">$i</span><span class="o">++</span><span class="p">;</span>
<span class="p">}</span>
</code></pre></div></div>
<p>æ‰€æœ‰æœåŠ¡å™¨ç«¯è¯­è¨€éƒ½æ”¯æŒæ‰“å°åˆ°è¾“å‡ºç¼“å­˜ç„¶ååˆ·æ–°ï¼ˆå°†è¾“å‡ºç¼“å­˜ä¸­çš„å†…å®¹ä¸€æ¬¡æ€§å…¨éƒ¨å‘é€åˆ°å®¢æˆ·ç«¯ï¼‰çš„åŠŸèƒ½ã€‚è€Œè¿™æ­£æ˜¯å®ç°HTTPæµçš„å…³é”®æ‰€åœ¨ã€‚
åœ¨ Firefoxã€Safariã€Opera å’Œ Chrome ä¸­ï¼Œé€šè¿‡ä¾¦å¬ readystatechange äº‹ä»¶åŠæ£€æµ‹ readyStateçš„å€¼æ˜¯å¦ä¸º 3ï¼Œå°±å¯ä»¥åˆ©ç”¨ XHR å¯¹è±¡å®ç° HTTP æµã€‚åœ¨ä¸Šè¿°è¿™äº›æµè§ˆå™¨ä¸­ï¼Œéšç€ä¸æ–­ä»æœåŠ¡å™¨æ¥æ”¶æ•°æ®ï¼Œ readyState çš„å€¼ä¼šå‘¨æœŸæ€§åœ°å˜ä¸º 3ã€‚å½“ readyState å€¼å˜ä¸º 3 æ—¶ï¼Œ responseText å±æ€§ä¸­å°±ä¼šä¿å­˜æ¥æ”¶åˆ°çš„æ‰€æœ‰æ•°æ®ã€‚æ­¤æ—¶ï¼Œå°±éœ€è¦æ¯”è¾ƒæ­¤å‰æ¥æ”¶åˆ°çš„æ•°æ®ï¼Œå†³å®šä»ä»€ä¹ˆä½ç½®å¼€å§‹å–å¾—æœ€æ–°çš„æ•°æ®ã€‚</p>

<h2 id="websocketçš„å»ºç«‹æµç¨‹æ˜¯æ€æ ·çš„å®ƒæœ‰å“ªäº›ä¼˜ç¼ºç‚¹">Websocketçš„å»ºç«‹æµç¨‹æ˜¯æ€æ ·çš„ï¼Ÿå®ƒæœ‰å“ªäº›ä¼˜ç¼ºç‚¹ï¼Ÿ</h2>
<p>Web Socketsçš„ç›®æ ‡æ˜¯åœ¨ä¸€ä¸ª<code class="language-plaintext highlighter-rouge">å•ç‹¬çš„æŒä¹…è¿æ¥</code>ä¸Šæä¾›<code class="language-plaintext highlighter-rouge">å…¨åŒå·¥ã€åŒå‘</code>é€šä¿¡ã€‚</p>

<p>è¦åˆ›å»º Web Socketï¼Œå…ˆå®ä¾‹ä¸€ä¸ª WebSocket å¯¹è±¡å¹¶ä¼ å…¥è¦è¿æ¥çš„ URLï¼š</p>
<div class="language-javascript highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kd">var</span> <span class="nx">socket</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">WebSocket</span><span class="p">(</span><span class="dl">"</span><span class="s2">ws://www.example.com/server.php</span><span class="dl">"</span><span class="p">);</span>
<span class="nx">socket</span><span class="p">.</span><span class="nx">send</span><span class="p">(</span><span class="dl">"</span><span class="s2">Hello world!</span><span class="dl">"</span><span class="p">);</span>
<span class="nx">socket</span><span class="p">.</span><span class="nx">close</span><span class="p">();</span>
</code></pre></div></div>
<p>æ³¨æ„ï¼Œå¿…é¡»ç»™ WebSocket æ„é€ å‡½æ•°ä¼ å…¥ç»å¯¹ URLã€‚<code class="language-plaintext highlighter-rouge">åŒæºç­–ç•¥å¯¹ Web Sockets ä¸é€‚ç”¨</code>ï¼Œå› æ­¤å¯ä»¥é€šè¿‡å®ƒæ‰“å¼€åˆ°ä»»ä½•ç«™ç‚¹çš„è¿æ¥ã€‚
å®ä¾‹åŒ–äº† WebSocket å¯¹è±¡åï¼Œæµè§ˆå™¨å°±ä¼šé©¬ä¸Šå°è¯•åˆ›å»ºè¿æ¥ã€‚
å› ä¸º Web Socketsåªèƒ½é€šè¿‡è¿æ¥å‘é€çº¯æ–‡æœ¬æ•°æ®ï¼Œæ‰€ä»¥å¯¹äºå¤æ‚çš„æ•°æ®ç»“æ„ï¼Œåœ¨é€šè¿‡è¿æ¥å‘é€ä¹‹å‰ï¼Œå¿…é¡»è¿›è¡Œåºåˆ—åŒ–ã€‚</p>

<p>åœ¨ JavaScript ä¸­åˆ›å»ºäº† Web Socket ä¹‹åï¼Œä¼šæœ‰ä¸€ä¸ª HTTP è¯·æ±‚å‘é€åˆ°æµè§ˆå™¨ä»¥å‘èµ·è¿æ¥ã€‚åœ¨å–å¾—æœåŠ¡å™¨å“åº”åï¼Œå»ºç«‹çš„è¿æ¥ä¼šä½¿ç”¨ HTTP å‡çº§ä» HTTP åè®®äº¤æ¢ä¸º WebSocket åè®®ã€‚ä¹Ÿå°±æ˜¯è¯´ï¼Œä½¿ç”¨æ ‡å‡†çš„ HTTP æœåŠ¡å™¨æ— æ³•å®ç° Web Socketsï¼Œåªæœ‰æ”¯æŒè¿™ç§åè®®çš„ä¸“é—¨æœåŠ¡å™¨æ‰èƒ½æ­£å¸¸å·¥ä½œã€‚
ç”±äº Web Socketsä½¿ç”¨äº†è‡ªå®šä¹‰çš„åè®®ï¼Œæ‰€ä»¥ URL æ¨¡å¼ä¹Ÿç•¥æœ‰ä¸åŒã€‚æœªåŠ å¯†çš„è¿æ¥ä¸å†æ˜¯ http:// ï¼Œè€Œæ˜¯ ws:// ï¼›åŠ å¯†çš„è¿æ¥ä¹Ÿä¸æ˜¯ https:// ï¼Œè€Œæ˜¯ wss:// ã€‚
ä½¿ç”¨è‡ªå®šä¹‰åè®®è€Œé HTTP åè®®çš„å¥½å¤„æ˜¯ï¼Œèƒ½å¤Ÿåœ¨å®¢æˆ·ç«¯å’ŒæœåŠ¡å™¨ä¹‹é—´å‘é€éå¸¸å°‘é‡çš„æ•°æ®ï¼Œè€Œä¸å¿…æ‹…å¿ƒ HTTP é‚£æ ·å­—èŠ‚çº§çš„å¼€é”€ã€‚ç”±äºä¼ é€’çš„æ•°æ®åŒ…å¾ˆå°ï¼Œå› æ­¤ Web Socketséå¸¸é€‚åˆç§»åŠ¨åº”ç”¨ã€‚ä½¿ç”¨è‡ªå®šä¹‰åè®®çš„ç¼ºç‚¹åœ¨äºï¼Œåˆ¶å®šåè®®çš„æ—¶é—´æ¯”åˆ¶å®šJavaScript API çš„æ—¶é—´è¿˜è¦é•¿ã€‚</p>

<h2 id="ä»€ä¹ˆæ˜¯sseå¦‚ä½•é€‰æ‹©åº”è¯¥æ˜¯ç”¨sseè¿˜æ˜¯web-socket">ä»€ä¹ˆæ˜¯SSEï¼Ÿå¦‚ä½•é€‰æ‹©åº”è¯¥æ˜¯ç”¨SSEè¿˜æ˜¯Web Socketï¼Ÿ</h2>
<p>SSEï¼ˆServer-Sent Eventsï¼ŒæœåŠ¡å™¨å‘é€äº‹ä»¶ï¼‰æ˜¯å›´ç»•åªè¯» Comet äº¤äº’æ¨å‡ºçš„ API æˆ–è€…æ¨¡å¼ã€‚SSE APIç”¨äºåˆ›å»ºåˆ°æœåŠ¡å™¨çš„å•å‘è¿æ¥ï¼ŒæœåŠ¡å™¨é€šè¿‡è¿™ä¸ªè¿æ¥å¯ä»¥å‘é€ä»»æ„æ•°é‡çš„æ•°æ®ã€‚æœåŠ¡å™¨å“åº”çš„ MIMEç±»å‹å¿…é¡»æ˜¯ text/event-stream ï¼Œè€Œä¸”æ˜¯æµè§ˆå™¨ä¸­çš„ JavaScript API èƒ½è§£ææ ¼å¼è¾“å‡ºã€‚SSE æ”¯æŒçŸ­è½®è¯¢ã€é•¿è½®è¯¢å’Œ HTTP æµï¼Œè€Œä¸”èƒ½åœ¨æ–­å¼€è¿æ¥æ—¶è‡ªåŠ¨ç¡®å®šä½•æ—¶é‡æ–°è¿æ¥ã€‚</p>
<div class="language-javascript highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kd">var</span> <span class="nx">source</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">EventSource</span><span class="p">(</span><span class="dl">"</span><span class="s2">myevents.php</span><span class="dl">"</span><span class="p">);</span>
<span class="nx">source</span><span class="p">.</span><span class="nx">onmessage</span> <span class="o">=</span> <span class="kd">function</span><span class="p">(</span><span class="nx">event</span><span class="p">){</span>
<span class="kd">var</span> <span class="nx">data</span> <span class="o">=</span> <span class="nx">event</span><span class="p">.</span><span class="nx">data</span><span class="p">;</span>
  <span class="c1">//å¤„ç†æ•°æ®</span>
<span class="p">};</span>
<span class="nx">source</span><span class="p">.</span><span class="nx">close</span><span class="p">();</span>
</code></pre></div></div>
<p>æ‰€è°“çš„æœåŠ¡å™¨äº‹ä»¶ä¼šé€šè¿‡ä¸€ä¸ªæŒä¹…çš„ HTTP å“åº”å‘é€ï¼Œè¿™ä¸ªå“åº”çš„ MIME ç±»å‹ä¸º text/eventã€‚
é¢å¯¹æŸä¸ªå…·ä½“çš„ç”¨ä¾‹ï¼Œåœ¨è€ƒè™‘æ˜¯ä½¿ç”¨ SSE è¿˜æ˜¯ä½¿ç”¨ Web Sockets æ—¶ï¼Œå¯ä»¥è€ƒè™‘å¦‚ä¸‹å‡ ä¸ªå› ç´ ï¼š
é¦–å…ˆï¼Œæ˜¯å¦æœ‰è‡ªç”±åº¦å»ºç«‹å’Œç»´æŠ¤ Web SocketsæœåŠ¡å™¨ï¼Ÿå› ä¸º Web Socket åè®®ä¸åŒäº HTTPï¼Œæ‰€ä»¥ç°æœ‰æœåŠ¡å™¨
ä¸èƒ½ç”¨äº Web Socket é€šä¿¡ã€‚SSE å€’æ˜¯é€šè¿‡å¸¸è§„ HTTP é€šä¿¡ï¼Œå› æ­¤ç°æœ‰æœåŠ¡å™¨å°±å¯ä»¥æ»¡è¶³éœ€æ±‚ã€‚
åˆ°åº•éœ€ä¸éœ€è¦åŒå‘é€šä¿¡ã€‚å¦‚æœç”¨ä¾‹åªéœ€è¯»å–æœåŠ¡å™¨æ•°æ®ï¼ˆå¦‚æ¯”èµ›æˆç»©ï¼‰ï¼Œé‚£ä¹ˆ SSE æ¯”è¾ƒå®¹æ˜“å®ç°ã€‚å¦‚æœç”¨ä¾‹å¿…é¡»åŒå‘é€šä¿¡ï¼ˆå¦‚èŠå¤©å®¤ï¼‰ï¼Œé‚£ä¹ˆ Web Sockets æ˜¾ç„¶æ›´å¥½ã€‚ï¼ˆåœ¨ä¸èƒ½é€‰æ‹© Web Sockets çš„æƒ…å†µä¸‹ï¼Œç»„åˆ XHR å’Œ SSE ä¹Ÿæ˜¯èƒ½å®ç°åŒå‘é€šä¿¡çš„ï¼‰</p>

<h2 id="å¦‚ä½•åŒºåˆ†åŸç”Ÿä¸éåŸç”Ÿjavascriptå¯¹è±¡">å¦‚ä½•åŒºåˆ†åŸç”Ÿä¸éåŸç”ŸJavaScriptå¯¹è±¡ï¼Ÿ</h2>
<p><code class="language-plaintext highlighter-rouge">typeof æ“ä½œç¬¦ç»å¸¸ä¼šå¯¼è‡´æ£€æµ‹æ•°æ®ç±»å‹æ—¶å¾—åˆ°ä¸é è°±çš„ç»“æœ</code>ã€‚å¦‚Safariï¼ˆç›´è‡³ç¬¬ 4 ç‰ˆï¼‰åœ¨å¯¹æ­£åˆ™è¡¨è¾¾å¼åº”ç”¨ typeof æ“ä½œç¬¦æ—¶ä¼šè¿”å› â€œ function â€œ ï¼Œå› æ­¤å¾ˆéš¾ç¡®å®šæŸä¸ªå€¼åˆ°åº•æ˜¯ä¸æ˜¯å‡½æ•°ã€‚
<code class="language-plaintext highlighter-rouge">instanceof æ“ä½œç¬¦åœ¨å­˜åœ¨å¤šä¸ªå…¨å±€ä½œç”¨åŸŸï¼ˆåƒä¸€ä¸ªé¡µé¢åŒ…å«å¤šä¸ª frameï¼‰çš„æƒ…å†µä¸‹ï¼Œä¹Ÿå­˜åœ¨å¾ˆå¤šé—®é¢˜</code>ã€‚ä¸€ä¸ªç»å…¸çš„ä¾‹å­å°±æ˜¯åƒä¸‹é¢è¿™æ ·å°†å¯¹è±¡æ ‡è¯†ä¸ºæ•°ç»„ï¼š
var isArray = value instanceof Array;
ä»¥ä¸Šä»£ç è¦è¿”å› true ï¼Œ value å¿…é¡»æ˜¯ä¸€ä¸ªæ•°ç»„ï¼Œè€Œä¸”è¿˜å¿…é¡»ä¸ Array æ„é€ å‡½æ•°åœ¨åŒä¸ªå…¨å±€ä½œç”¨åŸŸä¸­ã€‚ï¼ˆåˆ«å¿˜äº†ï¼Œ Array æ˜¯ window çš„å±æ€§ã€‚ï¼‰å¦‚æœ value æ˜¯åœ¨å¦ä¸ª frame ä¸­å®šä¹‰çš„æ•°ç»„ï¼Œé‚£ä¹ˆä»¥ä¸Šä»£ç å°±ä¼šè¿”å› false ã€‚</p>

<p>åœ¨ä»»ä½•å€¼ä¸Šè°ƒç”¨ Object åŸç”Ÿçš„ toString() æ–¹æ³•ï¼Œéƒ½ä¼šè¿”å›ä¸€ä¸ª [object NativeConstructorName] æ ¼å¼çš„å­—ç¬¦ä¸²ã€‚æ¯ä¸ªç±»åœ¨å†…éƒ¨éƒ½æœ‰ä¸€ä¸ª [[Class]] å±æ€§ï¼Œè¿™ä¸ªå±æ€§ä¸­å°±æŒ‡å®šäº†ä¸Šè¿°å­—ç¬¦ä¸²ä¸­çš„æ„é€ å‡½æ•°åï¼š
alert(Object.prototype.toString.call(value)); //â€[object Array]â€
<code class="language-plaintext highlighter-rouge">ç”±äºåŸç”Ÿæ•°ç»„çš„æ„é€ å‡½æ•°åä¸å…¨å±€ä½œç”¨åŸŸæ— å…³ï¼Œå› æ­¤ä½¿ç”¨ toString() å°±èƒ½ä¿è¯è¿”å›ä¸€è‡´çš„å€¼</code>ã€‚åˆ©ç”¨è¿™ä¸€ç‚¹ï¼Œå¯ä»¥åˆ›å»ºå¦‚ä¸‹å‡½æ•°ï¼š</p>
<div class="language-javascript highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kd">function</span> <span class="nx">isArray</span><span class="p">(</span><span class="nx">value</span><span class="p">){</span>
  <span class="k">return</span> <span class="nb">Object</span><span class="p">.</span><span class="nx">prototype</span><span class="p">.</span><span class="nx">toString</span><span class="p">.</span><span class="nx">call</span><span class="p">(</span><span class="nx">value</span><span class="p">)</span> <span class="o">==</span> <span class="dl">"</span><span class="s2">[object Array]</span><span class="dl">"</span><span class="p">;</span>
<span class="p">}</span>
</code></pre></div></div>
<p>åŒæ ·ï¼Œä¹Ÿå¯ä»¥åŸºäºè¿™ä¸€æ€è·¯æ¥æµ‹è¯•æŸä¸ªå€¼æ˜¯ä¸æ˜¯åŸç”Ÿå‡½æ•°æˆ–æ­£åˆ™è¡¨è¾¾å¼ï¼š</p>
<div class="language-javascript highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kd">function</span> <span class="nx">isFunction</span><span class="p">(</span><span class="nx">value</span><span class="p">){</span>
  <span class="k">return</span> <span class="nb">Object</span><span class="p">.</span><span class="nx">prototype</span><span class="p">.</span><span class="nx">toString</span><span class="p">.</span><span class="nx">call</span><span class="p">(</span><span class="nx">value</span><span class="p">)</span> <span class="o">==</span> <span class="dl">"</span><span class="s2">[object Function]</span><span class="dl">"</span><span class="p">;</span>
<span class="p">}</span>

<span class="kd">function</span> <span class="nx">isRegExp</span><span class="p">(</span><span class="nx">value</span><span class="p">){</span>
  <span class="k">return</span> <span class="nb">Object</span><span class="p">.</span><span class="nx">prototype</span><span class="p">.</span><span class="nx">toString</span><span class="p">.</span><span class="nx">call</span><span class="p">(</span><span class="nx">value</span><span class="p">)</span> <span class="o">==</span> <span class="dl">"</span><span class="s2">[object RegExp]</span><span class="dl">"</span><span class="p">;</span>
<span class="p">}</span>
</code></pre></div></div>
<p>è¿™ä¸€æŠ€å·§ä¹Ÿå¹¿æ³›åº”ç”¨äºæ£€æµ‹åŸç”Ÿ JSON å¯¹è±¡ã€‚ Object çš„ toString() æ–¹æ³•ä¸èƒ½æ£€æµ‹éåŸç”Ÿæ„é€ å‡½æ•°çš„æ„é€ å‡½æ•°åã€‚å› æ­¤ï¼Œå¼€å‘äººå‘˜å®šä¹‰çš„ä»»ä½•æ„é€ å‡½æ•°éƒ½å°†è¿”å›[object Object]ã€‚æœ‰äº› JavaScript åº“ä¼šåŒ…å«ä¸ä¸‹é¢ç±»ä¼¼çš„ä»£ç ã€‚
var isNativeJSON = window.JSON &amp;&amp; Object.prototype.toString.call(JSON) ==â€[object JSON]â€;</p>

<h2 id="å¦‚ä½•å®šä¹‰ä½œç”¨åŸŸå®‰å…¨çš„æ„é€ å‡½æ•°">å¦‚ä½•å®šä¹‰ä½œç”¨åŸŸå®‰å…¨çš„æ„é€ å‡½æ•°ï¼Ÿ</h2>
<p>æ„é€ å‡½æ•°å…¶å®å°±æ˜¯ä¸€ä¸ªä½¿ç”¨ new æ“ä½œç¬¦è°ƒç”¨çš„å‡½æ•°ã€‚å½“ä½¿ç”¨ new è°ƒç”¨æ—¶ï¼Œæ„é€ å‡½æ•°å†…ç”¨åˆ°çš„ this å¯¹è±¡ä¼šæŒ‡å‘æ–°åˆ›å»ºçš„å¯¹è±¡å®ä¾‹ã€‚å½“æ²¡æœ‰ä½¿ç”¨ newæ“ä½œç¬¦æ¥è°ƒç”¨è¯¥æ„é€ å‡½æ•°çš„æƒ…å†µä¸Šã€‚ç”±äºè¯¥ this å¯¹è±¡æ˜¯åœ¨è¿è¡Œæ—¶ç»‘å®šçš„ï¼Œæ‰€ä»¥ç›´æ¥è°ƒç”¨å‡½æ•° ï¼Œthis ä¼šæ˜ å°„åˆ°å…¨å±€å¯¹è±¡ window ä¸Šï¼Œå¯¼è‡´é”™è¯¯å¯¹è±¡å±æ€§çš„æ„å¤–å¢åŠ ã€‚</p>
<div class="language-javascript highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kd">function</span> <span class="nx">Person</span><span class="p">(</span><span class="nx">name</span><span class="p">,</span> <span class="nx">age</span><span class="p">,</span> <span class="nx">job</span><span class="p">){</span>
  <span class="k">if</span> <span class="p">(</span><span class="k">this</span> <span class="k">instanceof</span> <span class="nx">Person</span><span class="p">){</span>
    <span class="k">this</span><span class="p">.</span><span class="nx">name</span> <span class="o">=</span> <span class="nx">name</span><span class="p">;</span>
    <span class="k">this</span><span class="p">.</span><span class="nx">age</span> <span class="o">=</span> <span class="nx">age</span><span class="p">;</span>
    <span class="k">this</span><span class="p">.</span><span class="nx">job</span> <span class="o">=</span> <span class="nx">job</span><span class="p">;</span>
  <span class="p">}</span> <span class="k">else</span> <span class="p">{</span>
    <span class="k">return</span> <span class="k">new</span> <span class="nx">Person</span><span class="p">(</span><span class="nx">name</span><span class="p">,</span> <span class="nx">age</span><span class="p">,</span> <span class="nx">job</span><span class="p">);</span>
  <span class="p">}</span>
<span class="p">}</span>

<span class="kd">var</span> <span class="nx">person1</span> <span class="o">=</span> <span class="nx">Person</span><span class="p">(</span><span class="dl">"</span><span class="s2">Nicholas</span><span class="dl">"</span><span class="p">,</span> <span class="mi">29</span><span class="p">,</span> <span class="dl">"</span><span class="s2">Software Engineer</span><span class="dl">"</span><span class="p">);</span>
<span class="nx">alert</span><span class="p">(</span><span class="nb">window</span><span class="p">.</span><span class="nx">name</span><span class="p">);</span> <span class="c1">//""</span>
<span class="nx">alert</span><span class="p">(</span><span class="nx">person1</span><span class="p">.</span><span class="nx">name</span><span class="p">);</span> <span class="c1">//"Nicholas"</span>
<span class="kd">var</span> <span class="nx">person2</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">Person</span><span class="p">(</span><span class="dl">"</span><span class="s2">Shelby</span><span class="dl">"</span><span class="p">,</span> <span class="mi">34</span><span class="p">,</span> <span class="dl">"</span><span class="s2">Ergonomist</span><span class="dl">"</span><span class="p">);</span>
<span class="nx">alert</span><span class="p">(</span><span class="nx">person2</span><span class="p">.</span><span class="nx">name</span><span class="p">);</span> <span class="c1">//"Shelby"</span>
</code></pre></div></div>

<h2 id="å¦‚ä½•é˜»æ­¢å‘å¯¹è±¡ä¸­æ·»åŠ å±æ€§å’Œæ–¹æ³•">å¦‚ä½•é˜»æ­¢å‘å¯¹è±¡ä¸­æ·»åŠ å±æ€§å’Œæ–¹æ³•ï¼Ÿ</h2>
<p>é»˜è®¤æƒ…å†µä¸‹ï¼Œæ‰€æœ‰å¯¹è±¡éƒ½æ˜¯å¯ä»¥æ‰©å±•çš„ã€‚ä¹Ÿå°±æ˜¯è¯´ï¼Œä»»ä½•æ—¶å€™éƒ½å¯ä»¥å‘å¯¹è±¡ä¸­æ·»åŠ å±æ€§å’Œæ–¹æ³•ã€‚ä½¿ç”¨<code class="language-plaintext highlighter-rouge">Object.preventExtensions()</code>æ–¹æ³•å¯ä»¥æ”¹å˜è¿™ä¸ªè¡Œä¸ºï¼Œä½¿å¾—ä¸èƒ½å†ç»™å¯¹è±¡æ·»åŠ å±æ€§å’Œæ–¹æ³•ï¼š</p>
<div class="language-javascript highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kd">var</span> <span class="nx">person</span> <span class="o">=</span> <span class="p">{</span> <span class="na">name</span><span class="p">:</span> <span class="dl">"</span><span class="s2">Nicholas</span><span class="dl">"</span> <span class="p">};</span>
<span class="nx">alert</span><span class="p">(</span><span class="nb">Object</span><span class="p">.</span><span class="nx">isExtensible</span><span class="p">(</span><span class="nx">person</span><span class="p">));</span> <span class="c1">//true</span>
<span class="nb">Object</span><span class="p">.</span><span class="nx">preventExtensions</span><span class="p">(</span><span class="nx">person</span><span class="p">);</span>
<span class="nx">person</span><span class="p">.</span><span class="nx">age</span> <span class="o">=</span> <span class="mi">29</span><span class="p">;</span>
<span class="nx">alert</span><span class="p">(</span><span class="nx">person</span><span class="p">.</span><span class="nx">age</span><span class="p">);</span> <span class="c1">//undefined</span>
</code></pre></div></div>

<h2 id="ä»€ä¹ˆæ˜¯å¯†å°å¯¹è±¡å®ƒæœ‰å“ªäº›ç‰¹æ€§">ä»€ä¹ˆæ˜¯å¯†å°å¯¹è±¡ï¼Ÿå®ƒæœ‰å“ªäº›ç‰¹æ€§ï¼Ÿ</h2>
<p>å¯†å°å¯¹è±¡ä¸å¯æ‰©å±•ï¼Œè€Œä¸”å·²æœ‰æˆå‘˜çš„ [[Configurable]] ç‰¹æ€§å°†è¢«è®¾ç½®ä¸º false ã€‚è¿™å°±æ„å‘³ç€ä¸èƒ½åˆ é™¤å±æ€§å’Œæ–¹æ³•ï¼Œå› ä¸ºä¸èƒ½ä½¿ç”¨ Object.defineProperty() æŠŠæ•°æ®å±æ€§ä¿®æ”¹ä¸ºè®¿é—®å™¨å±æ€§ï¼Œæˆ–è€…ç›¸åã€‚å±æ€§å€¼æ˜¯å¯ä»¥ä¿®æ”¹çš„ã€‚
è¦å¯†å°å¯¹è±¡ï¼Œå¯ä»¥ä½¿ç”¨ <code class="language-plaintext highlighter-rouge">Object.seal()</code>æ–¹æ³•ã€‚</p>
<div class="language-javascript highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kd">var</span> <span class="nx">person</span> <span class="o">=</span> <span class="p">{</span> <span class="na">name</span><span class="p">:</span> <span class="dl">"</span><span class="s2">Nicholas</span><span class="dl">"</span> <span class="p">};</span>
<span class="nx">alert</span><span class="p">(</span><span class="nb">Object</span><span class="p">.</span><span class="nx">isExtensible</span><span class="p">(</span><span class="nx">person</span><span class="p">));</span> <span class="c1">//true</span>
<span class="nx">alert</span><span class="p">(</span><span class="nb">Object</span><span class="p">.</span><span class="nx">isSealed</span><span class="p">(</span><span class="nx">person</span><span class="p">));</span> <span class="c1">//false</span>
<span class="nb">Object</span><span class="p">.</span><span class="nx">seal</span><span class="p">(</span><span class="nx">person</span><span class="p">);</span>
<span class="nx">alert</span><span class="p">(</span><span class="nb">Object</span><span class="p">.</span><span class="nx">isExtensible</span><span class="p">(</span><span class="nx">person</span><span class="p">));</span> <span class="c1">//false</span>
<span class="nx">alert</span><span class="p">(</span><span class="nb">Object</span><span class="p">.</span><span class="nx">isSealed</span><span class="p">(</span><span class="nx">person</span><span class="p">));</span> <span class="c1">//true</span>
<span class="nx">person</span><span class="p">.</span><span class="nx">age</span> <span class="o">=</span> <span class="mi">29</span><span class="p">;</span>
<span class="nx">alert</span><span class="p">(</span><span class="nx">person</span><span class="p">.</span><span class="nx">age</span><span class="p">);</span> <span class="c1">//undefined</span>
<span class="k">delete</span> <span class="nx">person</span><span class="p">.</span><span class="nx">name</span><span class="p">;</span> <span class="c1">// ä¸èƒ½åˆ é™¤</span>
<span class="nx">alert</span><span class="p">(</span><span class="nx">person</span><span class="p">.</span><span class="nx">name</span><span class="p">);</span> <span class="c1">//"Nicholas"</span>
</code></pre></div></div>

<h2 id="ä»€ä¹ˆæ˜¯å†»ç»“å¯¹è±¡å®ƒæœ‰å“ªäº›ç‰¹æ€§">ä»€ä¹ˆæ˜¯å†»ç»“å¯¹è±¡ï¼Ÿå®ƒæœ‰å“ªäº›ç‰¹æ€§ï¼Ÿ</h2>
<p>å†»ç»“çš„å¯¹è±¡æ—¢ä¸å¯æ‰©å±•ï¼Œåˆæ˜¯å¯†å°çš„ï¼Œè€Œä¸”å¯¹è±¡æ•°æ®å±æ€§çš„ [[Writable]] ç‰¹æ€§ä¼šè¢«è®¾ç½®ä¸º false ã€‚å¦‚æœå®šä¹‰ [[Set]] å‡½æ•°ï¼Œè®¿é—®å™¨å±æ€§ä»ç„¶æ˜¯å¯å†™çš„ã€‚</p>
<div class="language-javascript highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kd">var</span> <span class="nx">person</span> <span class="o">=</span> <span class="p">{</span> <span class="na">name</span><span class="p">:</span> <span class="dl">"</span><span class="s2">Nicholas</span><span class="dl">"</span> <span class="p">};</span>
<span class="nx">alert</span><span class="p">(</span><span class="nb">Object</span><span class="p">.</span><span class="nx">isExtensible</span><span class="p">(</span><span class="nx">person</span><span class="p">));</span> <span class="c1">//true</span>
<span class="nx">alert</span><span class="p">(</span><span class="nb">Object</span><span class="p">.</span><span class="nx">isSealed</span><span class="p">(</span><span class="nx">person</span><span class="p">));</span> <span class="c1">//false</span>
<span class="nx">alert</span><span class="p">(</span><span class="nb">Object</span><span class="p">.</span><span class="nx">isFrozen</span><span class="p">(</span><span class="nx">person</span><span class="p">));</span>  <span class="c1">//false</span>
<span class="nb">Object</span><span class="p">.</span><span class="nx">freeze</span><span class="p">(</span><span class="nx">person</span><span class="p">);</span>
<span class="nx">alert</span><span class="p">(</span><span class="nb">Object</span><span class="p">.</span><span class="nx">isExtensible</span><span class="p">(</span><span class="nx">person</span><span class="p">));</span> <span class="c1">//false</span>
<span class="nx">alert</span><span class="p">(</span><span class="nb">Object</span><span class="p">.</span><span class="nx">isSealed</span><span class="p">(</span><span class="nx">person</span><span class="p">));</span> <span class="c1">//true</span>
<span class="nx">alert</span><span class="p">(</span><span class="nb">Object</span><span class="p">.</span><span class="nx">isFrozen</span><span class="p">(</span><span class="nx">person</span><span class="p">));</span> <span class="c1">//true</span>
<span class="nx">person</span><span class="p">.</span><span class="nx">age</span> <span class="o">=</span> <span class="mi">29</span><span class="p">;</span>
<span class="nx">alert</span><span class="p">(</span><span class="nx">person</span><span class="p">.</span><span class="nx">age</span><span class="p">);</span> <span class="c1">//undefined</span>
<span class="k">delete</span> <span class="nx">person</span><span class="p">.</span><span class="nx">name</span><span class="p">;</span> <span class="c1">// åˆ é™¤å¤±è´¥</span>
<span class="nx">alert</span><span class="p">(</span><span class="nx">person</span><span class="p">.</span><span class="nx">name</span><span class="p">);</span> <span class="c1">//"Nicholas"</span>
<span class="nx">person</span><span class="p">.</span><span class="nx">name</span> <span class="o">=</span> <span class="dl">"</span><span class="s2">Greg</span><span class="dl">"</span><span class="p">;</span> <span class="c1">// å†™å…¥å¤±è´¥</span>
<span class="nx">alert</span><span class="p">(</span><span class="nx">person</span><span class="p">.</span><span class="nx">name</span><span class="p">);</span> <span class="c1">//"Nicholas"</span>
</code></pre></div></div>

<h2 id="javascriptä¸­çš„å®šæ—¶å™¨æ˜¯åŸºäºçº¿ç¨‹å®ç°çš„å—">JavaScriptä¸­çš„å®šæ—¶å™¨æ˜¯åŸºäºçº¿ç¨‹å®ç°çš„å—ï¼Ÿ</h2>
<p>JavaScript æ˜¯è¿è¡Œäºå•çº¿ç¨‹çš„ç¯å¢ƒä¸­çš„ï¼Œè€Œå®šæ—¶å™¨ä»…ä»…åªæ˜¯è®¡åˆ’ä»£ç åœ¨æœªæ¥çš„æŸä¸ªæ—¶é—´æ‰§è¡Œã€‚<code class="language-plaintext highlighter-rouge">æ‰§è¡Œæ—¶æœºæ˜¯ä¸èƒ½ä¿è¯çš„</code>ï¼Œå› ä¸ºåœ¨é¡µé¢çš„ç”Ÿå‘½å‘¨æœŸä¸­ï¼Œä¸åŒæ—¶é—´å¯èƒ½æœ‰å…¶ä»–ä»£ç åœ¨æ§åˆ¶ JavaScript è¿›ç¨‹ã€‚åœ¨é¡µé¢ä¸‹è½½å®Œåçš„ä»£ç è¿è¡Œã€äº‹ä»¶å¤„ç†ç¨‹åºã€Ajax å›è°ƒå‡½æ•°éƒ½å¿…é¡»ä½¿ç”¨åŒæ ·çš„çº¿ç¨‹æ¥æ‰§è¡Œã€‚å®é™…ä¸Šï¼Œæµè§ˆå™¨è´Ÿè´£è¿›è¡Œæ’åºï¼ŒæŒ‡æ´¾æŸæ®µä»£ç åœ¨æŸä¸ªæ—¶é—´ç‚¹è¿è¡Œçš„ä¼˜å…ˆçº§ã€‚
<code class="language-plaintext highlighter-rouge">é™¤äº†ä¸» JavaScript æ‰§è¡Œè¿›ç¨‹å¤–ï¼Œè¿˜æœ‰ä¸€ä¸ªéœ€è¦åœ¨è¿›ç¨‹ä¸‹ä¸€æ¬¡ç©ºé—²æ—¶æ‰§è¡Œçš„ä»£ç é˜Ÿåˆ—</code>ã€‚éšç€é¡µé¢åœ¨å…¶ç”Ÿå‘½å‘¨æœŸä¸­çš„æ¨ç§»ï¼Œä»£ç ä¼šæŒ‰ç…§æ‰§è¡Œé¡ºåºæ·»åŠ å…¥é˜Ÿåˆ—ã€‚ä¾‹å¦‚ï¼Œå½“æŸä¸ªæŒ‰é’®è¢«æŒ‰ä¸‹æ—¶ï¼Œå®ƒçš„äº‹ä»¶å¤„ç†ç¨‹åºä»£ç å°±ä¼šè¢«æ·»åŠ åˆ°é˜Ÿåˆ—ä¸­ï¼Œå¹¶åœ¨ä¸‹ä¸€ä¸ªå¯èƒ½çš„æ—¶é—´é‡Œæ‰§è¡Œã€‚å½“æ¥æ”¶åˆ°æŸä¸ª Ajax å“åº”æ—¶ï¼Œå›è°ƒå‡½æ•°çš„ä»£ç ä¼šè¢«æ·»åŠ åˆ°é˜Ÿåˆ—ã€‚åœ¨ JavaScript ä¸­æ²¡æœ‰ä»»ä½•ä»£ç æ˜¯ç«‹åˆ»æ‰§è¡Œçš„ï¼Œä½†ä¸€æ—¦è¿›ç¨‹ç©ºé—²åˆ™å°½å¿«æ‰§è¡Œã€‚
å®šæ—¶å™¨å¯¹é˜Ÿåˆ—çš„å·¥ä½œæ–¹å¼æ˜¯ï¼Œå½“ç‰¹å®šæ—¶é—´è¿‡å»åå°†ä»£ç æ’å…¥ã€‚æ³¨æ„ï¼Œç»™é˜Ÿåˆ—æ·»åŠ ä»£ç å¹¶ä¸æ„å‘³ç€å¯¹å®ƒç«‹åˆ»æ‰§è¡Œï¼Œè€Œåªèƒ½è¡¨ç¤ºå®ƒä¼šå°½å¿«æ‰§è¡Œã€‚è®¾å®šä¸€ä¸ª 150ms åæ‰§è¡Œçš„å®šæ—¶å™¨ä¸ä»£è¡¨åˆ°äº† 150msä»£ç å°±ç«‹åˆ»æ‰§è¡Œï¼Œå®ƒè¡¨ç¤ºä»£ç ä¼šåœ¨ 150ms åè¢«åŠ å…¥åˆ°é˜Ÿåˆ—ä¸­ã€‚å¦‚æœåœ¨è¿™ä¸ªæ—¶é—´ç‚¹ä¸Šï¼Œé˜Ÿåˆ—ä¸­æ²¡æœ‰å…¶ä»–ä¸œè¥¿ï¼Œé‚£ä¹ˆè¿™æ®µä»£ç å°±ä¼šè¢«æ‰§è¡Œï¼Œè¡¨é¢ä¸Šçœ‹ä¸Šå»å¥½åƒä»£ç å°±åœ¨ç²¾ç¡®æŒ‡å®šçš„æ—¶é—´ç‚¹ä¸Šæ‰§è¡Œäº†ã€‚å…¶ä»–æƒ…å†µä¸‹ï¼Œä»£ç å¯èƒ½æ˜æ˜¾åœ°ç­‰å¾…æ›´é•¿æ—¶é—´æ‰æ‰§è¡Œã€‚
å…³äºå®šæ—¶å™¨è¦è®°ä½çš„æœ€é‡è¦çš„äº‹æƒ…æ˜¯ï¼ŒæŒ‡å®šçš„æ—¶é—´é—´éš”è¡¨ç¤ºä½•æ—¶å°†å®šæ—¶å™¨çš„ä»£ç æ·»åŠ åˆ°é˜Ÿåˆ—ï¼Œè€Œä¸æ˜¯ä½•æ—¶å®é™…æ‰§è¡Œä»£ç ã€‚é˜Ÿåˆ—ä¸­æ‰€æœ‰çš„ä»£ç éƒ½è¦ç­‰åˆ° JavaScript è¿›ç¨‹ç©ºé—²ä¹‹åæ‰èƒ½æ‰§è¡Œï¼Œè€Œä¸ç®¡å®ƒä»¬æ˜¯å¦‚ä½•æ·»åŠ åˆ°é˜Ÿåˆ—ä¸­çš„ã€‚</p>

<p>ä½¿ç”¨ setInterval() åˆ›å»ºçš„å®šæ—¶å™¨ç¡®ä¿äº†å®šæ—¶å™¨ä»£ç è§„åˆ™åœ°æ’å…¥é˜Ÿåˆ—ä¸­ã€‚è¿™ä¸ªæ–¹å¼çš„é—®é¢˜åœ¨äºï¼Œå®šæ—¶å™¨ä»£ç å¯èƒ½åœ¨ä»£ç å†æ¬¡è¢«æ·»åŠ åˆ°é˜Ÿåˆ—ä¹‹å‰è¿˜æ²¡æœ‰å®Œæˆæ‰§è¡Œï¼Œç»“æœå¯¼è‡´å®šæ—¶å™¨ä»£ç è¿ç»­è¿è¡Œå¥½å‡ æ¬¡ï¼Œè€Œä¹‹é—´æ²¡æœ‰ä»»ä½•åœé¡¿ã€‚å¹¸å¥½ï¼ŒJavaScript å¼•æ“å¤Ÿèªæ˜ï¼Œèƒ½é¿å…è¿™ä¸ªé—®é¢˜ã€‚å½“ä½¿ç”¨ setInterval() æ—¶ï¼Œä»…å½“æ²¡æœ‰è¯¥å®šæ—¶å™¨çš„ä»»ä½•å…¶ä»–ä»£ç å®ä¾‹æ—¶ï¼Œæ‰å°†å®šæ—¶å™¨ä»£ç æ·»åŠ åˆ°é˜Ÿåˆ—ä¸­ã€‚è¿™ç¡®ä¿äº†å®šæ—¶å™¨ä»£ç åŠ å…¥åˆ°é˜Ÿåˆ—ä¸­çš„æœ€å°æ—¶é—´é—´éš”ä¸ºæŒ‡å®šé—´éš”ã€‚è¿™ç§é‡å¤å®šæ—¶å™¨çš„è§„åˆ™æœ‰ä¸¤ä¸ªé—®é¢˜ï¼š(1) æŸäº›é—´éš”ä¼šè¢«è·³è¿‡ï¼›(2) å¤šä¸ªå®šæ—¶å™¨çš„ä»£ç æ‰§è¡Œä¹‹é—´çš„é—´éš”å¯èƒ½ä¼šæ¯”é¢„æœŸçš„å°ã€‚å‡è®¾ï¼ŒæŸä¸ª onclick äº‹ä»¶å¤„ç†ç¨‹åºä½¿ç”¨ setInterval() è®¾ç½®äº†ä¸€ä¸ª 200ms é—´éš”çš„é‡å¤å®šæ—¶å™¨ã€‚å¦‚æœäº‹ä»¶å¤„ç†ç¨‹åºèŠ±äº† 300mså¤šä¸€ç‚¹çš„æ—¶é—´å®Œæˆï¼ŒåŒæ—¶å®šæ—¶å™¨ä»£ç ä¹ŸèŠ±äº†å·®ä¸å¤šçš„æ—¶é—´ï¼Œå°±ä¼šåŒæ—¶å‡ºç°è·³è¿‡é—´éš”ä¸”è¿ç»­è¿è¡Œå®šæ—¶å™¨ä»£ç çš„æƒ…å†µã€‚</p>

<h2 id="ä»€ä¹ˆæ˜¯yielding-processes">ä»€ä¹ˆæ˜¯Yielding Processesï¼Ÿ</h2>
<p>è¿è¡Œåœ¨æµè§ˆå™¨ä¸­çš„ JavaScript éƒ½è¢«åˆ†é…äº†ä¸€ä¸ªç¡®å®šæ•°é‡çš„èµ„æºã€‚ä¸åŒäºæ¡Œé¢åº”ç”¨å¾€å¾€èƒ½å¤Ÿéšæ„æ§åˆ¶ä»–ä»¬è¦çš„å†…å­˜å¤§å°å’Œå¤„ç†å™¨æ—¶é—´ï¼ŒJavaScript è¢«ä¸¥æ ¼é™åˆ¶äº†ï¼Œä»¥é˜²æ­¢æ¶æ„çš„ Web ç¨‹åºå‘˜æŠŠç”¨æˆ·çš„è®¡ç®—æœºææŒ‚äº†ã€‚å…¶ä¸­ä¸€ä¸ªé™åˆ¶æ˜¯é•¿æ—¶é—´è¿è¡Œè„šæœ¬çš„åˆ¶çº¦ï¼Œå¦‚æœä»£ç è¿è¡Œè¶…è¿‡ç‰¹å®šçš„æ—¶é—´æˆ–è€…ç‰¹å®šè¯­å¥æ•°é‡å°±ä¸è®©å®ƒç»§ç»­æ‰§è¡Œã€‚ä¸€æ—¦æŸä¸ªå‡½æ•°éœ€è¦èŠ± 50ms ä»¥ä¸Šçš„æ—¶é—´å®Œæˆï¼Œé‚£ä¹ˆæœ€å¥½çœ‹çœ‹èƒ½å¦å°†ä»»åŠ¡åˆ†å‰²ä¸ºä¸€ç³»åˆ—å¯ä»¥ä½¿ç”¨å®šæ—¶å™¨çš„å°ä»»åŠ¡ã€‚è„šæœ¬é•¿æ—¶é—´è¿è¡Œçš„é—®é¢˜é€šå¸¸æ˜¯ç”±ä¸¤ä¸ªåŸå› ä¹‹ä¸€é€ æˆçš„ï¼šè¿‡é•¿çš„ã€è¿‡æ·±åµŒå¥—çš„å‡½æ•°è°ƒç”¨æˆ–è€…æ˜¯è¿›è¡Œå¤§é‡å¤„ç†çš„å¾ªç¯ã€‚è¿™ä¸¤è€…ä¸­ï¼Œåè€…æ˜¯è¾ƒä¸ºå®¹æ˜“è§£å†³çš„é—®é¢˜ã€‚é•¿æ—¶é—´è¿è¡Œçš„å¾ªç¯é€šå¸¸éµå¾ªä»¥ä¸‹æ¨¡å¼ï¼š</p>
<div class="language-javascript highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">for</span> <span class="p">(</span><span class="kd">var</span> <span class="nx">i</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span> <span class="nx">len</span><span class="o">=</span><span class="nx">data</span><span class="p">.</span><span class="nx">length</span><span class="p">;</span> <span class="nx">i</span> <span class="o">&lt;</span> <span class="nx">len</span><span class="p">;</span> <span class="nx">i</span><span class="o">++</span><span class="p">){</span>
  <span class="nx">process</span><span class="p">(</span><span class="nx">data</span><span class="p">[</span><span class="nx">i</span><span class="p">]);</span>
<span class="p">}</span>
</code></pre></div></div>
<p>åœ¨å±•å¼€è¯¥å¾ªç¯ä¹‹å‰ï¼Œä½ éœ€è¦å›ç­”ä»¥ä¸‹ä¸¤ä¸ªé‡è¦çš„é—®é¢˜ã€‚
1.è¯¥å¤„ç†æ˜¯å¦å¿…é¡»åŒæ­¥å®Œæˆï¼Ÿå¦‚æœè¿™ä¸ªæ•°æ®çš„å¤„ç†ä¼šé€ æˆå…¶ä»–è¿è¡Œçš„é˜»å¡ï¼Œé‚£ä¹ˆæœ€å¥½ä¸è¦æ”¹åŠ¨å®ƒã€‚ä¸è¿‡ï¼Œå¦‚æœä½ å¯¹è¿™ä¸ªé—®é¢˜çš„å›ç­”ç¡®å®šä¸ºâ€œå¦â€ï¼Œé‚£ä¹ˆå°†æŸäº›å¤„ç†æ¨è¿Ÿåˆ°ä»¥åæ˜¯ä¸ªä¸é”™çš„å¤‡é€‰é¡¹ã€‚
2.æ•°æ®æ˜¯å¦å¿…é¡»æŒ‰é¡ºåºå®Œæˆï¼Ÿé€šå¸¸ï¼Œæ•°ç»„åªæ˜¯å¯¹é¡¹ç›®çš„ç»„åˆå’Œè¿­ä»£çš„ä¸€ç§ç®€ä¾¿çš„æ–¹æ³•è€Œæ— æ‰€è°“é¡ºåºã€‚å¦‚æœé¡¹ç›®çš„é¡ºåºä¸æ˜¯éå¸¸é‡è¦ï¼Œé‚£ä¹ˆå¯èƒ½å¯ä»¥å°†æŸäº›å¤„ç†æ¨è¿Ÿåˆ°ä»¥åã€‚
å½“ä½ å‘ç°æŸä¸ªå¾ªç¯å ç”¨äº†å¤§é‡æ—¶é—´ï¼ŒåŒæ—¶å¯¹äºä¸Šè¿°ä¸¤ä¸ªé—®é¢˜ï¼Œä½ çš„å›ç­”éƒ½æ˜¯â€œå¦â€ï¼Œé‚£ä¹ˆä½ å°±å¯ä»¥ä½¿ç”¨å®šæ—¶å™¨åˆ†å‰²è¿™ä¸ªå¾ªç¯ã€‚è¿™æ˜¯ä¸€ç§å«åšæ•°ç»„åˆ†å—ï¼ˆarray chunkingï¼‰çš„æŠ€æœ¯ï¼Œå°å—å°å—åœ°å¤„ç†æ•°ç»„ï¼Œé€šå¸¸æ¯æ¬¡ä¸€å°å—ã€‚åŸºæœ¬çš„æ€è·¯æ˜¯ä¸ºè¦å¤„ç†çš„é¡¹ç›®åˆ›å»ºä¸€ä¸ªé˜Ÿåˆ—ï¼Œç„¶åä½¿ç”¨å®šæ—¶å™¨å–å‡ºä¸‹ä¸€ä¸ªè¦å¤„ç†çš„é¡¹ç›®è¿›è¡Œå¤„ç†ï¼Œæ¥ç€å†è®¾ç½®å¦ä¸€ä¸ªå®šæ—¶å™¨ã€‚åŸºæœ¬çš„æ¨¡å¼å¦‚ä¸‹ã€‚</p>
<div class="language-javascript highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kd">function</span> <span class="nx">chunk</span><span class="p">(</span><span class="nx">array</span><span class="p">,</span> <span class="nx">process</span><span class="p">,</span> <span class="nx">context</span><span class="p">){</span>
  <span class="nx">setTimeout</span><span class="p">(</span><span class="kd">function</span><span class="p">(){</span>
    <span class="kd">var</span> <span class="nx">item</span> <span class="o">=</span> <span class="nx">array</span><span class="p">.</span><span class="nx">shift</span><span class="p">();</span>
    <span class="nx">process</span><span class="p">.</span><span class="nx">call</span><span class="p">(</span><span class="nx">context</span><span class="p">,</span> <span class="nx">item</span><span class="p">);</span>
    <span class="k">if</span> <span class="p">(</span><span class="nx">array</span><span class="p">.</span><span class="nx">length</span> <span class="o">&gt;</span> <span class="mi">0</span><span class="p">){</span>
      <span class="nx">setTimeout</span><span class="p">(</span><span class="nx">arguments</span><span class="p">.</span><span class="nx">callee</span><span class="p">,</span> <span class="mi">100</span><span class="p">);</span>
    <span class="p">}</span>
  <span class="p">},</span> <span class="mi">100</span><span class="p">);</span>
<span class="p">}</span>
</code></pre></div></div>

<h2 id="ä»€ä¹ˆæ˜¯å‡½æ•°èŠ‚æµå®ƒé€šå¸¸åº”ç”¨åœ¨ä»€ä¹ˆåœºæ™¯ä¸­">ä»€ä¹ˆæ˜¯å‡½æ•°èŠ‚æµï¼Ÿå®ƒé€šå¸¸åº”ç”¨åœ¨ä»€ä¹ˆåœºæ™¯ä¸­ï¼Ÿ</h2>
<p>å‡½æ•°èŠ‚æµèƒŒåçš„åŸºæœ¬æ€æƒ³æ˜¯æŒ‡ï¼ŒæŸäº›ä»£ç ä¸å¯ä»¥åœ¨æ²¡æœ‰é—´æ–­çš„æƒ…å†µè¿ç»­é‡å¤æ‰§è¡Œã€‚ç¬¬ä¸€æ¬¡è°ƒç”¨å‡½æ•°ï¼Œåˆ›å»ºä¸€ä¸ªå®šæ—¶å™¨ï¼Œåœ¨æŒ‡å®šçš„æ—¶é—´é—´éš”ä¹‹åè¿è¡Œä»£ç ã€‚å½“ç¬¬äºŒæ¬¡è°ƒç”¨è¯¥å‡½æ•°æ—¶ï¼Œå®ƒä¼šæ¸…é™¤å‰ä¸€æ¬¡çš„å®šæ—¶å™¨å¹¶è®¾ç½®å¦ä¸€ä¸ªã€‚å¦‚æœå‰ä¸€ä¸ªå®šæ—¶å™¨å·²ç»æ‰§è¡Œè¿‡äº†ï¼Œè¿™ä¸ªæ“ä½œå°±æ²¡æœ‰ä»»ä½•æ„ä¹‰ã€‚ç„¶è€Œï¼Œ<code class="language-plaintext highlighter-rouge">å¦‚æœå‰ä¸€ä¸ªå®šæ—¶å™¨å°šæœªæ‰§è¡Œï¼Œå…¶å®å°±æ˜¯å°†å…¶æ›¿æ¢ä¸ºä¸€ä¸ªæ–°çš„å®šæ—¶å™¨</code>ã€‚<code class="language-plaintext highlighter-rouge">ç›®çš„æ˜¯åªæœ‰åœ¨æ‰§è¡Œå‡½æ•°çš„è¯·æ±‚åœæ­¢äº†ä¸€æ®µæ—¶é—´ä¹‹åæ‰æ‰§è¡Œ</code>ã€‚ä»¥ä¸‹æ˜¯è¯¥æ¨¡å¼çš„åŸºæœ¬å½¢å¼ï¼š</p>
<div class="language-javascript highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kd">var</span> <span class="nx">processor</span> <span class="o">=</span> <span class="p">{</span>
  <span class="na">timeoutId</span><span class="p">:</span> <span class="kc">null</span><span class="p">,</span>
  <span class="c1">//å®é™…è¿›è¡Œå¤„ç†çš„æ–¹æ³•</span>
  <span class="na">performProcessing</span><span class="p">:</span> <span class="kd">function</span><span class="p">(){</span>
    <span class="c1">//å®é™…æ‰§è¡Œçš„ä»£ç </span>
  <span class="p">},</span>
  <span class="c1">//åˆå§‹å¤„ç†è°ƒç”¨çš„æ–¹æ³•</span>
  <span class="na">process</span><span class="p">:</span> <span class="kd">function</span><span class="p">(){</span>
    <span class="nx">clearTimeout</span><span class="p">(</span><span class="k">this</span><span class="p">.</span><span class="nx">timeoutId</span><span class="p">);</span>
    <span class="kd">var</span> <span class="nx">that</span> <span class="o">=</span> <span class="k">this</span><span class="p">;</span>
    <span class="k">this</span><span class="p">.</span><span class="nx">timeoutId</span> <span class="o">=</span> <span class="nx">setTimeout</span><span class="p">(</span><span class="kd">function</span><span class="p">(){</span>
      <span class="nx">that</span><span class="p">.</span><span class="nx">performProcessing</span><span class="p">();</span>
    <span class="p">},</span> <span class="mi">100</span><span class="p">);</span>
  <span class="p">}</span>
<span class="p">};</span>
<span class="c1">//å°è¯•å¼€å§‹æ‰§è¡Œ</span>
<span class="nx">processor</span><span class="p">.</span><span class="nx">process</span><span class="p">();</span>
</code></pre></div></div>
<p>æ—¶é—´é—´éš”è®¾ä¸ºäº† 100msï¼Œè¿™è¡¨ç¤ºæœ€åä¸€æ¬¡è°ƒç”¨ process() ä¹‹åè‡³å°‘ 100ms åæ‰ä¼šè°ƒç”¨ performProcessing() ã€‚æ‰€ä»¥å¦‚æœ 100msä¹‹å†…è°ƒç”¨äº† process() å…± 20 æ¬¡ï¼Œ performanceProcessing() ä»åªä¼šè¢«è°ƒç”¨ä¸€æ¬¡ã€‚
è¿™ä¸ªæ¨¡å¼å¯ä»¥ä½¿ç”¨ throttle() å‡½æ•°æ¥ç®€åŒ–ï¼Œè¿™ä¸ªå‡½æ•°å¯ä»¥è‡ªåŠ¨è¿›è¡Œå®šæ—¶å™¨çš„è®¾ç½®å’Œæ¸…é™¤ï¼Œå¦‚ä¸‹ä¾‹æ‰€ç¤ºï¼š</p>

<p>å®ç°1ï¼š</p>
<div class="language-javascript highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kd">function</span> <span class="nx">throttle</span><span class="p">(</span><span class="nx">method</span><span class="p">,</span> <span class="nx">context</span><span class="p">)</span> <span class="p">{</span>
  <span class="nx">clearTimeout</span><span class="p">(</span><span class="nx">method</span><span class="p">.</span><span class="nx">tId</span><span class="p">);</span>
  <span class="nx">method</span><span class="p">.</span><span class="nx">tId</span><span class="o">=</span> <span class="nx">setTimeout</span><span class="p">(</span><span class="kd">function</span><span class="p">(){</span>
    <span class="nx">method</span><span class="p">.</span><span class="nx">call</span><span class="p">(</span><span class="nx">context</span><span class="p">);</span>
  <span class="p">},</span> <span class="mi">100</span><span class="p">);</span>
<span class="p">}</span>
</code></pre></div></div>

<p>å®ç°2ï¼š</p>

<div class="language-javascript highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c1">// é™é¢‘ï¼Œæ¯delayçš„æ—¶é—´æ‰§è¡Œä¸€æ¬¡ </span>
<span class="kd">function</span> <span class="nx">throttle</span><span class="p">(</span><span class="nx">fn</span><span class="p">,</span> <span class="nx">delay</span><span class="p">,</span> <span class="nx">ctx</span><span class="p">)</span> <span class="p">{</span>
    <span class="kd">let</span> <span class="nx">isAvail</span> <span class="o">=</span> <span class="kc">true</span>
    <span class="k">return</span> <span class="kd">function</span><span class="p">()</span> <span class="p">{</span>
        <span class="kd">let</span> <span class="nx">args</span> <span class="o">=</span> <span class="nx">arguments</span>
        
        <span class="c1">// å¼€å…³æ‰“å¼€æ—¶ï¼Œæ‰§è¡Œä»»åŠ¡</span>
        <span class="k">if</span> <span class="p">(</span><span class="nx">isAvail</span><span class="p">)</span> <span class="p">{</span>
            <span class="nx">fn</span><span class="p">.</span><span class="nx">apply</span><span class="p">(</span><span class="nx">ctx</span><span class="p">,</span> <span class="nx">args</span><span class="p">)</span>
            <span class="nx">isAvail</span> <span class="o">=</span> <span class="kc">false</span>
            
            <span class="c1">// delayæ—¶é—´ä¹‹åï¼Œä»»åŠ¡å¼€å…³æ‰“å¼€</span>
            <span class="nx">setTimeout</span><span class="p">(</span><span class="kd">function</span><span class="p">()</span> <span class="p">{</span>
                <span class="nx">isAvail</span> <span class="o">=</span> <span class="kc">true</span>
            <span class="p">},</span> <span class="nx">delay</span><span class="p">)</span>
        <span class="p">}</span>
    <span class="p">}</span>
<span class="p">}</span>
</code></pre></div></div>

<p>èŠ‚æµåœ¨ resize äº‹ä»¶ä¸­æ˜¯æœ€å¸¸ç”¨çš„ã€‚
ä¾‹å¦‚ï¼Œå‡è®¾æœ‰ä¸€ä¸ª &lt;div/&gt; å…ƒç´ éœ€è¦ä¿æŒå®ƒçš„é«˜åº¦å§‹ç»ˆç­‰åŒäºå®½åº¦ã€‚é‚£ä¹ˆå®ç°è¿™ä¸€åŠŸèƒ½çš„ JavaScript å¯ä»¥å¦‚ä¸‹ç¼–å†™ï¼š</p>
<div class="language-javascript highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nb">window</span><span class="p">.</span><span class="nx">onresize</span> <span class="o">=</span> <span class="kd">function</span><span class="p">(){</span>
  <span class="kd">var</span> <span class="nx">div</span> <span class="o">=</span> <span class="nb">document</span><span class="p">.</span><span class="nx">getElementById</span><span class="p">(</span><span class="dl">"</span><span class="s2">myDiv</span><span class="dl">"</span><span class="p">);</span>
  <span class="nx">div</span><span class="p">.</span><span class="nx">style</span><span class="p">.</span><span class="nx">height</span> <span class="o">=</span> <span class="nx">div</span><span class="p">.</span> <span class="nx">offsetWidth</span> <span class="o">+</span> <span class="dl">"</span><span class="s2">px</span><span class="dl">"</span><span class="p">;</span>
<span class="p">};</span>
</code></pre></div></div>
<p>è¿™æ®µéå¸¸ç®€å•çš„ä¾‹å­æœ‰ä¸¤ä¸ªé—®é¢˜å¯èƒ½ä¼šé€ æˆæµè§ˆå™¨è¿è¡Œç¼“æ…¢ã€‚é¦–å…ˆï¼Œè¦è®¡ç®— offsetWidth å±æ€§ï¼Œå¦‚æœè¯¥å…ƒç´ æˆ–è€…é¡µé¢ä¸Šå…¶ä»–å…ƒç´ æœ‰éå¸¸å¤æ‚çš„ CSS æ ·å¼ï¼Œé‚£ä¹ˆè¿™ä¸ªè¿‡ç¨‹å°†ä¼šå¾ˆå¤æ‚ã€‚å…¶æ¬¡ï¼Œè®¾ç½®æŸä¸ªå…ƒç´ çš„é«˜åº¦éœ€è¦å¯¹é¡µé¢è¿›è¡Œå›æµæ¥ä»¤æ”¹åŠ¨ç”Ÿæ•ˆã€‚å¦‚æœé¡µé¢æœ‰å¾ˆå¤šå…ƒç´ åŒæ—¶åº”ç”¨äº†ç›¸å½“æ•°é‡çš„ CSS çš„è¯ï¼Œè¿™åˆéœ€è¦å¾ˆå¤šè®¡ç®—ã€‚è¿™å°±å¯ä»¥ç”¨åˆ° throttle() å‡½æ•°ï¼Œå¦‚ä¸‹ä¾‹æ‰€ç¤ºï¼š</p>
<div class="language-javascript highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kd">function</span> <span class="nx">resizeDiv</span><span class="p">(){</span>
  <span class="kd">var</span> <span class="nx">div</span> <span class="o">=</span> <span class="nb">document</span><span class="p">.</span><span class="nx">getElementById</span><span class="p">(</span><span class="dl">"</span><span class="s2">myDiv</span><span class="dl">"</span><span class="p">);</span>
  <span class="nx">div</span><span class="p">.</span><span class="nx">style</span><span class="p">.</span><span class="nx">height</span> <span class="o">=</span> <span class="nx">div</span><span class="p">.</span><span class="nx">offsetWidth</span> <span class="o">+</span> <span class="dl">"</span><span class="s2">px</span><span class="dl">"</span><span class="p">;</span>
<span class="p">}</span>
<span class="nb">window</span><span class="p">.</span><span class="nx">onresize</span> <span class="o">=</span> <span class="kd">function</span><span class="p">(){</span>
  <span class="nx">throttle</span><span class="p">(</span><span class="nx">resizeDiv</span><span class="p">);</span>
<span class="p">};</span>
</code></pre></div></div>
<p>åªè¦ä»£ç æ˜¯å‘¨æœŸæ€§æ‰§è¡Œçš„ï¼Œéƒ½åº”è¯¥ä½¿ç”¨èŠ‚æµï¼Œä½†æ˜¯ä½ ä¸èƒ½æ§åˆ¶è¯·æ±‚æ‰§è¡Œçš„é€Ÿç‡ã€‚è¿™é‡Œå±•ç¤ºçš„throttle() å‡½æ•°ç”¨äº† 100ms ä½œä¸ºé—´éš”ï¼Œä½ å½“ç„¶å¯ä»¥æ ¹æ®ä½ çš„éœ€è¦æ¥ä¿®æ”¹å®ƒã€‚</p>

<h2 id="å¦‚ä½•å®ç°è‡ªå®šä¹‰äº‹ä»¶ç®¡ç†æ¡†æ¶">å¦‚ä½•å®ç°è‡ªå®šä¹‰äº‹ä»¶ç®¡ç†æ¡†æ¶ï¼Ÿ</h2>
<p>è‡ªå®šä¹‰äº‹ä»¶èƒŒåçš„æ¦‚å¿µæ˜¯åˆ›å»ºä¸€ä¸ªç®¡ç†äº‹ä»¶çš„å¯¹è±¡ï¼Œè®©å…¶ä»–å¯¹è±¡ç›‘å¬é‚£äº›äº‹ä»¶ã€‚å®ç°æ­¤åŠŸèƒ½çš„åŸºæœ¬æ¨¡å¼å¯ä»¥å¦‚ä¸‹å®šä¹‰ï¼š</p>
<div class="language-javascript highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kd">function</span> <span class="nx">EventTarget</span><span class="p">(){</span>
  <span class="k">this</span><span class="p">.</span><span class="nx">handlers</span> <span class="o">=</span> <span class="p">{};</span>
<span class="p">}</span>
<span class="nx">EventTarget</span><span class="p">.</span><span class="nx">prototype</span> <span class="o">=</span> <span class="p">{</span>
  <span class="na">constructor</span><span class="p">:</span> <span class="nx">EventTarget</span><span class="p">,</span>
  <span class="na">addHandler</span><span class="p">:</span> <span class="kd">function</span><span class="p">(</span><span class="nx">type</span><span class="p">,</span> <span class="nx">handler</span><span class="p">){</span>
    <span class="k">if</span> <span class="p">(</span><span class="k">typeof</span> <span class="k">this</span><span class="p">.</span><span class="nx">handlers</span><span class="p">[</span><span class="nx">type</span><span class="p">]</span> <span class="o">==</span> <span class="dl">"</span><span class="s2">undefined</span><span class="dl">"</span><span class="p">){</span>
      <span class="k">this</span><span class="p">.</span><span class="nx">handlers</span><span class="p">[</span><span class="nx">type</span><span class="p">]</span> <span class="o">=</span> <span class="p">[];</span>
    <span class="p">}</span>
    <span class="k">this</span><span class="p">.</span><span class="nx">handlers</span><span class="p">[</span><span class="nx">type</span><span class="p">].</span><span class="nx">push</span><span class="p">(</span><span class="nx">handler</span><span class="p">);</span>
  <span class="p">},</span>
  <span class="na">fire</span><span class="p">:</span> <span class="kd">function</span><span class="p">(</span><span class="nx">event</span><span class="p">){</span>
    <span class="k">if</span> <span class="p">(</span><span class="o">!</span><span class="nx">event</span><span class="p">.</span><span class="nx">target</span><span class="p">){</span>
      <span class="nx">event</span><span class="p">.</span><span class="nx">target</span> <span class="o">=</span> <span class="k">this</span><span class="p">;</span>
    <span class="p">}</span>
    <span class="k">if</span> <span class="p">(</span><span class="k">this</span><span class="p">.</span><span class="nx">handlers</span><span class="p">[</span><span class="nx">event</span><span class="p">.</span><span class="nx">type</span><span class="p">]</span> <span class="k">instanceof</span> <span class="nb">Array</span><span class="p">){</span>
      <span class="kd">var</span> <span class="nx">handlers</span> <span class="o">=</span> <span class="k">this</span><span class="p">.</span><span class="nx">handlers</span><span class="p">[</span><span class="nx">event</span><span class="p">.</span><span class="nx">type</span><span class="p">];</span>
      <span class="k">for</span> <span class="p">(</span><span class="kd">var</span> <span class="nx">i</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span> <span class="nx">len</span><span class="o">=</span><span class="nx">handlers</span><span class="p">.</span><span class="nx">length</span><span class="p">;</span> <span class="nx">i</span> <span class="o">&lt;</span> <span class="nx">len</span><span class="p">;</span> <span class="nx">i</span><span class="o">++</span><span class="p">){</span>
        <span class="nx">handlers</span><span class="p">[</span><span class="nx">i</span><span class="p">](</span><span class="nx">event</span><span class="p">);</span>
      <span class="p">}</span>
    <span class="p">}</span>
  <span class="p">},</span>
  <span class="na">removeHandler</span><span class="p">:</span> <span class="kd">function</span><span class="p">(</span><span class="nx">type</span><span class="p">,</span> <span class="nx">handler</span><span class="p">){</span>
    <span class="k">if</span> <span class="p">(</span><span class="k">this</span><span class="p">.</span><span class="nx">handlers</span><span class="p">[</span><span class="nx">type</span><span class="p">]</span> <span class="k">instanceof</span> <span class="nb">Array</span><span class="p">){</span>
      <span class="kd">var</span> <span class="nx">handlers</span> <span class="o">=</span> <span class="k">this</span><span class="p">.</span><span class="nx">handlers</span><span class="p">[</span><span class="nx">type</span><span class="p">];</span>
      <span class="k">for</span> <span class="p">(</span><span class="kd">var</span> <span class="nx">i</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span> <span class="nx">len</span><span class="o">=</span><span class="nx">handlers</span><span class="p">.</span><span class="nx">length</span><span class="p">;</span> <span class="nx">i</span> <span class="o">&lt;</span> <span class="nx">len</span><span class="p">;</span> <span class="nx">i</span><span class="o">++</span><span class="p">){</span>
        <span class="k">if</span> <span class="p">(</span><span class="nx">handlers</span><span class="p">[</span><span class="nx">i</span><span class="p">]</span> <span class="o">===</span> <span class="nx">handler</span><span class="p">){</span>
          <span class="k">break</span><span class="p">;</span>
        <span class="p">}</span>
      <span class="p">}</span>
      <span class="nx">handlers</span><span class="p">.</span><span class="nx">splice</span><span class="p">(</span><span class="nx">i</span><span class="p">,</span> <span class="mi">1</span><span class="p">);</span>
    <span class="p">}</span>
  <span class="p">}</span>
<span class="p">};</span>

<span class="kd">function</span> <span class="nx">handleMessage</span><span class="p">(</span><span class="nx">event</span><span class="p">){</span>
  <span class="nx">alert</span><span class="p">(</span><span class="dl">"</span><span class="s2">Message received: </span><span class="dl">"</span> <span class="o">+</span> <span class="nx">event</span><span class="p">.</span><span class="nx">message</span><span class="p">);</span>
<span class="p">}</span>
<span class="c1">//åˆ›å»ºä¸€ä¸ªæ–°å¯¹è±¡</span>
<span class="kd">var</span> <span class="nx">target</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">EventTarget</span><span class="p">();</span>
<span class="c1">//æ·»åŠ ä¸€ä¸ªäº‹ä»¶å¤„ç†ç¨‹åº</span>
<span class="nx">target</span><span class="p">.</span><span class="nx">addHandler</span><span class="p">(</span><span class="dl">"</span><span class="s2">message</span><span class="dl">"</span><span class="p">,</span> <span class="nx">handleMessage</span><span class="p">);</span>
<span class="c1">//è§¦å‘äº‹ä»¶</span>
<span class="nx">target</span><span class="p">.</span><span class="nx">fire</span><span class="p">({</span> <span class="na">type</span><span class="p">:</span> <span class="dl">"</span><span class="s2">message</span><span class="dl">"</span><span class="p">,</span> <span class="na">message</span><span class="p">:</span> <span class="dl">"</span><span class="s2">Hello world!</span><span class="dl">"</span><span class="p">});</span>
<span class="c1">//åˆ é™¤äº‹ä»¶å¤„ç†ç¨‹åº</span>
<span class="nx">target</span><span class="p">.</span><span class="nx">removeHandler</span><span class="p">(</span><span class="dl">"</span><span class="s2">message</span><span class="dl">"</span><span class="p">,</span> <span class="nx">handleMessage</span><span class="p">);</span>
<span class="c1">//å†æ¬¡ï¼Œåº”æ²¡æœ‰å¤„ç†ç¨‹åº</span>
<span class="nx">target</span><span class="p">.</span><span class="nx">fire</span><span class="p">({</span> <span class="na">type</span><span class="p">:</span> <span class="dl">"</span><span class="s2">message</span><span class="dl">"</span><span class="p">,</span> <span class="na">message</span><span class="p">:</span> <span class="dl">"</span><span class="s2">Hello world!</span><span class="dl">"</span><span class="p">});</span>
</code></pre></div></div>

<h2 id="es6æ–°è¯­æ³•">ES6æ–°è¯­æ³•</h2>
<p>å¸¸é‡</p>
<div class="language-javascript highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kd">const</span> <span class="nx">FLAG</span> <span class="o">=</span> <span class="kc">true</span><span class="p">;</span>
<span class="kd">var</span> <span class="nx">FLAG</span> <span class="o">=</span> <span class="kc">false</span><span class="p">;</span> <span class="c1">//é”™è¯¯ï¼</span>
</code></pre></div></div>

<p>å—çº§ä½œç”¨åŸŸ
ä½¿ç”¨ let å®šä¹‰çš„å˜é‡åœ¨å®šä¹‰å®ƒçš„ä»£ç å—ä¹‹å¤–æ²¡æœ‰å®šä¹‰</p>
<div class="language-javascript highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">for</span> <span class="p">(</span><span class="kd">let</span> <span class="nx">i</span><span class="o">=</span><span class="mi">0</span><span class="p">;</span> <span class="nx">i</span> <span class="o">&lt;</span> <span class="mi">10</span><span class="p">;</span> <span class="nx">i</span><span class="o">++</span><span class="p">)</span> <span class="p">{</span>
  <span class="c1">//æ‰§è¡ŒæŸäº›æ“ä½œ</span>
<span class="p">}</span>
<span class="nx">alert</span><span class="p">(</span><span class="nx">i</span><span class="p">);</span> <span class="c1">// é”™è¯¯ï¼å˜é‡ i</span>
</code></pre></div></div>

<p>å‰©ä½™å‚æ•°</p>
<div class="language-javascript highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nx">Harmony</span> <span class="nx">ä¸­ä¸å†æœ‰</span> <span class="nx">arguments</span> <span class="nx">å¯¹è±¡</span><span class="err">ã€‚</span>
<span class="kd">function</span> <span class="nx">sum</span><span class="p">(</span><span class="nx">num1</span><span class="p">,</span> <span class="nx">num2</span><span class="p">,</span> <span class="p">...</span><span class="nx">nums</span><span class="p">){</span>
  <span class="kd">var</span> <span class="nx">result</span> <span class="o">=</span> <span class="nx">num1</span> <span class="o">+</span> <span class="nx">num2</span><span class="p">;</span>
  <span class="k">for</span> <span class="p">(</span><span class="kd">let</span> <span class="nx">i</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span> <span class="nx">len</span><span class="o">=</span><span class="nx">nums</span><span class="p">.</span><span class="nx">length</span><span class="p">;</span> <span class="nx">i</span> <span class="o">&lt;</span> <span class="nx">len</span><span class="p">;</span> <span class="nx">i</span><span class="o">++</span><span class="p">){</span>
    <span class="nx">result</span> <span class="o">+=</span> <span class="nx">nums</span><span class="p">[</span><span class="nx">i</span><span class="p">];</span>
  <span class="p">}</span>
  <span class="k">return</span> <span class="nx">result</span><span class="p">;</span>
<span class="p">}</span>
<span class="kd">var</span> <span class="nx">result</span> <span class="o">=</span> <span class="nx">sum</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">,</span> <span class="mi">4</span><span class="p">,</span> <span class="mi">5</span><span class="p">,</span> <span class="mi">6</span><span class="p">);</span>
</code></pre></div></div>
<p>å³ä½¿å¹¶æ²¡æœ‰å¤šä½™çš„å‚æ•°ä¼ å…¥å‡½æ•°ï¼Œå‰©ä½™å‚æ•°å¯¹è±¡ä¹Ÿæ˜¯ Arrayçš„å®ä¾‹ã€‚</p>

<p>åˆ†å¸ƒå‚æ•°
é€šè¿‡åˆ†å¸ƒå‚æ•°ï¼Œå¯ä»¥å‘å‡½æ•°ä¸­ä¼ å…¥ä¸€ä¸ªæ•°ç»„ï¼Œç„¶åæ•°ç»„ä¸­çš„å…ƒç´ ä¼šæ˜ å°„åˆ°å‡½æ•°çš„æ¯ä¸ªå‚æ•°ä¸Šã€‚åˆ†å¸ƒå‚æ•°çš„è¯­æ³•å½¢å¼ä¸å‰©ä½™å‚æ•°çš„è¯­æ³•ç›¸åŒï¼Œå°±æ˜¯åœ¨å€¼çš„å‰é¢åŠ ä¸‰ä¸ªç‚¹ã€‚å”¯ä¸€çš„åŒºåˆ«æ˜¯åˆ†å¸ƒå‚æ•°åœ¨è°ƒç”¨å‡½æ•°çš„æ—¶å€™ä½¿ç”¨ï¼Œè€Œå‰©ä½™å‚æ•°åœ¨å®šä¹‰å‡½æ•°çš„æ—¶å€™ä½¿ç”¨ã€‚æ¯”å¦‚ï¼Œæˆ‘ä»¬å¯ä»¥ä¸ç»™ sum() å‡½æ•°ä¸€ä¸ªä¸€ä¸ªåœ°ä¼ å…¥å‚æ•°ï¼Œè€Œæ˜¯ä¼ å…¥åˆ†å¸ƒå‚æ•°ï¼š</p>
<div class="language-javascript highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kd">var</span> <span class="nx">result</span> <span class="o">=</span> <span class="nx">sum</span><span class="p">(...[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">,</span> <span class="mi">4</span><span class="p">,</span> <span class="mi">5</span><span class="p">,</span> <span class="mi">6</span><span class="p">]);</span>
</code></pre></div></div>
<p>åœ¨è¿™é‡Œï¼Œæˆ‘ä»¬å°†ä¸€ä¸ªæ•°ç»„ä½œä¸ºåˆ†å¸ƒå‚æ•°ä¼ ç»™äº† sum() å‡½æ•°ã€‚ä»¥ä¸Šä»£ç åœ¨åŠŸèƒ½ä¸Šä¸ä¸‹é¢è¿™è¡Œä»£ç ç­‰ä»·ï¼š</p>
<div class="language-javascript highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kd">var</span> <span class="nx">result</span> <span class="o">=</span> <span class="nx">sum</span><span class="p">.</span><span class="nx">apply</span><span class="p">(</span><span class="k">this</span><span class="p">,</span> <span class="p">[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">,</span> <span class="mi">4</span><span class="p">,</span> <span class="mi">5</span><span class="p">,</span> <span class="mi">6</span><span class="p">]);</span>
</code></pre></div></div>
<p>é»˜è®¤å‚æ•°å€¼</p>
<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>function sum(num1, num2=0){
  return num1 + num2;
}
var result1 = sum(5);
var result2 = sum(5, 5);
</code></pre></div></div>

<p>ç”Ÿæˆå™¨
æ‰€è°“ç”Ÿæˆå™¨ï¼Œå…¶å®å°±æ˜¯ä¸€ä¸ªå¯¹è±¡ï¼Œå®ƒæ¯æ¬¡èƒ½ç”Ÿæˆä¸€ç³»åˆ—å€¼ä¸­çš„ä¸€ä¸ªã€‚å¯¹äºä½¿ç”¨ yield æ“ä½œç¬¦è¿”å›å€¼çš„å‡½æ•°ï¼Œè°ƒç”¨å®ƒ
æ—¶å°±ä¼šåˆ›å»ºå¹¶è¿”å›ä¸€ä¸ªæ–°çš„ Generator å®ä¾‹ã€‚ç„¶åï¼Œåœ¨è¿™ä¸ªå®ä¾‹ä¸Šè°ƒç”¨ next() æ–¹æ³•å°±èƒ½å–å¾—ç”Ÿæˆå™¨çš„ç¬¬ä¸€ä¸ªå€¼ã€‚æ­¤æ—¶ï¼Œæ‰§è¡Œçš„æ˜¯åŸæ¥çš„å‡½æ•°ï¼Œä½†æ‰§è¡Œæµåˆ° yield è¯­å¥å°±ä¼šåœæ­¢ï¼Œåªè¿”å›ç‰¹å®šçš„å€¼ã€‚ä»è¿™ä¸ªè§’åº¦çœ‹ï¼Œ yield ä¸ return å¾ˆç›¸ä¼¼ã€‚å¦‚æœå†æ¬¡è°ƒç”¨ next() æ–¹æ³•ï¼ŒåŸæ¥å‡½æ•°ä¸­ä½äº yield è¯­å¥åçš„ä»£ç ä¼šç»§ç»­æ‰§è¡Œï¼Œç›´åˆ°å†æ¬¡é‡è§ yield è¯­å¥æ—¶åœæ­¢æ‰§è¡Œï¼Œæ­¤æ—¶å†è¿”å›ä¸€ä¸ªæ–°å€¼ã€‚</p>
<div class="language-javascript highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kd">function</span> <span class="nx">myNumbers</span><span class="p">(){</span>
  <span class="k">for</span> <span class="p">(</span><span class="kd">var</span> <span class="nx">i</span><span class="o">=</span><span class="mi">0</span><span class="p">;</span> <span class="nx">i</span> <span class="o">&lt;</span> <span class="mi">10</span><span class="p">;</span> <span class="nx">i</span><span class="o">++</span><span class="p">){</span>
    <span class="k">yield</span> <span class="nx">i</span> <span class="o">*</span> <span class="mi">2</span><span class="p">;</span>
  <span class="p">}</span>
<span class="p">}</span>
<span class="kd">var</span> <span class="nx">generator</span> <span class="o">=</span> <span class="nx">myNumbers</span><span class="p">();</span>
<span class="k">try</span> <span class="p">{</span>
  <span class="k">while</span><span class="p">(</span><span class="kc">true</span><span class="p">){</span>
    <span class="nb">document</span><span class="p">.</span><span class="nx">write</span><span class="p">(</span><span class="nx">generator</span><span class="p">.</span><span class="nx">next</span><span class="p">()</span> <span class="o">+</span> <span class="dl">"</span><span class="s2">&lt;br /&gt;</span><span class="dl">"</span><span class="p">);</span>
  <span class="p">}</span>
<span class="p">}</span> <span class="k">catch</span><span class="p">(</span><span class="nx">ex</span><span class="p">){</span>
  <span class="c1">//æœ‰æ„æ²¡æœ‰å†™ä»£ç </span>
<span class="p">}</span> <span class="k">finally</span> <span class="p">{</span>
  <span class="nx">generator</span><span class="p">.</span><span class="nx">close</span><span class="p">();</span>
<span class="p">}</span>

<span class="nx">è¿­ä»£å™¨</span>
<span class="kd">var</span> <span class="nx">person</span> <span class="o">=</span> <span class="p">{</span>
  <span class="na">name</span><span class="p">:</span> <span class="dl">"</span><span class="s2">Nicholas</span><span class="dl">"</span><span class="p">,</span>
  <span class="na">age</span><span class="p">:</span> <span class="mi">29</span>
<span class="p">};</span>
<span class="kd">var</span> <span class="nx">iterator</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">Iterator</span><span class="p">(</span><span class="nx">person</span><span class="p">);</span>
<span class="k">try</span> <span class="p">{</span>
  <span class="k">while</span><span class="p">(</span><span class="kc">true</span><span class="p">){</span>
    <span class="kd">let</span> <span class="nx">value</span> <span class="o">=</span> <span class="nx">iterator</span><span class="p">.</span><span class="nx">next</span><span class="p">();</span>
    <span class="nb">document</span><span class="p">.</span><span class="nx">write</span><span class="p">(</span><span class="nx">value</span><span class="p">.</span><span class="nx">join</span><span class="p">(</span><span class="dl">"</span><span class="s2">:</span><span class="dl">"</span><span class="p">)</span> <span class="o">+</span> <span class="dl">"</span><span class="s2">&lt;br&gt;</span><span class="dl">"</span><span class="p">);</span>
  <span class="p">}</span>
<span class="p">}</span> <span class="k">catch</span><span class="p">(</span><span class="nx">ex</span><span class="p">){</span>
  <span class="c1">//æœ‰æ„æ²¡æœ‰å†™ä»£ç </span>
<span class="p">}</span>
</code></pre></div></div>

<p>æ•°ç»„é¢†æ‚Ÿ
æ‰€è°“æ•°ç»„é¢†æ‚Ÿï¼ˆarray comprehensionsï¼‰ï¼ŒæŒ‡çš„æ˜¯ç”¨ä¸€ç»„ç¬¦åˆæŸä¸ªæ¡ä»¶çš„å€¼æ¥åˆå§‹åŒ–æ•°ç»„ã€‚Harmonyå®šä¹‰çš„è¿™é¡¹åŠŸèƒ½å€Ÿé‰´äº† Python ä¸­æµè¡Œçš„ä¸€ä¸ªè¯­è¨€ç»“æ„ã€‚JavaScript ä¸­æ•°ç»„é¢†æ‚Ÿçš„åŸºæœ¬å½¢å¼å¦‚ä¸‹ï¼š</p>
<div class="language-javascript highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nx">array</span> <span class="o">=</span> <span class="p">[</span> <span class="nx">value</span> <span class="k">for</span> <span class="nx">each</span> <span class="p">(</span><span class="nx">variable</span> <span class="k">in</span> <span class="nx">values</span><span class="p">)</span> <span class="nx">condition</span> <span class="p">];</span>
<span class="c1">//åŸå§‹æ•°ç»„</span>
<span class="kd">var</span> <span class="nx">numbers</span> <span class="o">=</span> <span class="p">[</span><span class="mi">0</span><span class="p">,</span><span class="mi">1</span><span class="p">,</span><span class="mi">2</span><span class="p">,</span><span class="mi">3</span><span class="p">,</span><span class="mi">4</span><span class="p">,</span><span class="mi">5</span><span class="p">,</span><span class="mi">6</span><span class="p">,</span><span class="mi">7</span><span class="p">,</span><span class="mi">8</span><span class="p">,</span><span class="mi">9</span><span class="p">,</span><span class="mi">10</span><span class="p">];</span>
<span class="c1">//æŠŠæ‰€æœ‰å…ƒç´ å¤åˆ¶åˆ°æ–°æ•°ç»„</span>
<span class="kd">var</span> <span class="nx">duplicate</span> <span class="o">=</span> <span class="p">[</span><span class="nx">i</span> <span class="k">for</span> <span class="nx">each</span> <span class="p">(</span><span class="nx">i</span> <span class="k">in</span> <span class="nx">numbers</span><span class="p">)];</span>
<span class="c1">//åªæŠŠå¶æ•°å¤åˆ¶åˆ°æ–°æ•°ç»„</span>
<span class="kd">var</span> <span class="nx">evens</span> <span class="o">=</span> <span class="p">[</span><span class="nx">i</span> <span class="k">for</span> <span class="nx">each</span> <span class="p">(</span><span class="nx">i</span> <span class="k">in</span> <span class="nx">numbers</span><span class="p">)</span> <span class="k">if</span> <span class="p">(</span><span class="nx">i</span> <span class="o">%</span> <span class="mi">2</span> <span class="o">==</span> <span class="mi">0</span><span class="p">)];</span>
<span class="c1">//æŠŠæ¯ä¸ªæ•°ä¹˜ä»¥ 2 åçš„ç»“æœæ”¾åˆ°æ–°æ•°ç»„ä¸­</span>
<span class="kd">var</span> <span class="nx">doubled</span> <span class="o">=</span> <span class="p">[</span><span class="nx">i</span><span class="o">*</span><span class="mi">2</span> <span class="k">for</span> <span class="nx">each</span> <span class="p">(</span><span class="nx">i</span> <span class="k">in</span> <span class="nx">numbers</span><span class="p">)];</span>
<span class="c1">//æŠŠæ¯ä¸ªå¥‡æ•°ä¹˜ä»¥ 3 åçš„ç»“æœæ”¾åˆ°æ–°æ•°ç»„ä¸­</span>
<span class="kd">var</span> <span class="nx">tripledOdds</span> <span class="o">=</span> <span class="p">[</span><span class="nx">i</span><span class="o">*</span><span class="mi">3</span> <span class="k">for</span> <span class="nx">each</span> <span class="p">(</span><span class="nx">i</span> <span class="k">in</span> <span class="nx">numbers</span><span class="p">)</span> <span class="k">if</span> <span class="p">(</span><span class="nx">i</span> <span class="o">%</span> <span class="mi">2</span> <span class="o">&gt;</span> <span class="mi">0</span><span class="p">)];</span>
</code></pre></div></div>

<p>è§£æ„èµ‹å€¼
ä»ä¸€ç»„å€¼ä¸­æŒ‘å‡ºä¸€æˆ–å¤šä¸ªå€¼ï¼Œç„¶åæŠŠå®ƒä»¬åˆ†åˆ«èµ‹ç»™ç‹¬ç«‹çš„å˜é‡</p>
<div class="language-javascript highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kd">var</span> <span class="p">[</span><span class="nx">name</span><span class="p">,</span> <span class="nx">value</span><span class="p">]</span> <span class="o">=</span> <span class="p">[</span><span class="dl">"</span><span class="s2">color</span><span class="dl">"</span><span class="p">,</span> <span class="dl">"</span><span class="s2">red</span><span class="dl">"</span><span class="p">];</span>
<span class="nx">alert</span><span class="p">(</span><span class="nx">name</span><span class="p">);</span> <span class="c1">//"color"</span>
<span class="nx">alert</span><span class="p">(</span><span class="nx">value</span><span class="p">);</span> <span class="c1">//"red"</span>
</code></pre></div></div>

<p>ä»£ç†å¯¹è±¡
è¦åˆ›å»ºä»£ç†å¯¹è±¡ï¼Œå¯ä»¥ä½¿ç”¨ Proxy.create() æ–¹æ³•ï¼Œä¼ å…¥ä¸€ä¸ª handler ï¼ˆå¤„ç†ç¨‹åºï¼‰å¯¹è±¡å’Œä¸€ä¸ªå¯é€‰çš„ prototype ï¼ˆåŸå‹ï¼‰å¯¹è±¡ï¼š</p>
<div class="language-javascript highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kd">var</span> <span class="nx">proxy</span> <span class="o">=</span> <span class="nb">Proxy</span><span class="p">.</span><span class="nx">create</span><span class="p">(</span><span class="nx">handler</span><span class="p">);</span>
<span class="c1">//åˆ›å»ºä¸€ä¸ªä»¥ myObject ä¸ºåŸå‹çš„ä»£ç†å¯¹è±¡</span>
<span class="kd">var</span> <span class="nx">proxy</span> <span class="o">=</span> <span class="nb">Proxy</span><span class="p">.</span><span class="nx">create</span><span class="p">(</span><span class="nx">handler</span><span class="p">,</span> <span class="nx">myObject</span><span class="p">);</span>
</code></pre></div></div>
<p>è¦ç¡®ä¿ä»£ç†å¯¹è±¡èƒ½å¤ŸæŒ‰ç…§é¢„æœŸå·¥ä½œï¼Œè‡³å°‘è¦å®ç°ä»¥ä¸‹å…¶ä¸­ï¼Œ handler å¯¹è±¡åŒ…å«ç”¨äºå®šä¹‰æ•æ‰å™¨ï¼ˆtrapï¼‰çš„å±æ€§ã€‚æ•æ‰å™¨æœ¬èº«æ˜¯å‡½æ•°ï¼Œç”¨äºå¤„ç†ï¼ˆæ•æ‰ï¼‰åŸç”ŸåŠŸèƒ½ï¼Œä»¥ä¾¿è¯¥åŠŸèƒ½èƒ½å¤Ÿä»¥å¦ä¸€ç§æ–¹å¼æ¥å¤„ç†ã€‚è¦ç¡®ä¿ä»£ç†å¯¹è±¡èƒ½å¤ŸæŒ‰ç…§é¢„æœŸå·¥ä½œï¼Œè‡³å°‘è¦å®ç°ä»¥ä¸‹7 ç§åŸºæœ¬çš„æ•æ‰å™¨ï¼ˆç•¥ï¼‰ã€‚</p>

<p>ä»£ç†å‡½æ•°
ä»£ç†å‡½æ•°ä¸ä»£ç†å¯¹è±¡çš„åŒºåˆ«æ˜¯å®ƒå¯ä»¥æ‰§è¡Œã€‚è¦åˆ›å»ºä»£ç†å‡½æ•°ï¼Œå¯ä»¥è°ƒç”¨ Proxy.createFunction() æ–¹æ³•ï¼Œä¼ å…¥ä¸€ä¸ª handlerï¼ˆå¤„ç†ç¨‹åºï¼‰å¯¹è±¡ã€ä¸€ä¸ªè°ƒç”¨æ•æ‰å™¨å‡½æ•°å’Œä¸€ä¸ªå¯é€‰çš„æ„é€ å‡½æ•°æ•æ‰å™¨å‡½æ•°ã€‚ä¾‹å¦‚ï¼š</p>
<div class="language-javascript highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kd">var</span> <span class="nx">proxy</span> <span class="o">=</span> <span class="nb">Proxy</span><span class="p">.</span><span class="nx">createFunction</span><span class="p">(</span><span class="nx">handler</span><span class="p">,</span> <span class="kd">function</span><span class="p">(){},</span> <span class="kd">function</span><span class="p">(){});</span>
</code></pre></div></div>

<p>Map ç±»å‹</p>
<div class="language-javascript highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kd">var</span> <span class="nx">map</span> <span class="o">=</span> <span class="k">new</span> <span class="nb">Map</span><span class="p">();</span>
<span class="nx">map</span><span class="p">.</span><span class="kd">set</span><span class="p">(</span><span class="dl">"</span><span class="s2">name</span><span class="dl">"</span><span class="p">,</span> <span class="dl">"</span><span class="s2">Nicholas</span><span class="dl">"</span><span class="p">);</span>
<span class="nx">map</span><span class="p">.</span><span class="kd">set</span><span class="p">(</span><span class="dl">"</span><span class="s2">book</span><span class="dl">"</span><span class="p">,</span> <span class="dl">"</span><span class="s2">Professional JavaScript</span><span class="dl">"</span><span class="p">);</span>
<span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">map</span><span class="p">.</span><span class="nx">has</span><span class="p">(</span><span class="dl">"</span><span class="s2">name</span><span class="dl">"</span><span class="p">));</span> <span class="c1">//true</span>
<span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">map</span><span class="p">.</span><span class="kd">get</span><span class="p">(</span><span class="dl">"</span><span class="s2">name</span><span class="dl">"</span><span class="p">));</span> <span class="c1">//"Nicholas"</span>
<span class="nx">map</span><span class="p">.</span><span class="k">delete</span><span class="p">(</span><span class="dl">"</span><span class="s2">name</span><span class="dl">"</span><span class="p">);</span>
</code></pre></div></div>

<p>WeakMap
WeakMap æ˜¯ ECMAScript ä¸­å”¯ä¸€ä¸€ä¸ªèƒ½è®©ä½ çŸ¥é“ä»€ä¹ˆæ—¶å€™å¯¹è±¡å·²ç»å®Œå…¨è§£é™¤å¼•ç”¨çš„ç±»å‹ã€‚ WeakMapä¸ç®€å•æ˜ å°„å¾ˆç›¸ä¼¼ï¼Œä¹Ÿæ˜¯ç”¨æ¥ä¿å­˜é”®å€¼å¯¹å„¿çš„ã€‚å®ƒä»¬çš„ä¸»è¦åŒºåˆ«åœ¨äºï¼Œ WeakMap çš„é”®å¿…é¡»æ˜¯å¯¹è±¡ï¼Œè€Œåœ¨å¯¹è±¡å·²ç»ä¸å­˜åœ¨æ—¶ï¼Œç›¸å…³çš„é”®å€¼å¯¹å„¿å°±ä¼šä» WeakMap ä¸­è¢«åˆ é™¤ã€‚ä¾‹å¦‚ï¼š</p>
<div class="language-javascript highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kd">var</span> <span class="nx">key</span> <span class="o">=</span> <span class="p">{},</span>
<span class="nx">map</span> <span class="o">=</span> <span class="k">new</span> <span class="nb">WeakMap</span><span class="p">();</span>
<span class="nx">map</span><span class="p">.</span><span class="kd">set</span><span class="p">(</span><span class="nx">key</span><span class="p">,</span> <span class="dl">"</span><span class="s2">Hello!</span><span class="dl">"</span><span class="p">);</span>
<span class="c1">//è§£é™¤å¯¹é”®çš„å¼•ç”¨ï¼Œä»è€Œåˆ é™¤è¯¥å€¼</span>
<span class="nx">key</span> <span class="o">=</span> <span class="kc">null</span><span class="p">;</span>
</code></pre></div></div>
<p>è‡³äºä»€ä¹ˆæƒ…å†µä¸‹é€‚åˆä½¿ç”¨ WeakMap ï¼Œç›®å‰è¿˜ä¸æ¸…æ¥šã€‚ä¸è¿‡ï¼ŒJava ä¸­å€’æ˜¯æœ‰ä¸€ä¸ªç›¸åŒçš„æ•°æ®ç»“æ„å«
WeakHashMap ï¼›äºæ˜¯ï¼ŒJavaScript åˆå¤šäº†ä¸€ç§æ•°æ®ç±»å‹ã€‚</p>

<p>StructType</p>
<div class="language-javascript highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kd">var</span> <span class="nx">Size</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">StructType</span><span class="p">({</span> <span class="na">width</span><span class="p">:</span> <span class="nx">uint32</span><span class="p">,</span> <span class="na">height</span><span class="p">:</span> <span class="nx">uint32</span> <span class="p">});</span>
</code></pre></div></div>
<p>ä»¥ä¸Šä»£ç åˆ›å»ºäº†ä¸€ä¸ªåä¸º Size çš„æ–°ç»“æ„ç±»å‹ï¼Œè¯¥ç±»å‹å¸¦æœ‰ä¸¤ä¸ªå±æ€§ï¼š width å’Œ height ã€‚è¿™ä¸¤ä¸ªå±æ€§éƒ½åº”è¯¥ä¿å­˜æ— ç¬¦å· 32 ä½æ•´æ•°ã€‚
è¦å®ä¾‹åŒ–è¿™ä¸ªç»“æ„ç±»å‹ï¼Œéœ€è¦å‘æ„é€ å‡½æ•°ä¸­ä¼ å…¥ä¸€ä¸ªå¸¦å±æ€§å€¼çš„å¯¹è±¡å­—é¢é‡ã€‚</p>
<div class="language-javascript highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kd">var</span> <span class="nx">boxSize</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">Size</span><span class="p">({</span> <span class="na">width</span><span class="p">:</span> <span class="mi">80</span><span class="p">,</span> <span class="na">height</span><span class="p">:</span> <span class="mi">60</span> <span class="p">});</span>
<span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">boxSize</span><span class="p">.</span><span class="nx">width</span><span class="p">);</span> <span class="c1">//80</span>
<span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">boxSize</span><span class="p">.</span><span class="nx">height</span><span class="p">);</span> <span class="c1">//60</span>
</code></pre></div></div>

<p>ArrayType
é€šè¿‡æ•°ç»„ç±»å‹ï¼ˆ ArrayType ï¼‰å¯ä»¥åˆ›å»ºä¸€ä¸ªæ•°ç»„ï¼Œå¹¶é™åˆ¶æ•°ç»„çš„å€¼å¿…é¡»æ˜¯æŸç§ç‰¹å®šçš„ç±»å‹</p>
<div class="language-javascript highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kd">var</span> <span class="nx">SizeArray</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">ArrayType</span><span class="p">(</span><span class="nx">Size</span><span class="p">,</span> <span class="mi">2</span><span class="p">);</span>
<span class="kd">var</span> <span class="nx">boxes</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">BoxArray</span><span class="p">([</span> <span class="p">{</span> <span class="na">width</span><span class="p">:</span> <span class="mi">80</span><span class="p">,</span> <span class="na">height</span><span class="p">:</span> <span class="mi">60</span> <span class="p">},</span> <span class="p">{</span> <span class="na">width</span><span class="p">:</span> <span class="mi">50</span><span class="p">,</span> <span class="na">height</span><span class="p">:</span> <span class="mi">50</span> <span class="p">}</span> <span class="p">]);</span>
</code></pre></div></div>

<p>ç±»
JavaScript ä¸­çš„ç±»åªæ˜¯ä¸€ç§è¯­æ³•ç³–ï¼Œè¦†ç›–åœ¨ç›®å‰åŸºäºæ„é€ å‡½æ•°å’ŒåŸºäºåŸå‹çš„æ–¹å¼å’Œç±»å‹ä¹‹ä¸Š</p>
<div class="language-javascript highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kd">class</span> <span class="nx">Person</span> <span class="p">{</span>
  <span class="kd">constructor</span><span class="p">(</span><span class="nx">name</span><span class="p">,</span> <span class="nx">age</span><span class="p">){</span>
    <span class="kr">public</span> <span class="nx">name</span> <span class="o">=</span> <span class="nx">name</span><span class="p">;</span>
    <span class="kr">private</span> <span class="nx">age</span> <span class="o">=</span> <span class="nx">age</span><span class="p">;</span>
  <span class="p">}</span>
  <span class="nx">sayName</span><span class="p">(){</span>
    <span class="nx">alert</span><span class="p">(</span><span class="k">this</span><span class="p">.</span><span class="nx">name</span><span class="p">);</span>
  <span class="p">}</span>

  <span class="nx">getOlder</span><span class="p">(</span><span class="nx">years</span><span class="p">){</span>
    <span class="kr">private</span><span class="p">(</span><span class="k">this</span><span class="p">).</span><span class="nx">age</span> <span class="o">+=</span> <span class="nx">years</span><span class="p">;</span>  <span class="c1">// è¦è®¿é—®ç§æœ‰æˆå‘˜ï¼Œå¯ä»¥ä½¿ç”¨ä¸€ç§ç‰¹æ®Šçš„è¯­æ³•ï¼Œå³è°ƒç”¨ private() å‡½æ•°å¹¶ä¼ å…¥ this å¯¹è±¡ï¼Œç„¶åå†è®¿é—®ç§æœ‰æˆå‘˜</span>
  <span class="p">}</span>
<span class="p">}</span>

<span class="nx">getter</span> <span class="nx">å’Œ</span> <span class="nx">setter</span>
<span class="kd">class</span> <span class="nx">Person</span> <span class="p">{</span>
  <span class="kd">constructor</span><span class="p">(</span><span class="nx">name</span><span class="p">,</span> <span class="nx">age</span><span class="p">){</span>
    <span class="kr">public</span> <span class="nx">name</span> <span class="o">=</span> <span class="nx">name</span><span class="p">;</span>
    <span class="kr">public</span> <span class="nx">age</span> <span class="o">=</span> <span class="nx">age</span><span class="p">;</span>
    <span class="kr">private</span> <span class="nx">innerTitle</span> <span class="o">=</span> <span class="dl">""</span><span class="p">;</span>
   
    <span class="kd">get</span> <span class="nx">title</span><span class="p">(){</span>
      <span class="k">return</span> <span class="nx">innerTitle</span><span class="p">;</span>
    <span class="p">}</span>

    <span class="kd">set</span> <span class="nx">title</span><span class="p">(</span><span class="nx">value</span><span class="p">){</span>
      <span class="nx">innerTitle</span> <span class="o">=</span> <span class="nx">value</span><span class="p">;</span>
    <span class="p">}</span>
  <span class="p">}</span>

  <span class="nx">sayName</span><span class="p">(){</span>
    <span class="nx">alert</span><span class="p">(</span><span class="k">this</span><span class="p">.</span><span class="nx">name</span><span class="p">);</span>
  <span class="p">}</span>

  <span class="nx">getOlder</span><span class="p">(</span><span class="nx">years</span><span class="p">){</span>
    <span class="k">this</span><span class="p">.</span><span class="nx">age</span> <span class="o">+=</span> <span class="nx">years</span><span class="p">;</span>
  <span class="p">}</span>
<span class="p">}</span>
</code></pre></div></div>

<p>ç»§æ‰¿</p>
<div class="language-javascript highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kd">class</span> <span class="nx">Employee</span> <span class="kd">extends</span> <span class="nx">Person</span> <span class="p">{</span>
  <span class="kd">constructor</span><span class="p">(</span><span class="nx">name</span><span class="p">,</span> <span class="nx">age</span><span class="p">){</span>
    <span class="k">super</span><span class="p">(</span><span class="nx">name</span><span class="p">,</span><span class="nx">age</span><span class="p">);</span>
  <span class="p">}</span>
<span class="p">}</span>
</code></pre></div></div>

<p>æ¨¡å—
æ¨¡å—ï¼ˆæˆ–è€…â€œå‘½åç©ºé—´â€ã€â€œåŒ…â€ï¼‰æ˜¯ç»„ç»‡ JavaScript åº”ç”¨ä»£ç çš„é‡è¦æ–¹æ³•ã€‚æ¯ä¸ªæ¨¡å—éƒ½åŒ…å«ç€ç‹¬ç«‹äºå…¶ä»–æ¨¡å¼çš„ç‰¹å®šã€ç‹¬ä¸€æ— äºŒçš„åŠŸèƒ½ã€‚æ¨¡å—åœ¨å…¶è‡ªå·±çš„é¡¶çº§æ‰§è¡Œç¯å¢ƒä¸­è¿è¡Œï¼Œå› è€Œä¸ä¼šæ±¡æŸ“å¯¼å…¥å®ƒçš„å…¨å±€æ‰§è¡Œç¯å¢ƒã€‚é»˜è®¤æƒ…å†µä¸‹ï¼Œæ¨¡å—ä¸­å£°æ˜çš„æ‰€æœ‰å˜é‡ã€å‡½æ•°ã€ç±»ç­‰éƒ½æ˜¯è¯¥æ¨¡å—ç§æœ‰çš„ã€‚å¯¹äºåº”è¯¥å‘å¤–éƒ¨å…¬å¼€çš„æˆå‘˜ï¼Œå¯ä»¥åœ¨å‰é¢åŠ ä¸Š exportå…³é”®å­—ã€‚</p>
<div class="language-javascript highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nx">module</span> <span class="nx">MyModule</span> <span class="p">{</span>
  <span class="c1">//å…¬å¼€è¿™äº›æˆå‘˜</span>
  <span class="k">export</span> <span class="kd">let</span> <span class="nx">myobject</span> <span class="o">=</span> <span class="p">{};</span>
  <span class="k">export</span> <span class="kd">function</span> <span class="nx">hello</span><span class="p">(){</span> <span class="nx">alert</span><span class="p">(</span><span class="dl">"</span><span class="s2">hello</span><span class="dl">"</span><span class="p">);</span> <span class="p">};</span>
  
  <span class="sr">/éšè—è¿™äº›æˆ</span><span class="err">å‘˜
</span>  <span class="kd">function</span> <span class="nx">goodbye</span><span class="p">(){</span>
    <span class="c1">//...</span>
  <span class="p">}</span>
<span class="p">}</span>
</code></pre></div></div>
<p>è¿™ä¸ªæ¨¡å—å…¬å¼€äº†ä¸€ä¸ªåä¸º myobject çš„å¯¹è±¡å’Œä¸€ä¸ªåä¸º hello() çš„å‡½æ•°ã€‚å¯ä»¥åœ¨é¡µé¢æˆ–å…¶ä»–æ¨¡å—ä¸­ä½¿ç”¨è¿™ä¸ªæ¨¡å—ï¼Œä¹Ÿå¯ä»¥åªå¯¼å…¥æ¨¡å—ä¸­çš„ä¸€ä¸ªæˆå‘˜æˆ–è€…ä¸¤ä¸ªæˆå‘˜ã€‚å¯¼å…¥æ¨¡å—è¦ä½¿ç”¨ import å‘½ä»¤ï¼š</p>
<div class="language-js highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c1">//åªå¯¼å…¥ myobject</span>
<span class="k">import</span> <span class="nx">myobject</span> <span class="k">from</span> <span class="nx">MyModule</span><span class="p">;</span>
<span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">myobject</span><span class="p">);</span>

<span class="c1">//å¯¼å…¥æ‰€æœ‰å…¬å¼€çš„æˆå‘˜</span>
<span class="k">import</span> <span class="o">*</span> <span class="k">from</span> <span class="nx">MyModule</span><span class="p">;</span>
<span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">myobject</span><span class="p">);</span>
<span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">hello</span><span class="p">);</span>

<span class="c1">//åˆ—å‡ºè¦å¯¼å…¥çš„æˆå‘˜å</span>
<span class="k">import</span> <span class="p">{</span><span class="nx">myobject</span><span class="p">,</span> <span class="nx">hello</span><span class="p">}</span> <span class="k">from</span> <span class="nx">MyModule</span><span class="p">;</span>
<span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">myobject</span><span class="p">);</span>
<span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">hello</span><span class="p">);</span>

<span class="c1">//ä¸å¯¼å…¥ï¼Œç›´æ¥ä½¿ç”¨æ¨¡å—</span>
<span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">MyModule</span><span class="p">.</span><span class="nx">myobject</span><span class="p">);</span>
<span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">MyModule</span><span class="p">.</span><span class="nx">hello</span><span class="p">);</span>
</code></pre></div></div>
<p>åœ¨æ‰§è¡Œç¯å¢ƒèƒ½å¤Ÿè®¿é—®åˆ°æ¨¡å—çš„æƒ…å†µä¸‹ï¼Œå¯ä»¥ç›´æ¥è°ƒç”¨æ¨¡å—ä¸­å¯¹å¤–å…¬å¼€çš„æˆå‘˜ã€‚å¯¼å…¥æ“ä½œåªä¸è¿‡æ˜¯æŠŠæ¨¡å—ä¸­çš„ä¸ªåˆ«æˆå‘˜æ‹¿åˆ°å½“å‰æ‰§è¡Œç¯å¢ƒä¸­ï¼Œä»¥ä¾¿ç›´æ¥æ“ä½œè€Œä¸å¿…å¼•ç”¨æ¨¡å—ã€‚</p>

<p>å¤–éƒ¨æ¨¡å—
é€šè¿‡æä¾›æ¨¡å—æ‰€åœ¨å¤–éƒ¨æ–‡ä»¶çš„ URLï¼Œä¹Ÿå¯ä»¥åŠ¨æ€åŠ è½½å’Œå¯¼å…¥æ¨¡å—ã€‚ä¸ºæ­¤ï¼Œé¦–å…ˆè¦åœ¨æ¨¡å—å£°æ˜åé¢åŠ ä¸Šå¤–éƒ¨æ–‡ä»¶çš„ URLï¼Œç„¶åå†å¯¼å…¥æ¨¡å—æˆå‘˜ï¼š</p>
<div class="language-js highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nx">module</span> <span class="nx">MyModule</span> <span class="k">from</span> <span class="dl">"</span><span class="s2">mymodule.js</span><span class="dl">"</span><span class="p">;</span>
<span class="k">import</span> <span class="nx">myobject</span> <span class="k">from</span> <span class="nx">MyModule</span><span class="p">;</span>
</code></pre></div></div>
<p>ä»¥ä¸Šå£°æ˜ä¼šé€šçŸ¥ JavaScript å¼•æ“ä¸‹è½½ mymodule.js æ–‡ä»¶ï¼Œç„¶åä»ä¸­åŠ è½½åä¸º MyModule çš„æ¨¡å—ã€‚
è¯·è¯»è€…æ³¨æ„ï¼Œè¿™ä¸ªè°ƒç”¨ä¼šé˜»å¡è¿›ç¨‹ã€‚æ¢å¥è¯è¯´ï¼ŒJavaScript å¼•æ“åœ¨ä¸‹è½½å®Œå¤–éƒ¨æ–‡ä»¶å¹¶å¯¹å…¶æ±‚å€¼ä¹‹å‰ï¼Œä¸ä¼šå¤„ç†åé¢çš„ä»£ç ã€‚
å¦‚æœä½ åªæƒ³åŒ…å«æ¨¡å—ä¸­å¯¹å¤–å…¬å¼€çš„æŸäº›æˆå‘˜ï¼Œä¸æƒ³æŠŠæ•´ä¸ªæ¨¡å—éƒ½åŠ è½½è¿›æ¥ï¼Œå¯ä»¥åƒä¸‹é¢è¿™æ ·ä½¿ç”¨import æŒ‡ä»¤ï¼š</p>
<div class="language-js highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">import</span> <span class="nx">myobject</span> <span class="k">from</span> <span class="dl">"</span><span class="s2">mymodule.js</span><span class="dl">"</span><span class="p">;</span>
</code></pre></div></div>

<p>ä¸¥æ ¼æ¨¡å¼
ECMAScript 5 æœ€æ—©å¼•å…¥äº†â€œä¸¥æ ¼æ¨¡å¼â€ï¼ˆstrict modeï¼‰çš„æ¦‚å¿µã€‚é€šè¿‡ä¸¥æ ¼æ¨¡å¼ï¼Œå¯ä»¥åœ¨å‡½æ•°å†…éƒ¨é€‰æ‹©è¿›è¡Œè¾ƒä¸ºä¸¥æ ¼çš„å…¨å±€æˆ–å±€éƒ¨çš„é”™è¯¯æ¡ä»¶æ£€æµ‹ã€‚ä½¿ç”¨ä¸¥æ ¼æ¨¡å¼çš„å¥½å¤„æ˜¯å¯ä»¥ææ—©çŸ¥é“ä»£ç ä¸­å­˜åœ¨çš„é”™è¯¯ï¼ŒåŠæ—¶æ•è·ä¸€äº›å¯èƒ½å¯¼è‡´ç¼–ç¨‹é”™è¯¯çš„ ECMAScript è¡Œä¸ºã€‚
è¦é€‰æ‹©è¿›å…¥ä¸¥æ ¼æ¨¡å¼ï¼Œå¯ä»¥ä½¿ç”¨ä¸¥æ ¼æ¨¡å¼çš„ç¼–è¯‘æŒ‡ç¤ºï¼ˆpragmaï¼‰ï¼Œå®é™…ä¸Šå°±æ˜¯ä¸€ä¸ªä¸ä¼šèµ‹ç»™ä»»ä½•å˜é‡çš„å­—ç¬¦ä¸²ï¼š
â€œuse strictâ€;
å¦‚æœæ˜¯åœ¨å…¨å±€ä½œç”¨åŸŸä¸­ï¼ˆå‡½æ•°å¤–éƒ¨ï¼‰ç»™å‡ºè¿™ä¸ªç¼–è¯‘æŒ‡ç¤ºï¼Œåˆ™æ•´ä¸ªè„šæœ¬éƒ½å°†ä½¿ç”¨ä¸¥æ ¼æ¨¡å¼ã€‚æ¢å¥è¯è¯´ï¼Œå¦‚æœæŠŠå¸¦æœ‰è¿™ä¸ªç¼–è¯‘æŒ‡ç¤ºçš„è„šæœ¬æ”¾åˆ°å…¶ä»–æ–‡ä»¶ä¸­ï¼Œåˆ™è¯¥æ–‡ä»¶ä¸­çš„ JavaScript ä»£ç ä¹Ÿå°†å¤„äºä¸¥æ ¼æ¨¡å¼ä¸‹ã€‚ä¹Ÿå¯ä»¥åªåœ¨å‡½æ•°ä¸­æ‰“å¼€ä¸¥æ ¼æ¨¡å¼ï¼Œå°±åƒä¸‹é¢è¿™æ ·ï¼š</p>
<div class="language-js highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kd">function</span> <span class="nx">doSomething</span><span class="p">(){</span>
  <span class="dl">"</span><span class="s2">use strict</span><span class="dl">"</span><span class="p">;</span>
  <span class="c1">//å…¶ä»–ä»£ç </span>
<span class="p">}</span>
</code></pre></div></div>
<p>ä¸€èˆ¬æ¥è¯´ï¼Œéä¸¥æ ¼æ¨¡å¼ä¸‹ä¼šé™é»˜å¤±è´¥çš„æƒ…å½¢ï¼Œåœ¨ä¸¥æ ¼æ¨¡å¼ä¸‹å°±ä¼šæŠ›å‡ºé”™è¯¯ã€‚</p>

<h2 id="es6ä¸es5thisçš„å˜åŒ–æ¯”è¾ƒ">ES6ä¸ES5ï¼Œthisçš„å˜åŒ–æ¯”è¾ƒ</h2>
<p>å‚è€ƒtypescriptæ–‡æ¡£ ç±»ç±»å‹</p>

<h2 id="jsç±»é™æ€éƒ¨åˆ†ä¸å®ä¾‹éƒ¨åˆ†çš„åŒºåˆ«å‚è€ƒtypescriptæ–‡æ¡£-ç±»ç±»å‹">jsç±»é™æ€éƒ¨åˆ†ä¸å®ä¾‹éƒ¨åˆ†çš„åŒºåˆ«ï¼ˆå‚è€ƒtypescriptæ–‡æ¡£ ç±»ç±»å‹ï¼‰</h2>

<h2 id="jså†…å­˜æ³„æ¼æ˜¯æ€ä¹ˆäº§ç”Ÿçš„">jså†…å­˜æ³„æ¼æ˜¯æ€ä¹ˆäº§ç”Ÿçš„ï¼Ÿ</h2>
<p>å†…å­˜æ³„æ¼æ˜¯å› ä¸ºä¸€å—è¢«åˆ†é…å†…å­˜æ—¢ä¸èƒ½è¢«ä½¿ç”¨ï¼Œä¹Ÿä¸èƒ½è¢«å›æ”¶ï¼Œç›´åˆ°æµè§ˆå™¨è¿›ç¨‹ç»“æŸã€‚
äº§ç”Ÿæ³„æ¼çš„åŸå› æ˜¯é—­åŒ…ç»´æŒå‡½æ•°å†…å±€éƒ¨å˜é‡ï¼Œä¸èƒ½è¢«é‡Šæ”¾ï¼Œå°¤å…¶æ˜¯ä½¿ç”¨é—­åŒ…å¹¶å­˜åœ¨å¤–éƒ¨å¼•ç”¨è¿˜setIntervalçš„æ—¶å€™å±å®³å¾ˆå¤§ã€‚
äº§ç”Ÿæ³„æ¼çš„åŸå› æœ‰å¥½å‡ ç§ï¼š
(1) é¡µé¢å…ƒç´ è¢«åˆ é™¤ï¼Œä½†æ˜¯ç»‘å®šåœ¨è¯¥å…ƒç´ ä¸Šçš„äº‹ä»¶æœªè¢«åˆ é™¤ï¼›
(2) é—­åŒ…ç»´æŒå‡½æ•°å†…å±€éƒ¨å˜é‡ï¼ˆå¤–éƒ¨ä¸å¯æ§ï¼‰ï¼Œä½¿å…¶å¾—ä¸åˆ°é‡Šæ”¾ï¼›
(3) æ„å¤–çš„å…¨å±€å˜é‡ï¼›
(4) å¼•ç”¨è¢«åˆ é™¤ï¼Œä½†æ˜¯å¼•ç”¨å†…çš„å¼•ç”¨ï¼Œè¿˜å­˜åœ¨å†…å­˜ä¸­ã€‚
ä»ä¸Šè¿°åŸå› ä¸Šçœ‹ï¼Œå†…å­˜æ³„æ¼äº§ç”Ÿçš„æ ¹æœ¬åŸå› æ˜¯å¼•ç”¨æ— æ³•æ­£ç¡®å›æ”¶ï¼Œå€¼ç±»å‹å¹¶ä¸èƒ½å¼•å‘å†…å­˜æ³„æ¼ã€‚
å¯¹äºæ¯ä¸ªå¼•ç”¨ï¼Œéƒ½æœ‰è‡ªå·±çš„å¼•ç”¨è®¡æ•°ï¼Œå½“å¼•ç”¨è®¡æ•°å½’é›¶æˆ–è¢«æ ‡è®°æ¸…é™¤æ—¶ï¼Œjsåƒåœ¾å›æ”¶å™¨ä¼šè®¤ä¸ºè¯¥å¼•ç”¨å¯ä»¥å›æ”¶äº†ã€‚</p>

<h2 id="ä»€ä¹ˆæ˜¯é—­åŒ…è·ŸåŸå‹é“¾ä½œç”¨åŸŸé“¾æœ‰ä»€ä¹ˆå…³è”">ä»€ä¹ˆæ˜¯é—­åŒ…ï¼Œè·ŸåŸå‹é“¾ã€ä½œç”¨åŸŸé“¾æœ‰ä»€ä¹ˆå…³è”</h2>
<p>é—­åŒ…æ˜¯æŒ‡å­˜åœ¨äºä¸€ä¸ªä½œç”¨åŸŸé“¾åˆ†æ”¯çš„å‡½æ•°åŸŸå†…çš„å‡½æ•°ï¼Œè¯¥å‡½æ•°å¯ä»¥å‘ä¸Šé€çº§è®¿é—®ä½œç”¨åŸŸé“¾ä¸Šçš„å˜é‡ï¼Œç›´åˆ°æ‰¾åˆ°ä¸ºæ­¢ã€‚å½“é—­åŒ…å­˜åœ¨å¤–éƒ¨å¼•ç”¨æ—¶ï¼Œjsä¼šç»´æŒé—­åŒ…è‡ªèº«ä»¥åŠæ‰€åœ¨å‡½æ•°ä½œç”¨åŸŸé“¾çš„å†…å­˜çŠ¶æ€ã€‚
è·ŸåŸå‹é“¾æ²¡æœ‰ä»€ä¹ˆå…³è”ï¼Œå‡½æ•°çš„åŸå‹ï¼ˆprototypeï¼‰ä¸»è¦ç”¨äºå®ç°ç»§æ‰¿ï¼ŒåŸå‹é“¾å¯ç”¨äºè¿½æº¯ç»§æ‰¿å…³ç³»ï¼Œä¸ä½œç”¨åŸŸé“¾ç±»ä¼¼ï¼Œéƒ½æ˜¯å‘ä¸Šé€çº§è®¿é—®å±æ€§ï¼Œç›´åˆ°è¢«æ‰¾åˆ°ï¼ŒåŸå‹é“¾çš„é¡¶å±‚æ˜¯nullï¼Œå¯ä»¥ç†è§£ä¸ºæ‰€æœ‰çš„objectéƒ½ç»§æ‰¿è‡³nullï¼Œæ‰€ä»¥nullçš„ç±»å‹æ˜¯objectã€‚
ä½œç”¨åŸŸé“¾å¯ä»¥çœ‹ä½œæ˜¯ä¸€ä¸ªæ ‘å½¢ç»“æ„ï¼Œç”±æ ¹èŠ‚ç‚¹windowå‘ä¸‹æ‰©æ•£ï¼Œä¸‹å±‚èŠ‚ç‚¹å¯ä»¥è®¿é—®ä¸Šå±‚èŠ‚ç‚¹ï¼Œä½†æ˜¯ä¸Šå±‚èŠ‚ç‚¹æ— æ³•è®¿é—®ä¸‹å±‚èŠ‚ç‚¹ï¼Œäº§ç”Ÿé—­åŒ…çš„å‡½æ•°ä½œç”¨åŸŸå±äºèŠ‚ç‚¹ä¸­çš„ä¸€ä¸ªï¼Œå‘ä¸‹æ‰©æ•£åé—­åŒ…å‡½æ•°äº§ç”Ÿå¶å­èŠ‚ç‚¹ï¼Œå¶å­èŠ‚ç‚¹ä¹‹é—´å¯ä»¥äº’ç›¸è®¿é—®ï¼Œå½“è®¿é—®çš„å˜é‡åœ¨å¶å­èŠ‚ç‚¹ä¸­æ— æ³•æ‰¾åˆ°æ—¶ï¼Œå‘ä¸Šå±‚èŠ‚ç‚¹æŸ¥æ‰¾ï¼Œç›´åˆ°è¢«æ‰¾åˆ°ä¸ºæ­¢ï¼Œè¿™ä¸ªæ¦‚å¿µæœ‰ç‚¹ç±»ä¼¼åŸå‹é“¾ä¸Šçš„å±æ€§æŸ¥æ‰¾ã€‚</p>

<h2 id="npmæ¨¡å—å®‰è£…æœºåˆ¶">npmæ¨¡å—å®‰è£…æœºåˆ¶</h2>
<p>å®‰è£…æ¨¡å—åˆ°node_modulesç›®å½•ï¼š</p>
<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>$ npm install &lt;packageName&gt;
</code></pre></div></div>

<p>æ›´æ–°å·²å®‰è£…æ¨¡å—ï¼š</p>
<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>$ npm update &lt;packageName&gt;
</code></pre></div></div>

<p>npmæ¨¡å—ä»“åº“æä¾›äº†ä¸€ä¸ªæŸ¥è¯¢æœåŠ¡ï¼Œå«åš registry ï¼Œä»¥ npmjs.org æä¾›çš„ä»“åº“ä¸ºä¾‹ï¼Œå®ƒçš„æŸ¥è¯¢æœåŠ¡ç½‘å€æ˜¯ https://registry.npmjs.org/ï¼Œ
åœ¨ä»“åº“æŸ¥è¯¢åœ°å€åé¢åŠ ä¸Šæ¨¡å—åç§°å°±å¯ä»¥çœ‹åˆ°ä»“åº“ä¸­æ¨¡å—çš„ç‰ˆæœ¬ä¿¡æ¯ï¼š</p>
<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>https://registry.npmjs.org/react
</code></pre></div></div>
<p>å…¶æ•ˆæœç­‰åŒäºä»¥ä¸‹å‘½ä»¤ï¼š</p>
<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>$ npm view react
$ npm info react
$ npm show react
$ npm v react
</code></pre></div></div>

<p>ä¹Ÿå¯ä»¥æŸ¥è¯¢æ¨¡å—çš„æŒ‡å®šç‰ˆæœ¬ä¿¡æ¯ï¼š</p>
<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>https://registry.npmjs.org/react/v0.14.6
</code></pre></div></div>
<p>è¯¥ç‰ˆæœ¬çš„å‹ç¼©åŒ…åœ¨å¦‚ä¸‹ç‰‡æ®µä¸­æŒ‡å®šï¼š</p>
<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>dist: {
  shasum: '2a57c2cf8747b483759ad8de0fa47fb0c5cf5c6a',
  tarball: 'http://registry.npmjs.org/react/-/react-0.14.6.tgz' 
},
</code></pre></div></div>
<p>npm installæˆ–npm updateå‘½ä»¤ï¼Œä» registry ä¸‹è½½å‹ç¼©åŒ…ä¹‹åï¼Œéƒ½å­˜æ”¾åœ¨æœ¬åœ°çš„ç¼“å­˜ç›®å½•ã€‚åœ¨ Linux æˆ– Mac é»˜è®¤æ˜¯ç”¨æˆ·ä¸»ç›®å½•ä¸‹çš„.npmç›®å½•ï¼Œåœ¨ Windows é»˜è®¤æ˜¯%AppData%/npm-cacheï¼Œå¯ä»¥é€šè¿‡é…ç½®æŸ¥è¯¢ï¼š</p>
<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>$ npm config get cache
$HOME/.npm
</code></pre></div></div>
<p>æ¯ä¸ªæ¨¡å—çš„æ¯ä¸ªç‰ˆæœ¬ï¼Œéƒ½æœ‰ä¸€ä¸ªè‡ªå·±çš„å­ç›®å½•ï¼Œé‡Œé¢æ˜¯ä»£ç çš„å‹ç¼©åŒ…package.tgzæ–‡ä»¶ï¼Œä»¥åŠä¸€ä¸ªæè¿°æ–‡ä»¶package/package.jsonã€‚
é™¤æ­¤ä¹‹å¤–ï¼Œè¿˜ä¼šç”Ÿæˆä¸€ä¸ª{cache}/{hostname}/{path}/.cache.jsonæ–‡ä»¶ã€‚æ¯”å¦‚ï¼Œä» npm å®˜æ–¹ä»“åº“ä¸‹è½½ react æ¨¡å—çš„æ—¶å€™ï¼Œå°±ä¼šç”Ÿæˆregistry.npmjs.org/react/.cache.jsonæ–‡ä»¶ã€‚è¿™ä¸ªæ–‡ä»¶ä¿å­˜çš„æ˜¯ï¼Œæ‰€æœ‰ç‰ˆæœ¬çš„ä¿¡æ¯ï¼Œä»¥åŠè¯¥æ¨¡å—æœ€è¿‘ä¿®æ”¹çš„æ—¶é—´å’Œæœ€æ–°ä¸€æ¬¡è¯·æ±‚æ—¶æœåŠ¡å™¨è¿”å›çš„ ETag ã€‚å¯¹äºä¸€äº›ä¸æ˜¯å¾ˆå…³é”®çš„æ“ä½œï¼ˆæ¯”å¦‚npm searchæˆ–npm viewï¼‰ï¼Œnpmä¼šå…ˆæŸ¥çœ‹.cache.jsoné‡Œé¢çš„æ¨¡å—æœ€è¿‘æ›´æ–°æ—¶é—´ï¼Œè·Ÿå½“å‰æ—¶é—´çš„å·®è·ï¼Œæ˜¯ä¸æ˜¯åœ¨å¯æ¥å—çš„èŒƒå›´ä¹‹å†…ã€‚å¦‚æœæ˜¯çš„ï¼Œå°±ä¸å†å‘è¿œç¨‹ä»“åº“å‘å‡ºè¯·æ±‚ï¼Œè€Œæ˜¯ç›´æ¥è¿”å›.cache.jsonçš„æ•°æ®ã€‚</p>

<p>æ¸…ç©ºç¼“å­˜çš„å‘½ä»¤ï¼š</p>
<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>$ rm -rf ~/.npm/*
$ npm cache clean
</code></pre></div></div>

<p>Nodeæ¨¡å—çš„å®‰è£…è¿‡ç¨‹ï¼š</p>
<ul>
  <li>å‘å‡ºnpm installå‘½ä»¤</li>
  <li>npm å‘ registry æŸ¥è¯¢æ¨¡å—å‹ç¼©åŒ…çš„ç½‘å€</li>
  <li>ä¸‹è½½å‹ç¼©åŒ…ï¼Œå­˜æ”¾åœ¨~/.npmç›®å½•</li>
  <li>è§£å‹å‹ç¼©åŒ…åˆ°å½“å‰é¡¹ç›®çš„node_modulesç›®å½•
ä¸€ä¸ªæ¨¡å—å®‰è£…ä»¥åï¼Œæœ¬åœ°å…¶å®ä¿å­˜äº†ä¸¤ä»½ã€‚ä¸€ä»½æ˜¯~/.npmç›®å½•ä¸‹çš„å‹ç¼©åŒ…ï¼Œå¦ä¸€ä»½æ˜¯node_modulesç›®å½•ä¸‹è§£å‹åçš„ä»£ç ã€‚ä½†æ˜¯ï¼Œè¿è¡Œnpm installçš„æ—¶å€™ï¼Œé»˜è®¤åªä¼šæ£€æŸ¥node_modulesç›®å½•ï¼Œè€Œä¸ä¼šæ£€æŸ¥~/.npmç›®å½•ã€‚ä¹Ÿå°±æ˜¯è¯´ï¼Œå¦‚æœä¸€ä¸ªæ¨¡å—åœ¨ï½/.npmä¸‹æœ‰å‹ç¼©åŒ…ï¼Œä½†æ˜¯æ²¡æœ‰å®‰è£…åœ¨node_modulesç›®å½•ä¸­ï¼Œnpm ä¾ç„¶ä¼šä»è¿œç¨‹ä»“åº“ä¸‹è½½ä¸€æ¬¡æ–°çš„å‹ç¼©åŒ…ã€‚npm æä¾›äº†ä¸€ä¸ªâ€“cache-minå‚æ•°ï¼Œç”¨äºä»ç¼“å­˜ç›®å½•å®‰è£…æ¨¡å—ã€‚</li>
</ul>

<h2 id="å®¹å™¨çš„æ°´å¹³å±…ä¸­">å®¹å™¨çš„æ°´å¹³å±…ä¸­</h2>

<div class="language-css highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nt">div</span><span class="nf">#container</span> <span class="p">{</span>
 <span class="nl">width</span><span class="p">:</span><span class="m">760px</span><span class="p">;</span>
 <span class="nl">margin</span><span class="p">:</span><span class="m">0</span> <span class="nb">auto</span><span class="p">;</span>
<span class="p">}</span>
</code></pre></div></div>

<h2 id="æ–‡å­—çš„å‚ç›´å±…ä¸­">æ–‡å­—çš„å‚ç›´å±…ä¸­</h2>
<p>å•è¡Œæ–‡å­—çš„å‚ç›´å±…ä¸­ï¼Œåªè¦å°†è¡Œé«˜ä¸å®¹å™¨é«˜è®¾ä¸ºç›¸ç­‰å³å¯ã€‚æ¯”å¦‚ï¼Œå®¹å™¨ä¸­æœ‰ä¸€è¡Œæ•°å­—ã€‚</p>
<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>div#container {
  height: 35px; 
  line-height: 35px;
}

&lt;div id="container"&gt;1234567890&lt;/div&gt;
</code></pre></div></div>
<p>å¦‚æœæœ‰nè¡Œæ–‡å­—ï¼Œé‚£ä¹ˆå°†è¡Œé«˜è®¾ä¸ºå®¹å™¨é«˜åº¦çš„nåˆ†ä¹‹ä¸€å³å¯ã€‚</p>

<h2 id="å®¹å™¨çš„å‚ç›´å±…ä¸­">å®¹å™¨çš„å‚ç›´å±…ä¸­</h2>
<p>å°†å¤§å®¹å™¨çš„å®šä½ä¸ºrelativeã€‚å°†å°å®¹å™¨å®šä½ä¸ºabsoluteï¼Œå†å°†å®ƒçš„å·¦ä¸Šè§’æ²¿yè½´ä¸‹ç§»50%ï¼Œæœ€åå°†å®ƒmargin-topä¸Šç§»æœ¬èº«é«˜åº¦çš„50%å³å¯ã€‚</p>
<div class="language-css highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nt">div</span><span class="nf">#big</span><span class="p">{</span>
  <span class="nl">position</span><span class="p">:</span><span class="nb">relative</span><span class="p">;</span>
  <span class="nl">height</span><span class="p">:</span><span class="m">480px</span><span class="p">;</span>
<span class="p">}</span>

<span class="nt">div</span><span class="nf">#small</span> <span class="p">{</span>
  <span class="nl">position</span><span class="p">:</span> <span class="nb">absolute</span><span class="p">;</span>
  <span class="nl">top</span><span class="p">:</span> <span class="m">50%</span><span class="p">;</span>
  <span class="nl">height</span><span class="p">:</span> <span class="m">240px</span><span class="p">;</span>
  <span class="nl">margin-top</span><span class="p">:</span> <span class="m">-120px</span><span class="p">;</span>
<span class="p">}</span>

<span class="o">&lt;</span><span class="nt">div</span> <span class="nt">id</span><span class="o">=</span><span class="s1">"big"</span><span class="o">&gt;</span>
  <span class="o">&lt;</span><span class="nt">div</span> <span class="nt">id</span><span class="o">=</span><span class="s1">"small"</span><span class="o">&gt;</span>
  <span class="o">&lt;/</span><span class="nt">div</span><span class="o">&gt;</span>
<span class="o">&lt;/</span><span class="nt">div</span><span class="o">&gt;</span>
</code></pre></div></div>
<p>ä½¿ç”¨åŒæ ·çš„æ€è·¯ï¼Œä¹Ÿå¯ä»¥åšå‡ºæ°´å¹³å±…ä¸­çš„æ•ˆæœã€‚</p>

<h2 id="å›¾ç‰‡å®½åº¦çš„è‡ªé€‚åº”">å›¾ç‰‡å®½åº¦çš„è‡ªé€‚åº”</h2>
<p>å¦‚ä½•ä½¿å¾—è¾ƒå¤§çš„å›¾ç‰‡ï¼Œèƒ½å¤Ÿè‡ªåŠ¨é€‚åº”å°å®¹å™¨çš„å®½åº¦ï¼š</p>
<div class="language-css highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nt">img</span> <span class="p">{</span><span class="nl">max-width</span><span class="p">:</span> <span class="m">100%</span><span class="p">}</span>
</code></pre></div></div>

<h2 id="linkçŠ¶æ€çš„è®¾ç½®é¡ºåº">linkçŠ¶æ€çš„è®¾ç½®é¡ºåº</h2>
<p>linkçš„å››ç§çŠ¶æ€ï¼Œéœ€è¦æŒ‰ç…§ä¸‹é¢çš„å‰åé¡ºåºè¿›è¡Œè®¾ç½®ï¼š</p>
<div class="language-css highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nt">a</span><span class="nd">:link</span> 
<span class="nt">a</span><span class="nd">:visited</span> 
<span class="nt">a</span><span class="nd">:hover</span> 
<span class="nt">a</span><span class="nd">:active</span>
</code></pre></div></div>

<h2 id="ç”¨å›¾ç‰‡å……å½“åˆ—è¡¨æ ‡å¿—">ç”¨å›¾ç‰‡å……å½“åˆ—è¡¨æ ‡å¿—</h2>
<p>é»˜è®¤æƒ…å†µä¸‹ï¼Œæµè§ˆå™¨ä½¿ç”¨ä¸€ä¸ªé»‘åœ†åœˆä½œä¸ºåˆ—è¡¨æ ‡å¿—ï¼Œå¯ä»¥ç”¨å›¾ç‰‡å–ä»£å®ƒï¼š</p>
<div class="language-css highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nt">ul</span> <span class="p">{</span><span class="nl">list-style</span><span class="p">:</span> <span class="nb">none</span><span class="p">}</span>
<span class="nt">ul</span> <span class="nt">li</span> <span class="p">{</span> 
  <span class="nl">background-image</span><span class="p">:</span> <span class="sx">url("path-to-your-image")</span><span class="p">;</span> 
  <span class="nl">background-repeat</span><span class="p">:</span> <span class="nb">none</span><span class="p">;</span> 
  <span class="nl">background-position</span><span class="p">:</span> <span class="m">0</span> <span class="m">0.5em</span><span class="p">;</span> 
<span class="p">}</span>
</code></pre></div></div>

:ET