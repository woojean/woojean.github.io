# 什么时候可以使用dynamic_cast代替虚函数？

如果我们需要在派生类中增加新的成员函数（假设为函数f），但又无法取得基类的源代码，因而无法在基类中增加相应的虚函数，这时，可以在派生类中增加非虚成员函数。但这样一来，就无法用基类指针来调用f。如果在程序中需要通过基类指针（如果用该继承层次的某个类中所包含的指向基类对象的指针数据成员p）来调用f，则必须使用dynamic_cast将p转换为指向派生类的指针，才能调用f。也就是说，如果无法为基类增加虚函数，就可以使用dynamic_cast代替虚函数。